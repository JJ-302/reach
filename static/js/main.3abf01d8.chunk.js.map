{"version":3,"sources":["Utils.js","components/Error.js","components/ProjectForm.js","components/ResourceForm.js","components/EditAccount.js","components/SideBar.js","components/GanttIndexHeader.js","components/Task.js","components/TaskForm.js","components/Project.js","components/ChartBar.js","components/Gantt.js","components/Main.js","components/SignIn.js","components/SignUp.js","components/App.js","serviceWorker.js","index.js"],"names":["Utils","apiEndpoint","action","id","uriPattern","method","Moment","Date","subtract","startOf","Messages","props","errors","map","err","className","key","error","title","ProjectForm","handleCreate","state","name","description","url","buildRequestUrl","token","localStorage","getItem","params","fetch","headers","body","JSON","stringify","then","_res","json","res","is_created","project","closeModal","refresh","setState","catch","onChangeName","event","target","value","onChangeDescription","onClickOverlay","stopPropagation","this","onClick","length","type","placeholder","onChange","PureComponent","ResourceForm","getIndexColors","is_authenticated","colors","pickedColor","color_id","onPickColor","dataset","color","ColorPallets","modifier","String","style","backgroundColor","data-color","EditAccuount","getCurrentAccount","user","avatar","email","uri","handleUpdate","FormData","append","is_updated","onChangeFile","files","URL","createObjectURL","onChangeEmail","closeEditAccount","htmlFor","icon","src","alt","Component","SideBar","openProjectForm","projectFormVisible","closeProjectForm","openResourceForm","resourceFormVisible","closeResourceForm","openEditAccount","editAccuountVisible","toggleAccountMenu","accountMenuVisible","changeMode","signOut","removeItem","isSignOut","refreshProject","getProjectIndex","to","notExist","GanttIndexHeader","getUserIndex","users","search","projectId","taskName","startDateFrom","startDateTo","endDateFrom","endDateTo","extendFrom","extendTo","orderDuration","orderStartDate","orderEndDate","orderExtend","inCharge","selectedResources","project_id","task_name","start_date","from","order","end_date","extend","duration","in_charge","resources","projects","updateProject","sortingByDateRange","rangeStart","rangeEnd","onChangeRangeStart","onChangeStartDateRangeS","onChangeRangeEnd","onChangeStartDateRangeE","onChangeEndDateRangeS","onChangeEndDateRangeE","onChangeExtendRangeS","onChangeExtendRangeE","onClickResource","searchByResourceVisible","onClickName","searchByNameVisible","onClickDate","currentTarget","searchByDateVisible","dateType","onClickDuration","searchByDurationVisible","onClickInCharge","searchByUsersVisible","onChangeOrder","a","by","onChangeProject","onChangeTask","onClickAvatar","inChargeCopy","targetIndex","indexOf","push","splice","onClickResourceIcon","selectedResourcesCopy","clearSearchName","clearSearchStartDate","clearSearchEndDate","clearSearchExtend","clearSearchDuration","clearSearchInCharge","closeAllModal","resourceIconClass","dateProps","data-type","selected","OrderBy","data-by","aria-label","label","selection","SearchByDuration","SearchByDate","dateFormat","showWeekNumbers","placeholderText","SearchByName","Users","data-id","SearchByUsers","Resources","resource","SearchByResource","Avatars","members","member","i","Task","handleDestroy","is_delete","task","index","tasks","destroyMode","data-action","startDate","endDate","TaskForm","getTaskFormValue","editTaskFormValue","taskID","userIds","resourceId","stringUserIds","userId","onChangeResource","onChangeStartDate","date","onChangeEndDate","createTask","request","preparingRequest","diff","resource_id","user_ids","Project","openModal","isVisible","refreshTask","Projects","mode","ChartBar","onMouseEnter","isOverflowX","window","innerWidth","clientX","isOverflowY","innerHeight","clientY","offsetX","offsetY","isHover","onMouseLeave","chartWidth","data","width","Members","Window","top","left","GanttTask","calcOffset","start","baseChartWidth","calcOffsetForWeeks","Math","ceil","calcChartWidthForWeeks","end","endOf","isBefore","isSameOrBefore","isBeforeForWeek","dateRangeStart","scheduleType","offset","paddingLeft","Gantt","dateRangeEnd","scheduleAttr","day","attr","formatDate","format","get","whatDayIsToday","startOfWeek","Schedule","schedules","add","Header","weeks","days","onKeyUp","role","tabIndex","Main","changeScheduleType","projectsCopy","slice","tasksCopy","existingTask","_project","filter","SignIn","handleSignIn","password","result","setItem","isSignIn","emailOnChange","passwordOnChange","SignUp","handleSignUp","passwordConfirmation","onChangePassword","onChangePasswordConfirmation","Home","isAuthenticated","App","path","exact","Boolean","location","hostname","match","library","fab","fas","far","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.3abf01d8.chunk.js","sourcesContent":["import Moment from 'moment'\n\nexport default class Utils {\n  static buildRequestUrl(apiEndpoint) {\n    const baseUrl = 'http://localhost:3001'\n    return baseUrl + apiEndpoint\n  }\n\n  static preparingRequest(action, id) {\n    switch (action) {\n      case 'new':\n        return { uriPattern: '/tasks', method: 'POST' }\n      case 'edit':\n        return { uriPattern: `/tasks/${id}`, method: 'PUT' }\n      default:\n        return null\n    }\n  }\n\n  static dateRangeStart() {\n    return Moment(new Date()).subtract(2, 'weeks').startOf('days')\n  }\n\n  static dateRangeEnd() {\n    return Moment('2020/4/1', 'YYYY/MM/DD')\n  }\n}\n","import React from 'react'\n\nimport '../css/Error.scss'\n\nconst error = ({ action, errors }) => {\n  const title = `${action} failed!`\n  return (\n    <div className=\"error\">\n      <div className=\"error__title\">{title}</div>\n      <Messages errors={errors} />\n    </div>\n  )\n}\n\nconst Messages = (props) => (\n  props.errors.map((err) => (\n    <div className=\"error__message\" key={err.error}>{err.error}</div>\n  ))\n)\n\nexport default error\n","import React, { PureComponent } from 'react'\n\nimport Utils from '../Utils'\nimport ErrorMessage from './Error'\nimport '../css/Form.scss'\n\nexport default class ProjectForm extends PureComponent {\n  constructor(props) {\n    super(props)\n    this.state = {\n      name: '',\n      description: '',\n      errors: [],\n    }\n  }\n\n  handleCreate = () => {\n    const { name, description } = this.state\n    const url = Utils.buildRequestUrl('/projects')\n    const token = localStorage.getItem('token')\n    const params = { name, description }\n    fetch(url, {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json', 'X-Reach-token': token },\n      body: JSON.stringify(params),\n    })\n      .then((_res) => _res.json())\n      .then((res) => {\n        const { is_created, errors, project } = res\n        if (is_created) {\n          const { closeModal, refresh } = this.props\n          refresh(project)\n          closeModal()\n        } else {\n          this.setState({ errors })\n        }\n      })\n      .catch(() => {\n        // TODO\n      })\n  }\n\n  onChangeName = (event) => {\n    const name = event.target.value\n    this.setState({ name })\n  }\n\n  onChangeDescription = (event) => {\n    const description = event.target.value\n    this.setState({ description })\n  }\n\n  onClickOverlay = (event) => {\n    event.stopPropagation()\n  }\n\n  render() {\n    const { closeModal, action } = this.props\n    const { name, description, errors } = this.state\n    return (\n      <div className=\"modalOverlay\" onClick={closeModal}>\n        <div className=\"modalForm\" onClick={this.onClickOverlay}>\n          <div className=\"modalForm__title\">\n            {action}\n            Project\n          </div>\n          {errors.length !== 0 && <ErrorMessage action=\"Project creation\" errors={errors} />}\n          <input\n            type=\"text\"\n            className=\"modalForm__textInput\"\n            placeholder=\"Type a project name\"\n            value={name}\n            onChange={this.onChangeName}\n          />\n          <textarea\n            className=\"modalForm__textarea\"\n            placeholder=\"Type a project description\"\n            value={description}\n            onChange={this.onChangeDescription}\n          />\n          <button type=\"button\" onClick={this.handleCreate} className=\"modalForm__button\">\n            {action}\n          </button>\n        </div>\n      </div>\n    )\n  }\n}\n","import React, { PureComponent } from 'react'\n\nimport Utils from '../Utils'\nimport ErrorMessage from './Error'\n\nexport default class ResourceForm extends PureComponent {\n  constructor(props) {\n    super(props)\n    this.state = {\n      name: '',\n      token: '',\n      colors: [],\n      pickedColor: '',\n      errors: [],\n    }\n  }\n\n  componentDidMount() {\n    this.getIndexColors()\n  }\n\n  getIndexColors = () => {\n    const token = localStorage.getItem('token')\n    const url = Utils.buildRequestUrl('/colors')\n    fetch(url, {\n      method: 'GET',\n      headers: { 'X-Reach-token': token },\n    })\n      .then((_res) => _res.json())\n      .then(({ is_authenticated, colors }) => {\n        if (is_authenticated) {\n          this.setState({ colors, token })\n        }\n      })\n      .catch(() => {\n        // TODO\n      })\n  }\n\n  handleCreate = () => {\n    const { closeModal } = this.props\n    const { pickedColor, token, name } = this.state\n    const params = { name, color_id: pickedColor }\n    const url = Utils.buildRequestUrl('/resources')\n    fetch(url, {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json', 'X-Reach-token': token },\n      body: JSON.stringify(params),\n    })\n      .then((_res) => _res.json())\n      .then((res) => {\n        const { errors, is_created } = res\n        if (is_created) {\n          closeModal()\n        } else {\n          this.setState({ errors })\n        }\n      })\n      .catch(() => {\n        // TODO\n      })\n  }\n\n  onPickColor = (event) => {\n    const pickedColor = event.target.dataset.color\n    this.setState({ pickedColor })\n  }\n\n  onChangeName = (event) => {\n    const name = event.target.value\n    this.setState({ name })\n  }\n\n  onClickOverlay = (event) => {\n    event.stopPropagation()\n  }\n\n  render() {\n    const { closeModal, action } = this.props\n    const {\n      name,\n      colors,\n      pickedColor,\n      errors,\n    } = this.state\n\n    return (\n      <div className=\"modalOverlay\" onClick={closeModal}>\n        <div className=\"modalForm\" onClick={this.onClickOverlay}>\n          <div className=\"modalForm__title\">\n            {action}\n            Resource\n          </div>\n          {errors.length !== 0 && <ErrorMessage action=\"Resource creation\" errors={errors} />}\n          <input\n            type=\"text\"\n            className=\"modalForm__textInput\"\n            placeholder=\"Type a resource name\"\n            value={name}\n            onChange={this.onChangeName}\n          />\n          <div className=\"modalForm__label\">Chart color</div>\n          <div className=\"colorPallet\">\n            <ColorPallets\n              colors={colors}\n              pickedColor={pickedColor}\n              onPickColor={this.onPickColor}\n            />\n          </div>\n          <button type=\"button\" onClick={this.handleCreate} className=\"modalForm__button\">\n            {action}\n          </button>\n        </div>\n      </div>\n    )\n  }\n}\n\nconst ColorPallets = ({ colors, pickedColor, onPickColor }) => (\n  colors.map((color) => {\n    const modifier = pickedColor === String(color.id) ? '--selected' : ''\n    const className = `colorPallet__body${modifier}`\n    return (\n      <div key={color.id} className=\"colorPallet__edge\">\n        <div\n          className={className}\n          style={{ backgroundColor: color.value }}\n          data-color={color.id}\n          onClick={onPickColor}\n        />\n      </div>\n    )\n  })\n)\n","import React, { Component } from 'react'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\n\nimport ErrorMessage from './Error'\nimport Utils from '../Utils'\nimport '../css/Session.scss'\n\nexport default class EditAccuount extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      uri: '',\n      avatar: null,\n      name: '',\n      email: '',\n      errors: [],\n    }\n  }\n\n  componentDidMount() {\n    this.token = localStorage.getItem('token')\n    this.getCurrentAccount()\n  }\n\n  getCurrentAccount = () => {\n    const url = Utils.buildRequestUrl('/users/edit')\n    fetch(url, {\n      method: 'GET',\n      headers: { 'X-Reach-token': this.token },\n    })\n      .then((_res) => _res.json())\n      .then(({ is_authenticated, user }) => {\n        if (is_authenticated) {\n          const { avatar, name, email } = user\n          this.avatar = avatar\n          this.name = name\n          this.email = email\n          this.setState({ uri: avatar, name, email })\n        } else {\n          // TODO\n        }\n      })\n      .catch(() => {\n        // TODO\n      })\n  }\n\n  handleUpdate = () => {\n    const {\n      avatar,\n      name,\n      email,\n    } = this.state\n\n    const params = new FormData()\n    params.append('user[name]', name)\n    params.append('user[email]', email)\n    if (avatar) {\n      params.append('user[avatar]', avatar)\n    }\n\n    const url = Utils.buildRequestUrl('/users/update')\n    fetch(url, {\n      method: 'PATCH',\n      headers: { 'X-Reach-token': this.token },\n      body: params,\n    })\n      .then((_res) => _res.json())\n      .then(({ is_updated, errors }) => {\n        if (is_updated) {\n          const { refresh } = this.props\n          refresh()\n        } else {\n          this.setState({ errors })\n        }\n      })\n      .catch(() => {\n        // TODO\n      })\n  }\n\n  onChangeFile = (event) => {\n    const avatar = event.target.files[0]\n    const uri = URL.createObjectURL(avatar)\n    this.setState({ uri, avatar })\n  }\n\n  onChangeName = (event) => {\n    const name = event.target.value\n    this.setState({ name })\n  }\n\n  onChangeEmail = (event) => {\n    const email = event.target.value\n    this.setState({ email })\n  }\n\n  closeEditAccount = () => {\n    const { closeEditAccount } = this.props\n    closeEditAccount()\n  }\n\n  onClickOverlay = (event) => event.stopPropagation()\n\n  render() {\n    const {\n      uri,\n      name,\n      email,\n      errors,\n    } = this.state\n\n    return (\n      <div className=\"background--edit\" onClick={this.closeEditAccount}>\n        <div className=\"session\" onClick={this.onClickOverlay}>\n          <div className=\"session__title\">Edit account</div>\n          {errors.length !== 0 && <ErrorMessage action=\"Registration\" errors={errors} />}\n          <label htmlFor=\"avatarForm\" className=\"session__avatar\">\n            <input\n              id=\"avatarForm\"\n              type=\"file\"\n              className=\"session__fileField\"\n              onChange={this.onChangeFile}\n            />\n            {uri === ''\n              ? <FontAwesomeIcon icon={['fas', 'user']} className=\"session__fileIcon\" />\n              : <img src={uri} alt=\"avatar\" className=\"session__preview\" />}\n          </label>\n          <div className=\"session__fileLabel\">Upload your avatar</div>\n          <input\n            type=\"text\"\n            className=\"session__name\"\n            placeholder=\"Name\"\n            value={name}\n            onChange={this.onChangeName}\n          />\n          <input\n            type=\"text\"\n            className=\"session__email\"\n            placeholder=\"Email\"\n            value={email}\n            onChange={this.onChangeEmail}\n          />\n          <button type=\"button\" onClick={this.handleUpdate} className=\"session__submit\">\n            Update\n          </button>\n        </div>\n      </div>\n    )\n  }\n}\n","import React, { PureComponent } from 'react'\nimport { Redirect } from 'react-router-dom'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\n\nimport ProjectForm from './ProjectForm'\nimport ResourceForm from './ResourceForm'\nimport EditAccount from './EditAccount'\nimport '../css/SideBar.scss'\n\nexport default class SideBar extends PureComponent {\n  constructor(props) {\n    super(props)\n    this.state = {\n      projectFormVisible: false,\n      resourceFormVisible: false,\n      accountMenuVisible: false,\n      editAccuountVisible: false,\n      isSignOut: false,\n    }\n  }\n\n  openProjectForm = () => this.setState({ projectFormVisible: true })\n\n  closeProjectForm = () => this.setState({ projectFormVisible: false })\n\n  openResourceForm = () => this.setState({ resourceFormVisible: true })\n\n  closeResourceForm = () => this.setState({ resourceFormVisible: false })\n\n  openEditAccount = () => this.setState({ editAccuountVisible: true })\n\n  closeEditAccount = () => this.setState({ editAccuountVisible: false })\n\n  toggleAccountMenu = () => {\n    const { accountMenuVisible } = this.state\n    this.setState({ accountMenuVisible: !accountMenuVisible })\n  }\n\n  changeMode = () => {\n    const { changeMode } = this.props\n    changeMode()\n  }\n\n  signOut = () => {\n    localStorage.removeItem('token')\n    this.setState({ isSignOut: true })\n  }\n\n  render() {\n    const { refreshProject, getProjectIndex } = this.props\n    const {\n      projectFormVisible,\n      resourceFormVisible,\n      accountMenuVisible,\n      editAccuountVisible,\n      isSignOut,\n    } = this.state\n\n    return (\n      isSignOut ? <Redirect to=\"/signin\" /> : (\n        <div className=\"sidebar\">\n          <div className=\"sidebar__iconWrapper--plus\" onClick={this.openProjectForm}>\n            <FontAwesomeIcon icon={['fas', 'plus']} className=\"sidebar__icon\" />\n          </div>\n          <div className=\"sidebar__iconWrapper--minus\" onClick={this.changeMode}>\n            <FontAwesomeIcon icon={['fas', 'minus']} className=\"sidebar__icon\" />\n          </div>\n          <div className=\"sidebar__iconWrapper--resource\" onClick={this.openResourceForm}>\n            <FontAwesomeIcon icon={['fas', 'tags']} className=\"sidebar__icon\" />\n          </div>\n          <div className=\"sidebar__iconWrapper--account\" onClick={this.toggleAccountMenu}>\n            <FontAwesomeIcon icon={['fas', 'user']} className=\"sidebar__icon\" />\n          </div>\n          {accountMenuVisible && (\n            <div className=\"overlay\" onClick={this.toggleAccountMenu}>\n              <div className=\"accountMenu\">\n                <div className=\"accountMenu__edit\" onClick={this.openEditAccount}>Edit account</div>\n                <div className=\"accountMenu__signout\" onClick={this.signOut}>Sign out</div>\n              </div>\n            </div>\n          )}\n          {projectFormVisible\n            && <ProjectForm action=\"Create\" refresh={refreshProject} closeModal={this.closeProjectForm} />}\n          {resourceFormVisible && <ResourceForm action=\"Create\" closeModal={this.closeResourceForm} />}\n          {editAccuountVisible\n            && <EditAccount refresh={getProjectIndex} closeEditAccount={this.closeEditAccount} />}\n        </div>\n      )\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport DatePicker from 'react-datepicker'\nimport 'react-datepicker/dist/react-datepicker.css'\n\nimport Utils from '../Utils'\n\nconst notExist = -1\n\nexport default class GanttIndexHeader extends Component {\n  constructor(props) {\n    super(props)\n    this.token = localStorage.getItem('token')\n    this.state = {\n      users: [],\n      searchByNameVisible: false,\n      searchByDateVisible: false,\n      searchByDurationVisible: false,\n      searchByUsersVisible: false,\n      searchByResourceVisible: false,\n      dateType: '',\n      projectId: '',\n      taskName: '',\n      startDateFrom: '',\n      startDateTo: '',\n      endDateFrom: '',\n      endDateTo: '',\n      extendFrom: '',\n      extendTo: '',\n      orderDuration: '',\n      orderStartDate: '',\n      orderEndDate: '',\n      orderExtend: '',\n      inCharge: [],\n      selectedResources: [],\n    }\n  }\n\n  componentDidMount() {\n    this.getUserIndex()\n  }\n\n  getUserIndex = () => {\n    const url = Utils.buildRequestUrl('/users')\n    fetch(url, {\n      method: 'GET',\n      headers: { 'X-Reach-token': this.token },\n    })\n      .then((_res) => _res.json())\n      .then(({ users, is_authenticated }) => {\n        if (is_authenticated) {\n          this.setState({ users })\n        }\n      })\n      .catch(() => {\n        // TODO\n      })\n  }\n\n  search = () => {\n    const {\n      projectId,\n      taskName,\n      startDateFrom,\n      startDateTo,\n      endDateFrom,\n      endDateTo,\n      extendFrom,\n      extendTo,\n      orderDuration,\n      orderStartDate,\n      orderEndDate,\n      orderExtend,\n      inCharge,\n      selectedResources,\n    } = this.state\n\n    const url = Utils.buildRequestUrl('/tasks/search')\n    const params = {\n      project_id: projectId,\n      task_name: taskName,\n      start_date: { from: startDateFrom, to: startDateTo, order: orderStartDate },\n      end_date: { from: endDateFrom, to: endDateTo, order: orderEndDate },\n      extend: { from: extendFrom, to: extendTo, order: orderExtend },\n      duration: { order: orderDuration },\n      in_charge: inCharge,\n      resources: selectedResources,\n    }\n\n    fetch(url, {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify(params),\n    })\n      .then((_res) => _res.json())\n      .then(({ projects }) => {\n        const { updateProject } = this.props\n        updateProject(projects)\n      })\n      .catch(() => {\n        // TODO\n      })\n  }\n\n  sortingByDateRange = (type) => {\n    const {\n      startDateFrom,\n      startDateTo,\n      endDateFrom,\n      endDateTo,\n      extendFrom,\n      extendTo,\n      orderStartDate,\n      orderEndDate,\n      orderExtend,\n    } = this.state\n\n    switch (type) {\n      case 'start':\n        return {\n          rangeStart: startDateFrom,\n          rangeEnd: startDateTo,\n          onChangeRangeStart: this.onChangeStartDateRangeS,\n          onChangeRangeEnd: this.onChangeStartDateRangeE,\n          order: orderStartDate,\n        }\n      case 'end':\n        return {\n          rangeStart: endDateFrom,\n          rangeEnd: endDateTo,\n          onChangeRangeStart: this.onChangeEndDateRangeS,\n          onChangeRangeEnd: this.onChangeEndDateRangeE,\n          order: orderEndDate,\n        }\n      case 'extend':\n        return {\n          rangeStart: extendFrom,\n          rangeEnd: extendTo,\n          onChangeRangeStart: this.onChangeExtendRangeS,\n          onChangeRangeEnd: this.onChangeExtendRangeE,\n          order: orderExtend,\n        }\n      default:\n        return {}\n    }\n  }\n\n  onClickResource = () => {\n    const { searchByResourceVisible } = this.state\n    this.setState({ searchByResourceVisible: !searchByResourceVisible })\n  }\n\n  onClickName = () => {\n    const { searchByNameVisible } = this.state\n    this.setState({ searchByNameVisible: !searchByNameVisible })\n  }\n\n  onClickDate = (event) => {\n    const { type } = event.currentTarget.dataset\n    const { searchByDateVisible } = this.state\n    this.setState({ searchByDateVisible: !searchByDateVisible, dateType: type })\n  }\n\n  onClickDuration = () => {\n    const { searchByDurationVisible } = this.state\n    this.setState({ searchByDurationVisible: !searchByDurationVisible })\n  }\n\n  onClickInCharge = () => {\n    const { searchByUsersVisible } = this.state\n    this.setState({ searchByUsersVisible: !searchByUsersVisible })\n  }\n\n  onChangeOrder = async (event) => {\n    const { by } = event.currentTarget.dataset\n    const order = event.target.value\n\n    switch (by) {\n      case 'duration':\n        await this.setState({\n          orderDuration: order,\n          orderStartDate: '',\n          orderEndDate: '',\n          orderExtend: '',\n        })\n        break\n      case 'start':\n        await this.setState({\n          orderDuration: '',\n          orderStartDate: order,\n          orderEndDate: '',\n          orderExtend: '',\n        })\n        break\n      case 'end':\n        await this.setState({\n          orderDuration: '',\n          orderStartDate: '',\n          orderEndDate: order,\n          orderExtend: '',\n        })\n        break\n      case 'extend':\n        await this.setState({\n          orderDuration: '',\n          orderStartDate: '',\n          orderEndDate: '',\n          orderExtend: order,\n        })\n        break\n      default:\n    }\n    this.search()\n  }\n\n  onChangeProject = async (event) => {\n    const projectId = event.target.value\n    await this.setState({ projectId })\n    this.search()\n  }\n\n  onChangeTask = async (event) => {\n    const taskName = event.target.value\n    await this.setState({ taskName })\n    this.search()\n  }\n\n  onChangeStartDateRangeS = async (startDateFrom) => {\n    await this.setState({ startDateFrom })\n    this.search()\n  }\n\n  onChangeStartDateRangeE = async (startDateTo) => {\n    await this.setState({ startDateTo })\n    this.search()\n  }\n\n  onChangeEndDateRangeS = async (endDateFrom) => {\n    await this.setState({ endDateFrom })\n    this.search()\n  }\n\n  onChangeEndDateRangeE = async (endDateTo) => {\n    this.setState({ endDateTo })\n    this.search()\n  }\n\n  onChangeExtendRangeS = async (extendFrom) => {\n    await this.setState({ extendFrom })\n    this.search()\n  }\n\n  onChangeExtendRangeE = async (extendTo) => {\n    await this.setState({ extendTo })\n    this.search()\n  }\n\n  onClickAvatar = async (event) => {\n    const { inCharge } = this.state\n    const inChargeCopy = inCharge\n    const { id } = event.currentTarget.dataset\n    const targetIndex = inCharge.indexOf(id)\n    if (targetIndex === notExist) {\n      inChargeCopy.push(id)\n    } else {\n      inChargeCopy.splice(targetIndex, 1)\n    }\n    await this.setState({ inCharge: inChargeCopy })\n    this.search()\n  }\n\n  onClickResourceIcon = async (event) => {\n    const { selectedResources } = this.state\n    const selectedResourcesCopy = selectedResources\n    const { id } = event.currentTarget.dataset\n    const targetIndex = selectedResources.indexOf(id)\n    if (targetIndex === notExist) {\n      selectedResourcesCopy.push(id)\n    } else {\n      selectedResourcesCopy.splice(targetIndex, 1)\n    }\n    await this.setState({ selectedResources: selectedResourcesCopy })\n    this.search()\n  }\n\n  clearSearchName = async () => {\n    await this.setState({\n      taskName: '',\n      projectId: '',\n      searchByNameVisible: false,\n    })\n    this.search()\n  }\n\n  clearSearchStartDate = async () => {\n    await this.setState({\n      startDateFrom: '',\n      startDateTo: '',\n      orderStartDate: '',\n      searchByDateVisible: false,\n    })\n    this.search()\n  }\n\n  clearSearchEndDate = async () => {\n    await this.setState({\n      endDateFrom: '',\n      endDateTo: '',\n      orderEndDate: '',\n      searchByDateVisible: false,\n    })\n    this.search()\n  }\n\n  clearSearchExtend = async () => {\n    await this.setState({\n      extendFrom: '',\n      extendTo: '',\n      orderExtend: '',\n      searchByDateVisible: false,\n    })\n    this.search()\n  }\n\n  clearSearchDuration = async () => {\n    await this.setState({ orderDuration: '', searchByDurationVisible: false })\n    this.search()\n  }\n\n  clearSearchInCharge = async () => {\n    await this.setState({ inCharge: [], searchByUsersVisible: false })\n    this.search()\n  }\n\n  closeAllModal = () => {\n    this.setState({\n      searchByNameVisible: false,\n      searchByDateVisible: false,\n      searchByDurationVisible: false,\n      searchByUsersVisible: false,\n      searchByResourceVisible: false,\n    })\n  }\n\n  stopPropagation = (event) => event.stopPropagation()\n\n  render() {\n    const { projects, resources } = this.props\n    const {\n      users,\n      searchByNameVisible,\n      searchByDateVisible,\n      searchByDurationVisible,\n      searchByUsersVisible,\n      searchByResourceVisible,\n      projectId,\n      taskName,\n      dateType,\n      startDateFrom,\n      startDateTo,\n      endDateFrom,\n      endDateTo,\n      extendFrom,\n      extendTo,\n      orderStartDate,\n      orderEndDate,\n      orderExtend,\n      orderDuration,\n      inCharge,\n      selectedResources,\n    } = this.state\n\n    const resourceIconClass = selectedResources.length === 0 ? 'resourceIcon' : 'resourceIcon--selected'\n    const dateProps = this.sortingByDateRange(dateType)\n    const {\n      rangeStart,\n      rangeEnd,\n      onChangeRangeStart,\n      onChangeRangeEnd,\n      order,\n    } = dateProps\n\n    return (\n      <div className=\"gantt-index-header\">\n        <div className=\"gantt-index-header__resource\">\n          <div className={resourceIconClass} onClick={this.onClickResource} />\n        </div>\n        <div className=\"gantt-index-header__name\">\n          {projectId === '' && taskName === ''\n            ? <span className=\"gantt-index-header__label\" onClick={this.onClickName}>Name</span>\n            : (\n              <div className=\"selected\">\n                <span className=\"selected__label\" onClick={this.onClickName}>Name</span>\n                <span className=\"selected__clear\" onClick={this.clearSearchName}>×</span>\n              </div>\n            )}\n        </div>\n\n        <div className=\"gantt-index-header__startDate\">\n          {startDateFrom === '' && startDateTo === '' && orderStartDate === ''\n            ? (\n              <span className=\"gantt-index-header__label\" data-type=\"start\" onClick={this.onClickDate}>\n                StartDate\n              </span>\n            ) : (\n              <div className=\"selected\">\n                <span className=\"selected__label\" data-type=\"start\" onClick={this.onClickDate}>\n                  StartDate\n                </span>\n                <span className=\"selected__clear\" onClick={this.clearSearchStartDate}>×</span>\n              </div>\n            )}\n        </div>\n\n        <div className=\"gantt-index-header__endDate\">\n          {endDateFrom === '' && endDateTo === '' && orderEndDate === ''\n            ? (\n              <span className=\"gantt-index-header__label\" data-type=\"end\" onClick={this.onClickDate}>\n                EndDate\n              </span>\n            ) : (\n              <div className=\"selected\">\n                <span className=\"selected__label\" data-type=\"end\" onClick={this.onClickDate}>\n                  EndDate\n                </span>\n                <span className=\"selected__clear\" onClick={this.clearSearchEndDate}>×</span>\n              </div>\n            )}\n        </div>\n\n        <div className=\"gantt-index-header__extend\">\n          {extendFrom === '' && extendTo === '' && orderExtend === ''\n            ? (\n              <span className=\"gantt-index-header__label\" data-type=\"extend\" onClick={this.onClickDate}>\n                Extend\n              </span>\n            ) : (\n              <div className=\"selected\">\n                <span className=\"selected__label\" data-type=\"extend\" onClick={this.onClickDate}>\n                  Extend\n                </span>\n                <span className=\"selected__clear\" onClick={this.clearSearchExtend}>×</span>\n              </div>\n            )}\n        </div>\n\n        <div className=\"gantt-index-header__duration\">\n          {orderDuration === ''\n            ? <span className=\"gantt-index-header__label\" onClick={this.onClickDuration}>Duration</span>\n            : (\n              <div className=\"selected\">\n                <span className=\"selected__label\" onClick={this.onClickDuration}>Duration</span>\n                <span className=\"selected__clear\" onClick={this.clearSearchDuration}>×</span>\n              </div>\n            )}\n        </div>\n        <div className=\"gantt-index-header__inCharge\">\n          {inCharge.length === 0\n            ? <span className=\"gantt-index-header__label\" onClick={this.onClickInCharge}>InCharge</span>\n            : (\n              <div className=\"selected\">\n                <span className=\"selected__label\" onClick={this.onClickInCharge}>InCharge</span>\n                <span className=\"selected__clear\" onClick={this.clearSearchInCharge}>×</span>\n              </div>\n            )}\n        </div>\n        {searchByResourceVisible && (\n          <div className=\"overlay\" onClick={this.closeAllModal}>\n            <SearchByResource\n              resources={resources}\n              selectedResources={selectedResources}\n              onClickResource={this.onClickResourceIcon}\n              stopPropagation={this.stopPropagation}\n            />\n          </div>\n        )}\n        {searchByNameVisible && (\n          <div className=\"overlay\" onClick={this.closeAllModal}>\n            <SearchByName\n              projectId={projectId}\n              projects={projects}\n              onChangeProject={this.onChangeProject}\n              taskName={taskName}\n              onChangeTask={this.onChangeTask}\n              stopPropagation={this.stopPropagation}\n            />\n          </div>\n        )}\n        {searchByDateVisible && (\n          <div className=\"overlay\" onClick={this.closeAllModal}>\n            <SearchByDate\n              dateType={dateType}\n              rangeStart={rangeStart}\n              rangeEnd={rangeEnd}\n              onChangeRangeStart={onChangeRangeStart}\n              onChangeRangeEnd={onChangeRangeEnd}\n              onChangeOrder={this.onChangeOrder}\n              selected={order}\n              stopPropagation={this.stopPropagation}\n            />\n          </div>\n        )}\n        {searchByDurationVisible && (\n          <div className=\"overlay\" onClick={this.closeAllModal}>\n            <SearchByDuration\n              onChangeOrder={this.onChangeOrder}\n              selected={orderDuration}\n              stopPropagation={this.stopPropagation}\n            />\n          </div>\n        )}\n        {searchByUsersVisible && (\n          <div className=\"overlay\" onClick={this.closeAllModal}>\n            <SearchByUsers\n              users={users}\n              inCharge={inCharge}\n              onClickAvatar={this.onClickAvatar}\n              stopPropagation={this.stopPropagation}\n            />\n          </div>\n        )}\n      </div>\n    )\n  }\n}\n\nconst OrderBy = (props) => {\n  const { onChangeOrder, by, selected } = props\n  const selections = [{ label: 'ASC', value: 'ASC' }, { label: 'DESC', value: 'DESC' }]\n\n  return (\n    <select data-by={by} value={selected} onChange={onChangeOrder} className=\"search__order\">\n      <option key=\"default\" value={null} aria-label=\"order\" />\n      {selections.map((selection) => (\n        <option key={selection.label} value={selection.value}>{selection.label}</option>\n      ))}\n    </select>\n  )\n}\n\nconst SearchByDuration = (props) => {\n  const { onChangeOrder, selected, stopPropagation } = props\n\n  return (\n    <div className=\"search--duration\" onClick={stopPropagation}>\n      <div className=\"search__label\">Order by duration</div>\n      <OrderBy by=\"duration\" onChangeOrder={onChangeOrder} selected={selected} />\n      <div className=\"search__divide\" />\n    </div>\n  )\n}\n\nconst SearchByDate = (props) => {\n  const {\n    rangeStart,\n    rangeEnd,\n    onChangeRangeStart,\n    onChangeRangeEnd,\n    dateType,\n    onChangeOrder,\n    order,\n    stopPropagation,\n  } = props\n\n  const className = `search--${dateType}`\n  const title = `Filter by ${dateType} date`\n\n  return (\n    <div className={className} onClick={stopPropagation}>\n      <div className=\"search__label\">Order by duration</div>\n      <OrderBy by={dateType} onChangeOrder={onChangeOrder} selected={order} />\n      <div className=\"search__divide\" />\n      <div className=\"search__label\">{title}</div>\n      <div className=\"search__dateWrapper\">\n        <DatePicker\n          className=\"search__dateRange\"\n          dateFormat=\"yyyy/MM/dd\"\n          showWeekNumbers\n          placeholderText=\"Select range start\"\n          selected={rangeStart}\n          onChange={onChangeRangeStart}\n        />\n        <DatePicker\n          className=\"search__dateRange\"\n          dateFormat=\"yyyy/MM/dd\"\n          showWeekNumbers\n          placeholderText=\"Select range end\"\n          selected={rangeEnd}\n          onChange={onChangeRangeEnd}\n        />\n      </div>\n    </div>\n  )\n}\n\nconst SearchByName = (props) => {\n  const {\n    projectId,\n    projects,\n    onChangeProject,\n    taskName,\n    onChangeTask,\n    stopPropagation,\n  } = props\n\n  return (\n    <div className=\"search--name\" onClick={stopPropagation}>\n      <div className=\"search__label\">Filter by Project</div>\n      <select value={projectId} onChange={onChangeProject} className=\"search__project\">\n        <option key=\"default\" value={null} aria-label=\"selectProject\" />\n        {projects.map((project) => (\n          <option key={project.name} value={project.id}>{project.name}</option>\n        ))}\n      </select>\n      <div className=\"search__divide\" />\n      <div className=\"search__label\">Search by Task name</div>\n      <input type=\"text\" className=\"search__task\" value={taskName} onChange={onChangeTask} />\n    </div>\n  )\n}\n\nconst Users = ({ users, onClickAvatar, inCharge }) => (\n  users.map((user) => {\n    const targetIndex = inCharge.indexOf(String(user.id))\n    return (\n      <div key={user.id} className=\"avatar\">\n        <div data-id={user.id} onClick={onClickAvatar} className=\"avatar__wrapper\">\n          <img src={user.avatar} alt={user.name} className=\"avatar__image\" />\n          {targetIndex !== notExist && <div className=\"avatar__selected\" />}\n        </div>\n        <div className=\"avatar__name\">{user.name}</div>\n      </div>\n    )\n  })\n)\n\nconst SearchByUsers = (props) => {\n  const {\n    users,\n    inCharge,\n    onClickAvatar,\n    stopPropagation,\n  } = props\n\n  return (\n    <div className=\"search--user\" onClick={stopPropagation}>\n      <div className=\"search__label\">Search by users</div>\n      <div className=\"search__usersWrapper\">\n        <Users users={users} inCharge={inCharge} onClickAvatar={onClickAvatar} />\n      </div>\n    </div>\n  )\n}\n\nconst Resources = ({ resources, selectedResources, onClickResource }) => (\n  resources.map((resource) => {\n    const targetIndex = selectedResources.indexOf(String(resource.id))\n    return (\n      <div key={resource.id} className=\"resource\">\n        <div data-id={resource.id} onClick={onClickResource} className=\"resource__wrapper\">\n          <div className=\"resource__icon\" style={{ backgroundColor: resource.color }} />\n          {targetIndex !== notExist && <div className=\"resource__selected\" />}\n        </div>\n        <div className=\"resource__name\">{resource.name}</div>\n      </div>\n    )\n  })\n)\n\nconst SearchByResource = (props) => {\n  const {\n    resources,\n    selectedResources,\n    onClickResource,\n    stopPropagation,\n  } = props\n\n  return (\n    <div className=\"search--resource\" onClick={stopPropagation}>\n      <div className=\"search__label\">Search by resource</div>\n      <div className=\"search__resourceWrapper\">\n        <Resources\n          resources={resources}\n          selectedResources={selectedResources}\n          onClickResource={onClickResource}\n        />\n      </div>\n    </div>\n  )\n}\n","import React, { Component } from 'react'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\n\nimport '../css/Task.scss'\nimport Utils from '../Utils'\n\nconst Avatars = ({ members }) => (\n  members.map((member, i) => {\n    if (i > 3) {\n      return null\n    }\n    if (i < 3) {\n      return <img key={member.name} src={member.avatar} alt={member.name} className=\"task__avatar\" />\n    }\n    return <div key={String(i)} className=\"task__avatar--length\">{members.length}</div>\n  })\n)\n\nexport default class Task extends Component {\n  handleDestroy = (event) => {\n    event.stopPropagation()\n    this.token = localStorage.getItem('token')\n    const { id } = event.currentTarget.dataset\n    const url = Utils.buildRequestUrl(`/tasks/${id}`)\n\n    fetch(url, {\n      method: 'DELETE',\n      headers: { 'X-Reach-token': this.token },\n    })\n      .then((_res) => _res.json())\n      .then(({ is_delete, task }) => {\n        if (is_delete) {\n          const { index, refresh } = this.props\n          refresh(task, index, 'destroy')\n        }\n      })\n      .catch(() => {\n        // TODO\n      })\n  }\n\n  onClickOverlay = (event) => {\n    event.stopPropagation()\n  }\n\n  render() {\n    const { tasks, onClick, destroyMode } = this.props\n    return (\n      tasks.map((task) => (\n        <div key={task.id} data-action=\"edit\" data-id={task.id} className=\"task\" onClick={onClick}>\n          <div className=\"task__icon\" onClick={this.onClickOverlay}>\n            {destroyMode ? (\n              <FontAwesomeIcon\n                data-id={task.id}\n                icon={['fas', 'minus-circle']}\n                className=\"task__delete\"\n                onClick={this.handleDestroy}\n              />\n            ) : <div className=\"task__resource\" style={{ backgroundColor: task.resource.color }} />}\n          </div>\n          <div className=\"task__name\">{task.name}</div>\n          <div className=\"task__startDate\">{task.startDate}</div>\n          <div className=\"task__endDate\">{task.endDate}</div>\n          <div className=\"task__extend\">{task.extend}</div>\n          <div className=\"task__duration\">{task.duration}</div>\n          <div className=\"task__inCharge\">\n            <Avatars members={task.users} />\n          </div>\n        </div>\n      ))\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport DatePicker from 'react-datepicker'\nimport Moment from 'moment'\nimport 'react-datepicker/dist/react-datepicker.css'\n\nimport ErrorMessage from './Error'\nimport '../css/Form.scss'\nimport Utils from '../Utils'\n\nconst notExist = -1\n\nexport default class TaskForm extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      resources: [],\n      users: [],\n      name: '',\n      resource: '',\n      startDate: null,\n      endDate: null,\n      inCharge: [],\n      description: '',\n      errors: [],\n    }\n  }\n\n  componentDidMount() {\n    const { taskID, action } = this.props\n    if (action === 'new') {\n      this.getTaskFormValue()\n    } else if (action === 'edit') {\n      this.editTaskFormValue(taskID)\n    }\n  }\n\n  getTaskFormValue = () => {\n    this.token = localStorage.getItem('token')\n    const url = Utils.buildRequestUrl('/tasks/new')\n    fetch(url, {\n      method: 'GET',\n      headers: { 'X-Reach-token': this.token },\n    })\n      .then((_res) => _res.json())\n      .then((res) => {\n        const { is_authenticated, resources, users } = res\n        if (is_authenticated) {\n          this.setState({ resources, users })\n        }\n      })\n      .catch(() => {\n        // TODO\n      })\n  }\n\n  editTaskFormValue = (taskID) => {\n    this.token = localStorage.getItem('token')\n    const url = Utils.buildRequestUrl(`/tasks/${taskID}/edit`)\n    fetch(url, {\n      method: 'GET',\n      headers: { 'X-Reach-token': this.token },\n    })\n      .then((_res) => _res.json())\n      .then((res) => {\n        const { is_authenticated, resources, users } = res\n        if (is_authenticated) {\n          const {\n            description,\n            startDate,\n            endDate,\n            extend,\n            name,\n            userIds,\n            resourceId,\n          } = res.task\n\n          const stringUserIds = userIds.map((userId) => String(userId))\n          this.setState({\n            resources,\n            users,\n            name,\n            description,\n            startDate: new Date(startDate),\n            endDate: extend ? new Date(extend) : new Date(endDate),\n            inCharge: stringUserIds,\n            resource: resourceId,\n          })\n        }\n      })\n      .catch(() => {\n        // TODO\n      })\n  }\n\n  onChangeName = (event) => {\n    const name = event.target.value\n    this.setState({ name })\n  }\n\n  onChangeResource = (event) => {\n    const resource = event.target.value\n    this.setState({ resource })\n  }\n\n  onChangeStartDate = (date) => {\n    this.setState({ startDate: date })\n  }\n\n  onChangeEndDate = (date) => {\n    this.setState({ endDate: date })\n  }\n\n  onClickAvatar = (event) => {\n    const { inCharge } = this.state\n    const inChargeCopy = inCharge\n    const { id } = event.currentTarget.dataset\n    const targetIndex = inCharge.indexOf(id)\n    if (targetIndex === notExist) {\n      inChargeCopy.push(id)\n    } else {\n      inChargeCopy.splice(targetIndex, 1)\n    }\n    this.setState({ inCharge: inChargeCopy })\n  }\n\n  onChangeDescription = (event) => {\n    const description = event.target.value\n    this.setState({ description })\n  }\n\n  createTask = () => {\n    const { id, taskID, action } = this.props\n    const {\n      name,\n      resource,\n      startDate,\n      endDate,\n      inCharge,\n      description,\n    } = this.state\n\n    const request = Utils.preparingRequest(action, taskID)\n    if (request === null) {\n      return\n    }\n    const url = Utils.buildRequestUrl(request.uriPattern)\n    const duration = Moment(endDate).diff(Moment(startDate), 'days')\n    const params = {\n      name,\n      description,\n      duration,\n      resource_id: resource,\n      project_id: id,\n      start_date: startDate,\n      end_date: endDate,\n      user_ids: inCharge,\n    }\n\n    if (action === 'edit') {\n      params.extend = endDate\n      delete params.end_date\n    }\n\n    fetch(url, {\n      method: request.method,\n      headers: { 'X-Reach-token': this.token, 'Content-Type': 'application/json' },\n      body: JSON.stringify(params),\n    })\n      .then((_res) => _res.json())\n      .then(({ is_created, errors, task }) => {\n        if (is_created) {\n          const { refresh, index } = this.props\n          refresh(task, index, action)\n          this.setState({ errors: [] })\n        } else {\n          this.setState({ errors })\n        }\n      })\n      .catch(() => {\n        // TODO\n      })\n  }\n\n  render() {\n    const { closeModal, action } = this.props\n    const title = action === 'edit' ? 'Update' : 'Add'\n    const {\n      users,\n      resources,\n      resource,\n      name,\n      startDate,\n      endDate,\n      inCharge,\n      description,\n      errors,\n    } = this.state\n\n    return (\n      <div className=\"taskForm\">\n        <div className=\"taskForm__close\" onClick={closeModal}>×</div>\n        <div className=\"taskForm__title\">\n          {title}\n          Task\n        </div>\n        {errors.length !== 0 && <ErrorMessage action=\"Task creation\" errors={errors} />}\n        <div className=\"taskFormRow\">\n          <div className=\"taskFormRow__label\">Name</div>\n          <input\n            type=\"text\"\n            className=\"taskFormRow__name\"\n            value={name}\n            onChange={this.onChangeName}\n          />\n        </div>\n        <div className=\"taskFormRow\">\n          <div className=\"taskFormRow__label\">Resource</div>\n          <select\n            value={resource}\n            onChange={this.onChangeResource}\n            className=\"taskFormRow__resource\"\n          >\n            <option key=\"default\" value={null} aria-label=\"...select\" />\n            <Resources resources={resources} />\n          </select>\n          <div className=\"taskFormRow__divide\" />\n        </div>\n        <div className=\"taskFormRow\">\n          <div className=\"taskFormRow__label\">Start date</div>\n          <DatePicker\n            className=\"taskFormRow__date\"\n            dateFormat=\"yyyy/MM/dd\"\n            showWeekNumbers\n            selected={startDate}\n            onChange={this.onChangeStartDate}\n          />\n        </div>\n        <div className=\"taskFormRow\">\n          <div className=\"taskFormRow__label\">End date</div>\n          <DatePicker\n            className=\"taskFormRow__date\"\n            dateFormat=\"yyyy/MM/dd\"\n            showWeekNumbers\n            selected={endDate}\n            onChange={this.onChangeEndDate}\n          />\n        </div>\n        <div className=\"taskFormRow\">\n          <div className=\"taskFormRow__label\">In charge</div>\n          <div className=\"taskFormRow__inCharge\">\n            <Users users={users} inCharge={inCharge} onClickAvatar={this.onClickAvatar} />\n          </div>\n        </div>\n        <div className=\"taskFormRow\">\n          <div className=\"taskFormRow__label\">Description</div>\n          <textarea\n            className=\"taskFormRow__description\"\n            value={description}\n            onChange={this.onChangeDescription}\n          />\n        </div>\n        <button type=\"button\" onClick={this.createTask} className=\"taskForm__button\">\n          {title}\n        </button>\n      </div>\n    )\n  }\n}\n\nconst Resources = ({ resources }) => (\n  resources.map((resource) => (\n    <option key={resource.id} value={resource.id}>{resource.name}</option>\n  ))\n)\n\nconst Users = ({ users, onClickAvatar, inCharge }) => (\n  users.map((user) => {\n    const targetIndex = inCharge.indexOf(String(user.id))\n    return (\n      <div key={user.id} className=\"avatar\">\n        <div data-id={user.id} onClick={onClickAvatar} className=\"avatar__wrapper\">\n          <img src={user.avatar} alt={user.name} className=\"avatar__image\" />\n          {targetIndex !== notExist && <div className=\"avatar__selected\" />}\n        </div>\n        <div className=\"avatar__name\">{user.name}</div>\n      </div>\n    )\n  })\n)\n","import React, { Component } from 'react'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\n\nimport Task from './Task'\nimport TaskForm from './TaskForm'\nimport '../css/Project.scss'\n\nclass Project extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      isVisible: false,\n    }\n  }\n\n  openModal = (event) => {\n    this.id = event.currentTarget.dataset.id || null\n    this.action = event.currentTarget.dataset.action\n    this.setState({ isVisible: true })\n  }\n\n  closeModal = () => {\n    this.setState({ isVisible: false })\n  }\n\n  render() {\n    const {\n      project,\n      index,\n      refreshTask,\n      destroyMode,\n    } = this.props\n\n    const { tasks, name, id } = project\n    const { isVisible } = this.state\n    return (\n      <div key={name} className=\"project\">\n        <div className=\"projectHeader\">\n          <div className=\"projectHeader__name\">{name}</div>\n          <FontAwesomeIcon\n            icon={['fas', 'plus']}\n            data-action=\"new\"\n            className=\"projectHeader__addTask\"\n            onClick={this.openModal}\n          />\n        </div>\n        {tasks && (\n          <Task\n            destroyMode={destroyMode}\n            index={index}\n            refresh={refreshTask}\n            tasks={tasks}\n            onClick={this.openModal}\n          />\n        )}\n        {isVisible\n          && (\n            <TaskForm\n              id={id}\n              action={this.action}\n              taskID={this.id}\n              refresh={refreshTask}\n              index={index}\n              closeModal={this.closeModal}\n            />\n          )}\n      </div>\n    )\n  }\n}\n\nconst Projects = (props) => {\n  const { projects, refreshTask, mode } = props\n  return projects.map((project, index) => (\n    <Project\n      refreshTask={refreshTask}\n      project={project}\n      key={project.name}\n      index={index}\n      destroyMode={mode}\n    />\n  ))\n}\n\nexport default Projects\n","import React, { PureComponent } from 'react'\n\nimport '../css/ChartBar.scss'\n\nexport default class ChartBar extends PureComponent {\n  constructor(props) {\n    super(props)\n    this.state = {\n      isHover: false,\n      offsetX: 0,\n      offsetY: 0,\n    }\n  }\n\n  onMouseEnter = (event) => {\n    const isOverflowX = window.innerWidth < (event.clientX + 300)\n    const isOverflowY = window.innerHeight < (event.clientY + 300)\n    const offsetX = isOverflowX ? event.clientX - 280 : event.clientX + 30\n    const offsetY = isOverflowY ? event.clientY - 150 : event.clientY\n    this.setState({ isHover: true, offsetX, offsetY })\n  }\n\n  onMouseLeave = () => {\n    this.setState({ isHover: false })\n  }\n\n  render() {\n    const { chartWidth, data } = this.props\n    const { isHover, offsetX, offsetY } = this.state\n    return (\n      <div\n        style={{ width: chartWidth, backgroundColor: data.resource.color }}\n        className=\"chartbar\"\n        onMouseEnter={this.onMouseEnter}\n        onMouseLeave={this.onMouseLeave}\n      >\n        {isHover && <Window data={data} offsetX={offsetX} offsetY={offsetY} />}\n      </div>\n    )\n  }\n}\n\nconst Members = ({ users }) => (\n  users.map((user) => <div key={user.name} className=\"windowMembers__name\">{user.name}</div>)\n)\n\nconst Window = ({ data, offsetX, offsetY }) => (\n  <div className=\"window\" style={{ top: offsetY, left: offsetX }}>\n    <div className=\"windowRow\">\n      <div className=\"windowRow__label\">Name:</div>\n      <div className=\"windowRow__name\">{data.name}</div>\n    </div>\n    <div className=\"windowRow\">\n      <div className=\"windowRow__label\">StartDate:</div>\n      <div className=\"window__startDate\">{data.startDate}</div>\n    </div>\n    <div className=\"windowRow\">\n      <div className=\"windowRow__label\">EndDate:</div>\n      <div className=\"window__endDate\">{data.endDate}</div>\n    </div>\n    <div className=\"windowRow\">\n      <div className=\"windowRow__label\">Extend:</div>\n      <div className=\"window__extend\">{data.extend}</div>\n    </div>\n    <div className=\"windowRow\">\n      <div className=\"windowRow__label\">Duration:</div>\n      <div className=\"window__duration\">{data.duration}</div>\n    </div>\n    <div className=\"windowRow\">\n      <div className=\"windowRow__label\">InCharge:</div>\n      <div className=\"windowMembers\">\n        <Members users={data.users} />\n      </div>\n    </div>\n    <div className=\"windowCol\">\n      <div className=\"windowCol__label\">Description:</div>\n      <div className=\"windowCol__description\">{data.description}</div>\n    </div>\n  </div>\n)\n","import React, { Component } from 'react'\nimport Moment from 'moment'\n\nimport ChartBar from './ChartBar'\nimport '../css/Project.scss'\nimport Utils from '../Utils'\n\nclass GanttTask extends Component {\n  constructor(props) {\n    super(props)\n    this.start = Utils.dateRangeStart()\n    this.baseChartWidth = 45\n  }\n\n  calcOffset = (task) => {\n    const offset = Moment(task.startDate, 'YYYY/MM/DD').startOf('days').diff(this.start, 'days')\n    return (offset - 1) * this.baseChartWidth\n  }\n\n  calcOffsetForWeeks = (task) => {\n    const offset = Math.ceil(\n      Moment(task.startDate, 'YYYY/MM/DD').startOf('week').diff(this.start, 'weeks', true),\n    )\n    return offset * this.baseChartWidth\n  }\n\n  calcChartWidthForWeeks = (task) => {\n    const end = task.extend || task.endDate\n    const startDate = Moment(task.startDate, 'YYYY/MM/DD').startOf('week')\n    const endDate = Moment(end, 'YYYY/MM/DD').endOf('week')\n    return Math.ceil(endDate.diff(startDate, 'weeks', true))\n  }\n\n  isBefore = (task) => Moment(task.startDate, 'YYYY/MM/DD').isSameOrBefore(this.start)\n\n  isBeforeForWeek = (task) => Moment(task.startDate, 'YYYY/MM/DD').isBefore(this.start.startOf('week'))\n\n  render() {\n    const { scheduleType, tasks } = this.props\n    return (\n      tasks.map((task) => {\n        const offset = scheduleType === 'days' ? this.calcOffset(task) : this.calcOffsetForWeeks(task)\n        let diff = scheduleType === 'days' ? task.duration : this.calcChartWidthForWeeks(task)\n\n        if (this.isBefore(task) && scheduleType === 'days') {\n          diff -= Math.ceil(\n            this.start.diff(Moment(task.startDate, 'YYYY/MM/DD').startOf('days'), 'days', true),\n          )\n        } else if (this.isBeforeForWeek(task) && scheduleType === 'weeks') {\n          diff -= Math.ceil(this.start.diff(Moment(task.startDate, 'YYYY/MM/DD'), 'week', true))\n        } else if (scheduleType === 'days') {\n          diff += 1\n        }\n\n        const chartWidth = this.baseChartWidth * diff\n\n        return (\n          <div key={task.name} style={{ paddingLeft: offset }} className=\"task\">\n            <ChartBar chartWidth={chartWidth} data={task} />\n          </div>\n        )\n      })\n    )\n  }\n}\n\nconst Gantt = (props) => (\n  props.projects.map((project) => (\n    <div key={project.name} className=\"project\">\n      <div className=\"projectHeader\" />\n      {project.tasks && <GanttTask tasks={project.tasks} scheduleType={props.scheduleType} />}\n    </div>\n  ))\n)\n\nexport default Gantt\n","import React, { PureComponent } from 'react'\nimport Moment from 'moment'\n\nimport SideBar from './SideBar'\nimport GanttIndexHeader from './GanttIndexHeader'\nimport Project from './Project'\nimport Gantt from './Gantt'\nimport '../css/Main.scss'\n\nimport Utils from '../Utils'\n\nconst sun = 0\nconst sat = 6\nconst startDate = Utils.dateRangeStart()\nconst endDate = Utils.dateRangeEnd()\n\n\nconst whatDayIsToday = (day) => {\n  switch (day.get('day')) {\n    case sun:\n      return '--sun'\n    case sat:\n      return '--sat'\n    default:\n      return ''\n  }\n}\n\nconst scheduleAttr = (day, scheduleType) => {\n  const attr = {}\n  if (scheduleType === 'days') {\n    attr.formatDate = day.format('MMM D')\n    attr.className = `gantt-schedule-header__date${whatDayIsToday(day)}`\n  } else {\n    const startOfWeek = day.startOf('week')\n    attr.formatDate = `W${day.format('W')} ${startOfWeek.format('M/D')}`\n    attr.className = 'gantt-schedule-header__week'\n  }\n  return attr\n}\n\nconst Schedule = ({ scheduleType }) => {\n  const schedules = []\n  for (let day = Moment(startDate); day <= endDate; day.add(1, scheduleType)) {\n    const attr = scheduleAttr(day, scheduleType)\n    schedules.push(\n      <div className={attr.className} key={day.format('YYYYMMDD')}>\n        {attr.formatDate}\n      </div>,\n    )\n  }\n  return schedules\n}\n\nconst Header = (props) => {\n  const { scheduleType, onClick, resources } = props\n  const className = { weeks: 'switchView__button', days: 'switchView__button' }\n  if (scheduleType === 'weeks') {\n    className.weeks += '--disable'\n  } else if (scheduleType === 'days') {\n    className.days += '--disable'\n  }\n  return (\n    <div className=\"header\">\n      <div className=\"switchView\">\n        <div\n          className={className.weeks}\n          onClick={onClick}\n          onKeyUp={onClick}\n          data-type=\"weeks\"\n          role=\"link\"\n          tabIndex=\"0\"\n        >\n          Week\n        </div>\n        <div className=\"switchView__divider\">|</div>\n        <div\n          className={className.days}\n          onClick={onClick}\n          onKeyUp={onClick}\n          data-type=\"days\"\n          role=\"link\"\n          tabIndex=\"0\"\n        >\n          Day\n        </div>\n      </div>\n      <div className=\"resource\">\n        {resources.map((resource) => (\n          <div key={resource.id} className=\"resource__wrapper\">\n            <div className=\"resource__icon\" style={{ backgroundColor: resource.color }} />\n            <div className=\"resource__name\">{resource.name}</div>\n          </div>\n        ))}\n      </div>\n    </div>\n  )\n}\n\nexport default class Main extends PureComponent {\n  constructor(props) {\n    super(props)\n    this.state = {\n      resources: [],\n      projects: [],\n      type: 'weeks',\n      destroyMode: false,\n    }\n  }\n\n  componentDidMount() {\n    this.getProjectIndex()\n  }\n\n  getProjectIndex = () => {\n    const url = Utils.buildRequestUrl('/projects')\n    const token = localStorage.getItem('token')\n    fetch(url, {\n      method: 'GET',\n      headers: { 'X-Reach-token': token },\n    })\n      .then((_res) => _res.json())\n      .then(({ is_authenticated, projects, resources }) => {\n        if (is_authenticated) {\n          this.setState({ projects, resources })\n        }\n      })\n      .catch(() => {\n        // TODO\n      })\n  }\n\n  changeScheduleType = (event) => {\n    const { type } = event.target.dataset\n    this.setState({ type })\n  }\n\n  changeMode = () => {\n    const { destroyMode } = this.state\n    this.setState({ destroyMode: !destroyMode })\n  }\n\n  updateProject = (projectsCopy) => this.setState({ projects: projectsCopy })\n\n  refreshProject = (project) => {\n    const { projects } = this.state\n    const projectsCopy = projects.slice()\n    projectsCopy.push(project)\n    this.updateProject(projectsCopy)\n  }\n\n  refreshTask = (task, index, action) => {\n    const { projects } = this.state\n    if (action === 'new') {\n      const projectsCopy = projects.slice()\n      projectsCopy[index].tasks.push(task)\n      this.updateProject(projectsCopy)\n    } else if (action === 'edit') {\n      const tasksCopy = projects[index].tasks.map((existingTask) => (\n        existingTask.id === task.id ? task : existingTask\n      ))\n      const projectsCopy = projects.map((_project, i) => {\n        const project = _project\n        if (index === i) {\n          project.tasks = tasksCopy\n        }\n        return project\n      })\n      this.updateProject(projectsCopy)\n    } else if (action === 'destroy') {\n      const tasksCopy = projects[index].tasks.filter((existingTask) => (\n        existingTask.id !== task.id\n      ))\n      const projectsCopy = projects.map((_project, i) => {\n        const project = _project\n        if (index === i) {\n          project.tasks = tasksCopy\n        }\n        return project\n      })\n      this.updateProject(projectsCopy)\n    }\n  }\n\n  render() {\n    const {\n      type,\n      projects,\n      resources,\n      destroyMode,\n    } = this.state\n\n    return (\n      <div className=\"App\">\n        <SideBar\n          getProjectIndex={this.getProjectIndex}\n          refreshProject={this.refreshProject}\n          changeMode={this.changeMode}\n        />\n        <div className=\"mainContainer\">\n          <Header resources={resources} scheduleType={type} onClick={this.changeScheduleType} />\n          <div className=\"gantt\">\n            <div className=\"gantt-index\">\n              <GanttIndexHeader\n                resources={resources}\n                projects={projects}\n                updateProject={this.updateProject}\n              />\n              <Project refreshTask={this.refreshTask} projects={projects} mode={destroyMode} />\n            </div>\n            <div className=\"gantt-schedule\">\n              <div className=\"gantt-schedule-header\">\n                <Schedule scheduleType={type} />\n              </div>\n              <Gantt projects={projects} scheduleType={type} />\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport { Link, Redirect } from 'react-router-dom'\n\nimport ErrorMessage from './Error'\nimport Utils from '../Utils'\nimport '../css/Session.scss'\n\nexport default class SignIn extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      email: '',\n      password: '',\n      isSignIn: false,\n      errors: [],\n    }\n  }\n\n  handleSignIn = () => {\n    const { email, password } = this.state\n    const url = Utils.buildRequestUrl('/sessions')\n    const params = {\n      email,\n      password,\n    }\n    fetch(url, {\n      method: 'POST',\n      body: JSON.stringify(params),\n      headers: { 'Content-Type': 'application/json' },\n    })\n      .then((_res) => _res.json())\n      .then((res) => {\n        const { result, token, errors } = res\n        if (result) {\n          localStorage.setItem('token', token)\n          this.setState({ isSignIn: true })\n        } else {\n          this.setState({ errors })\n        }\n      })\n      .catch(() => {\n        // TODO\n      })\n  }\n\n  emailOnChange = (event) => {\n    const email = event.target.value\n    this.setState({ email })\n  }\n\n  passwordOnChange = (event) => {\n    const password = event.target.value\n    this.setState({ password })\n  }\n\n  render() {\n    const {\n      email,\n      password,\n      isSignIn,\n      errors,\n    } = this.state\n\n    return (\n      isSignIn ? <Redirect to=\"/\" /> : (\n        <div className=\"background\">\n          <div className=\"session\">\n            <div className=\"session__title\">Sign in to Reach</div>\n            {errors.length !== 0 && <ErrorMessage action=\"Authentication\" errors={errors} />}\n            <input\n              type=\"text\"\n              className=\"session__email\"\n              placeholder=\"Email\"\n              value={email}\n              onChange={this.emailOnChange}\n            />\n            <input\n              type=\"password\"\n              className=\"session__password\"\n              placeholder=\"Password\"\n              value={password}\n              onChange={this.passwordOnChange}\n            />\n            <button type=\"button\" onClick={this.handleSignIn} className=\"session__submit\">\n              Sign In\n            </button>\n            <Link to=\"/signup\" className=\"session__switch\">Create account</Link>\n          </div>\n        </div>\n      )\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport { Link, Redirect } from 'react-router-dom'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\n\nimport ErrorMessage from './Error'\nimport Utils from '../Utils'\nimport '../css/Session.scss'\n\nexport default class SignUp extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      uri: '',\n      avatar: null,\n      name: '',\n      email: '',\n      password: '',\n      passwordConfirmation: '',\n      errors: [],\n      isSignIn: false,\n    }\n  }\n\n  handleSignUp = () => {\n    const {\n      avatar,\n      name,\n      email,\n      password,\n      passwordConfirmation,\n    } = this.state\n\n    const params = new FormData()\n    params.append('user[name]', name)\n    params.append('user[email]', email)\n    params.append('user[password]', password)\n    params.append('user[password_confirmation]', passwordConfirmation)\n    if (avatar) {\n      params.append('user[avatar]', avatar)\n    }\n\n    const url = Utils.buildRequestUrl('/users')\n    fetch(url, {\n      method: 'POST',\n      body: params,\n    })\n      .then((_res) => _res.json())\n      .then((res) => {\n        if (res.is_created) {\n          localStorage.setItem('token', res.token)\n          this.setState({ isSignIn: true })\n        } else {\n          this.setState({ errors: res.errors })\n        }\n      })\n      .catch(() => {\n        // TODO\n      })\n  }\n\n  onChangeFile = (event) => {\n    const avatar = event.target.files[0]\n    const uri = URL.createObjectURL(avatar)\n    this.setState({ uri, avatar })\n  }\n\n  onChangeName = (event) => {\n    const name = event.target.value\n    this.setState({ name })\n  }\n\n  onChangeEmail = (event) => {\n    const email = event.target.value\n    this.setState({ email })\n  }\n\n  onChangePassword = (event) => {\n    const password = event.target.value\n    this.setState({ password })\n  }\n\n  onChangePasswordConfirmation = (event) => {\n    const passwordConfirmation = event.target.value\n    this.setState({ passwordConfirmation })\n  }\n\n  render() {\n    const {\n      uri,\n      name,\n      email,\n      password,\n      passwordConfirmation,\n      errors,\n      isSignIn,\n    } = this.state\n\n    return (\n      isSignIn ? <Redirect to=\"/\" /> : (\n        <div className=\"background\">\n          <div className=\"session\">\n            <div className=\"session__title\">Create account</div>\n            {errors.length !== 0 && <ErrorMessage action=\"Registration\" errors={errors} />}\n            <label htmlFor=\"avatarForm\" className=\"session__avatar\">\n              <input\n                id=\"avatarForm\"\n                type=\"file\"\n                className=\"session__fileField\"\n                onChange={this.onChangeFile}\n              />\n              {uri === ''\n                ? <FontAwesomeIcon icon={['fas', 'user']} className=\"session__fileIcon\" />\n                : <img src={uri} alt=\"avatar\" className=\"session__preview\" />}\n            </label>\n            <div className=\"session__fileLabel\">Upload your avatar</div>\n            <input\n              type=\"text\"\n              className=\"session__name\"\n              placeholder=\"Name\"\n              value={name}\n              onChange={this.onChangeName}\n            />\n            <input\n              type=\"text\"\n              className=\"session__email\"\n              placeholder=\"Email\"\n              value={email}\n              onChange={this.onChangeEmail}\n            />\n            <input\n              type=\"password\"\n              className=\"session__password\"\n              placeholder=\"Password\"\n              value={password}\n              onChange={this.onChangePassword}\n            />\n            <input\n              type=\"password\"\n              className=\"session__password\"\n              placeholder=\"Password confirmation\"\n              value={passwordConfirmation}\n              onChange={this.onChangePasswordConfirmation}\n            />\n            <button type=\"button\" onClick={this.handleSignUp} className=\"session__submit\">\n              Sign Up\n            </button>\n            <Link to=\"/signin\" className=\"session__switch\">Move to Sign In</Link>\n          </div>\n        </div>\n      )\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport {\n  BrowserRouter,\n  Route,\n  Switch,\n  Redirect,\n} from 'react-router-dom'\n\nimport Main from './Main'\nimport SignIn from './SignIn'\nimport SignUp from './SignUp'\n\nclass Home extends Component {\n  constructor(props) {\n    super(props)\n    const token = localStorage.getItem('token')\n    const isAuthenticated = token !== null\n    this.state = {\n      isAuthenticated,\n    }\n  }\n\n  render() {\n    const { isAuthenticated } = this.state\n    return isAuthenticated ? <Main /> : <Redirect to=\"/signin\" />\n  }\n}\n\nconst App = () => (\n  <BrowserRouter>\n    <Switch>\n      <Route path=\"/signin\"><SignIn /></Route>\n      <Route path=\"/signup\"><SignUp /></Route>\n      <Route exact path=\"/\"><Home /></Route>\n      <Route exact><SignIn /></Route>\n    </Switch>\n  </BrowserRouter>\n)\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.scss'\nimport { library } from '@fortawesome/fontawesome-svg-core'\nimport { fab } from '@fortawesome/free-brands-svg-icons'\nimport { fas } from '@fortawesome/free-solid-svg-icons'\nimport { far } from '@fortawesome/free-regular-svg-icons'\n\nimport App from './components/App'\nimport * as serviceWorker from './serviceWorker'\n\nlibrary.add(fab, fas, far)\n\nReactDOM.render(<App />, document.getElementById('root'))\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister()\n"],"sourceRoot":""}