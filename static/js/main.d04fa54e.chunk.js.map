{"version":3,"sources":["Utils.js","components/Error.js","components/ProjectForm.js","components/ResourceForm.js","components/EditAccount.js","components/SideBar.js","components/GanttIndexHeader.js","components/Task.js","components/TaskForm.js","components/Project.js","components/ChartBar.js","components/Gantt.js","components/Main.js","components/SignIn.js","components/SignUp.js","components/App.js","serviceWorker.js","index.js"],"names":["Utils","apiEndpoint","action","id","resource","uriPattern","method","Moment","Date","subtract","startOf","Messages","props","errors","map","err","className","key","error","title","ProjectForm","editProjectFormValue","url","buildRequestUrl","fetch","headers","token","then","_res","json","is_authenticated","project","name","description","setState","catch","handleCreate","state","request","preparingRequest","params","body","JSON","stringify","res","is_created","closeModal","refresh","onChangeName","event","target","value","onChangeDescription","onClickOverlay","stopPropagation","localStorage","getItem","this","onClick","length","type","placeholder","onChange","PureComponent","ResourceForm","getIndexColors","colors","pickedColor","color_id","onPickColor","dataset","color","ColorPallets","modifier","String","style","backgroundColor","data-color","EditAccuount","getCurrentAccount","user","avatar","email","uri","handleUpdate","FormData","append","is_updated","onChangeFile","files","URL","createObjectURL","onChangeEmail","closeEditAccount","htmlFor","icon","src","alt","Component","SideBar","openProjectForm","projectFormVisible","closeProjectForm","openResourceForm","resourceFormVisible","closeResourceForm","openEditAccount","editAccuountVisible","toggleAccountMenu","accountMenuVisible","changeMode","signOut","removeItem","isSignOut","refreshProject","getProjectIndex","to","notExist","GanttIndexHeader","getUserIndex","users","search","projectId","taskName","startDateFrom","startDateTo","endDateFrom","endDateTo","extendFrom","extendTo","orderDuration","orderStartDate","orderEndDate","orderExtend","inCharge","selectedResources","project_id","task_name","start_date","from","order","end_date","extend","duration","in_charge","resources","projects","updateProject","sortingByDateRange","rangeStart","rangeEnd","onChangeRangeStart","onChangeStartDateRangeS","onChangeRangeEnd","onChangeStartDateRangeE","onChangeEndDateRangeS","onChangeEndDateRangeE","onChangeExtendRangeS","onChangeExtendRangeE","onClickResource","searchByResourceVisible","onClickName","searchByNameVisible","onClickDate","currentTarget","searchByDateVisible","dateType","onClickDuration","searchByDurationVisible","onClickInCharge","searchByUsersVisible","onChangeOrder","a","by","onChangeProject","onChangeTask","onClickAvatar","inChargeCopy","targetIndex","indexOf","push","splice","onClickResourceIcon","selectedResourcesCopy","clearSearchName","clearSearchStartDate","clearSearchEndDate","clearSearchExtend","clearSearchDuration","clearSearchInCharge","closeAllModal","resourceIconClass","dateProps","data-type","selected","OrderBy","data-by","aria-label","label","selection","SearchByDuration","SearchByDate","dateFormat","showWeekNumbers","placeholderText","SearchByName","Users","data-id","SearchByUsers","Resources","SearchByResource","Avatars","members","member","i","Task","handleDestroy","is_delete","task","index","tasks","destroyMode","percentComplete","data-action","startDate","endDate","TaskForm","getTaskFormValue","editTaskFormValue","taskID","userIds","resourceId","complete","stringUserIds","userId","onChangeResource","onChangeStartDate","date","onChangeEndDate","onCheck","createTask","diff","percent_complete","resource_id","user_ids","Project","openModal","isVisible","refreshTask","Projects","mode","ChartBar","onMouseEnter","isOverflowX","window","innerWidth","clientX","isOverflowY","innerHeight","clientY","offsetX","offsetY","isHover","onMouseLeave","chartWidth","data","width","Members","Window","top","left","GanttTask","calcOffset","start","baseChartWidth","calcOffsetForWeeks","Math","ceil","calcChartWidthForWeeks","end","endOf","isBefore","isSameOrBefore","isBeforeForWeek","dateRangeStart","scheduleType","offset","paddingLeft","Gantt","dateRangeEnd","scheduleAttr","day","attr","formatDate","format","get","whatDayIsToday","startOfWeek","Schedule","schedules","add","Header","weeks","days","onKeyUp","role","tabIndex","Main","changeScheduleType","projectsCopy","slice","tasksCopy","existingTask","_project","filter","SignIn","handleSignIn","password","result","setItem","isSignIn","emailOnChange","passwordOnChange","SignUp","handleSignUp","passwordConfirmation","onChangePassword","onChangePasswordConfirmation","Home","isAuthenticated","App","path","exact","Boolean","location","hostname","match","library","fab","fas","far","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.d04fa54e.chunk.js","sourcesContent":["import Moment from 'moment'\n\nexport default class Utils {\n  static buildRequestUrl(apiEndpoint) {\n    const baseUrl = 'http://localhost:3001'\n    return baseUrl + apiEndpoint\n  }\n\n  static preparingRequest(action, id, resource) {\n    switch (action) {\n      case 'new':\n        return { uriPattern: `/${resource}`, method: 'POST' }\n      case 'edit':\n        return { uriPattern: `/${resource}/${id}`, method: 'PATCH' }\n      default:\n        return null\n    }\n  }\n\n  static dateRangeStart() {\n    return Moment(new Date()).subtract(2, 'weeks').startOf('days')\n  }\n\n  static dateRangeEnd() {\n    return Moment('2020/4/1', 'YYYY/MM/DD')\n  }\n}\n","import React from 'react'\n\nimport '../css/Error.scss'\n\nconst error = ({ action, errors }) => {\n  const title = `${action} failed!`\n  return (\n    <div className=\"error\">\n      <div className=\"error__title\">{title}</div>\n      <Messages errors={errors} />\n    </div>\n  )\n}\n\nconst Messages = (props) => (\n  props.errors.map((err) => (\n    <div className=\"error__message\" key={err.error}>{err.error}</div>\n  ))\n)\n\nexport default error\n","import React, { PureComponent } from 'react'\n\nimport Utils from '../Utils'\nimport ErrorMessage from './Error'\nimport '../css/Form.scss'\n\nexport default class ProjectForm extends PureComponent {\n  constructor(props) {\n    super(props)\n    this.token = localStorage.getItem('token')\n    const { action } = this.props\n    this.action = action\n    this.state = {\n      name: '',\n      description: '',\n      errors: [],\n    }\n  }\n\n  componentDidMount() {\n    if (this.action === 'edit') {\n      this.editProjectFormValue()\n    }\n  }\n\n  editProjectFormValue = () => {\n    const { id } = this.props\n    const url = Utils.buildRequestUrl(`/projects/${id}/edit`)\n    fetch(url, {\n      method: 'GET',\n      headers: { 'X-Reach-token': this.token },\n    })\n      .then((_res) => _res.json())\n      .then(({ is_authenticated, project }) => {\n        if (is_authenticated) {\n          const { name, description } = project\n          this.setState({ name, description })\n        }\n      })\n      .catch(() => {\n        // TODO\n      })\n  }\n\n  handleCreate = () => {\n    const { name, description } = this.state\n    const { id } = this.props\n    const request = Utils.preparingRequest(this.action, id, 'projects')\n    if (request === null) {\n      return\n    }\n    const url = Utils.buildRequestUrl(request.uriPattern)\n    const params = { name, description }\n\n    fetch(url, {\n      method: request.method,\n      headers: { 'Content-Type': 'application/json', 'X-Reach-token': this.token },\n      body: JSON.stringify(params),\n    })\n      .then((_res) => _res.json())\n      .then((res) => {\n        const { is_created, errors, project } = res\n        const { closeModal, refresh } = this.props\n        if (is_created && this.action === 'new') {\n          refresh(project)\n          closeModal()\n        } else if (is_created && this.action === 'edit') {\n          refresh(project.name)\n          closeModal()\n        } else {\n          this.setState({ errors })\n        }\n      })\n      .catch(() => {\n        // TODO\n      })\n  }\n\n  onChangeName = (event) => {\n    const name = event.target.value\n    this.setState({ name })\n  }\n\n  onChangeDescription = (event) => {\n    const description = event.target.value\n    this.setState({ description })\n  }\n\n  onClickOverlay = (event) => {\n    event.stopPropagation()\n  }\n\n  render() {\n    const { closeModal } = this.props\n    const { name, description, errors } = this.state\n    const title = this.action === 'new' ? 'Create ' : 'Update '\n    return (\n      <div className=\"modalOverlay\" onClick={closeModal}>\n        <div className=\"modalForm\" onClick={this.onClickOverlay}>\n          <div className=\"modalForm__title\">\n            {title}\n            Project\n          </div>\n          {errors.length !== 0 && <ErrorMessage action=\"Project creation\" errors={errors} />}\n          <input\n            type=\"text\"\n            className=\"modalForm__textInput\"\n            placeholder=\"Type a project name\"\n            value={name}\n            onChange={this.onChangeName}\n          />\n          <textarea\n            className=\"modalForm__textarea\"\n            placeholder=\"Type a project description\"\n            value={description}\n            onChange={this.onChangeDescription}\n          />\n          <button type=\"button\" onClick={this.handleCreate} className=\"modalForm__button\">\n            {title}\n          </button>\n        </div>\n      </div>\n    )\n  }\n}\n","import React, { PureComponent } from 'react'\n\nimport Utils from '../Utils'\nimport ErrorMessage from './Error'\n\nexport default class ResourceForm extends PureComponent {\n  constructor(props) {\n    super(props)\n    this.state = {\n      name: '',\n      token: '',\n      colors: [],\n      pickedColor: '',\n      errors: [],\n    }\n  }\n\n  componentDidMount() {\n    this.getIndexColors()\n  }\n\n  getIndexColors = () => {\n    const token = localStorage.getItem('token')\n    const url = Utils.buildRequestUrl('/colors')\n    fetch(url, {\n      method: 'GET',\n      headers: { 'X-Reach-token': token },\n    })\n      .then((_res) => _res.json())\n      .then(({ is_authenticated, colors }) => {\n        if (is_authenticated) {\n          this.setState({ colors, token })\n        }\n      })\n      .catch(() => {\n        // TODO\n      })\n  }\n\n  handleCreate = () => {\n    const { closeModal } = this.props\n    const { pickedColor, token, name } = this.state\n    const params = { name, color_id: pickedColor }\n    const url = Utils.buildRequestUrl('/resources')\n    fetch(url, {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json', 'X-Reach-token': token },\n      body: JSON.stringify(params),\n    })\n      .then((_res) => _res.json())\n      .then((res) => {\n        const { errors, is_created } = res\n        if (is_created) {\n          closeModal()\n        } else {\n          this.setState({ errors })\n        }\n      })\n      .catch(() => {\n        // TODO\n      })\n  }\n\n  onPickColor = (event) => {\n    const pickedColor = event.target.dataset.color\n    this.setState({ pickedColor })\n  }\n\n  onChangeName = (event) => {\n    const name = event.target.value\n    this.setState({ name })\n  }\n\n  onClickOverlay = (event) => {\n    event.stopPropagation()\n  }\n\n  render() {\n    const { closeModal, action } = this.props\n    const {\n      name,\n      colors,\n      pickedColor,\n      errors,\n    } = this.state\n\n    return (\n      <div className=\"modalOverlay\" onClick={closeModal}>\n        <div className=\"modalForm\" onClick={this.onClickOverlay}>\n          <div className=\"modalForm__title\">\n            {action}\n            Resource\n          </div>\n          {errors.length !== 0 && <ErrorMessage action=\"Resource creation\" errors={errors} />}\n          <input\n            type=\"text\"\n            className=\"modalForm__textInput\"\n            placeholder=\"Type a resource name\"\n            value={name}\n            onChange={this.onChangeName}\n          />\n          <div className=\"modalForm__label\">Chart color</div>\n          <div className=\"colorPallet\">\n            <ColorPallets\n              colors={colors}\n              pickedColor={pickedColor}\n              onPickColor={this.onPickColor}\n            />\n          </div>\n          <button type=\"button\" onClick={this.handleCreate} className=\"modalForm__button\">\n            {action}\n          </button>\n        </div>\n      </div>\n    )\n  }\n}\n\nconst ColorPallets = ({ colors, pickedColor, onPickColor }) => (\n  colors.map((color) => {\n    const modifier = pickedColor === String(color.id) ? '--selected' : ''\n    const className = `colorPallet__body${modifier}`\n    return (\n      <div key={color.id} className=\"colorPallet__edge\">\n        <div\n          className={className}\n          style={{ backgroundColor: color.value }}\n          data-color={color.id}\n          onClick={onPickColor}\n        />\n      </div>\n    )\n  })\n)\n","import React, { Component } from 'react'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\n\nimport ErrorMessage from './Error'\nimport Utils from '../Utils'\nimport '../css/Session.scss'\n\nexport default class EditAccuount extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      uri: '',\n      avatar: null,\n      name: '',\n      email: '',\n      errors: [],\n    }\n  }\n\n  componentDidMount() {\n    this.token = localStorage.getItem('token')\n    this.getCurrentAccount()\n  }\n\n  getCurrentAccount = () => {\n    const url = Utils.buildRequestUrl('/users/edit')\n    fetch(url, {\n      method: 'GET',\n      headers: { 'X-Reach-token': this.token },\n    })\n      .then((_res) => _res.json())\n      .then(({ is_authenticated, user }) => {\n        if (is_authenticated) {\n          const { avatar, name, email } = user\n          this.avatar = avatar\n          this.name = name\n          this.email = email\n          this.setState({ uri: avatar, name, email })\n        } else {\n          // TODO\n        }\n      })\n      .catch(() => {\n        // TODO\n      })\n  }\n\n  handleUpdate = () => {\n    const {\n      avatar,\n      name,\n      email,\n    } = this.state\n\n    const params = new FormData()\n    params.append('user[name]', name)\n    params.append('user[email]', email)\n    if (avatar) {\n      params.append('user[avatar]', avatar)\n    }\n\n    const url = Utils.buildRequestUrl('/users/update')\n    fetch(url, {\n      method: 'PATCH',\n      headers: { 'X-Reach-token': this.token },\n      body: params,\n    })\n      .then((_res) => _res.json())\n      .then(({ is_updated, errors }) => {\n        if (is_updated) {\n          const { refresh } = this.props\n          refresh()\n        } else {\n          this.setState({ errors })\n        }\n      })\n      .catch(() => {\n        // TODO\n      })\n  }\n\n  onChangeFile = (event) => {\n    const avatar = event.target.files[0]\n    const uri = URL.createObjectURL(avatar)\n    this.setState({ uri, avatar })\n  }\n\n  onChangeName = (event) => {\n    const name = event.target.value\n    this.setState({ name })\n  }\n\n  onChangeEmail = (event) => {\n    const email = event.target.value\n    this.setState({ email })\n  }\n\n  closeEditAccount = () => {\n    const { closeEditAccount } = this.props\n    closeEditAccount()\n  }\n\n  onClickOverlay = (event) => event.stopPropagation()\n\n  render() {\n    const {\n      uri,\n      name,\n      email,\n      errors,\n    } = this.state\n\n    return (\n      <div className=\"background--edit\" onClick={this.closeEditAccount}>\n        <div className=\"session\" onClick={this.onClickOverlay}>\n          <div className=\"session__title\">Edit account</div>\n          {errors.length !== 0 && <ErrorMessage action=\"Registration\" errors={errors} />}\n          <label htmlFor=\"avatarForm\" className=\"session__avatar\">\n            <input\n              id=\"avatarForm\"\n              type=\"file\"\n              className=\"session__fileField\"\n              onChange={this.onChangeFile}\n            />\n            {uri === ''\n              ? <FontAwesomeIcon icon={['fas', 'user']} className=\"session__fileIcon\" />\n              : <img src={uri} alt=\"avatar\" className=\"session__preview\" />}\n          </label>\n          <div className=\"session__fileLabel\">Upload your avatar</div>\n          <input\n            type=\"text\"\n            className=\"session__name\"\n            placeholder=\"Name\"\n            value={name}\n            onChange={this.onChangeName}\n          />\n          <input\n            type=\"text\"\n            className=\"session__email\"\n            placeholder=\"Email\"\n            value={email}\n            onChange={this.onChangeEmail}\n          />\n          <button type=\"button\" onClick={this.handleUpdate} className=\"session__submit\">\n            Update\n          </button>\n        </div>\n      </div>\n    )\n  }\n}\n","import React, { PureComponent } from 'react'\nimport { Redirect } from 'react-router-dom'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\n\nimport ProjectForm from './ProjectForm'\nimport ResourceForm from './ResourceForm'\nimport EditAccount from './EditAccount'\nimport '../css/SideBar.scss'\n\nexport default class SideBar extends PureComponent {\n  constructor(props) {\n    super(props)\n    this.state = {\n      projectFormVisible: false,\n      resourceFormVisible: false,\n      accountMenuVisible: false,\n      editAccuountVisible: false,\n      isSignOut: false,\n    }\n  }\n\n  openProjectForm = () => this.setState({ projectFormVisible: true })\n\n  closeProjectForm = () => this.setState({ projectFormVisible: false })\n\n  openResourceForm = () => this.setState({ resourceFormVisible: true })\n\n  closeResourceForm = () => this.setState({ resourceFormVisible: false })\n\n  openEditAccount = () => this.setState({ editAccuountVisible: true })\n\n  closeEditAccount = () => this.setState({ editAccuountVisible: false })\n\n  toggleAccountMenu = () => {\n    const { accountMenuVisible } = this.state\n    this.setState({ accountMenuVisible: !accountMenuVisible })\n  }\n\n  changeMode = () => {\n    const { changeMode } = this.props\n    changeMode()\n  }\n\n  signOut = () => {\n    localStorage.removeItem('token')\n    this.setState({ isSignOut: true })\n  }\n\n  render() {\n    const { refreshProject, getProjectIndex } = this.props\n    const {\n      projectFormVisible,\n      resourceFormVisible,\n      accountMenuVisible,\n      editAccuountVisible,\n      isSignOut,\n    } = this.state\n\n    return (\n      isSignOut ? <Redirect to=\"/reach/signin\" /> : (\n        <div className=\"sidebar\">\n          <div className=\"sidebar__iconWrapper--plus\" onClick={this.openProjectForm}>\n            <FontAwesomeIcon icon={['fas', 'plus']} className=\"sidebar__icon\" />\n          </div>\n          <div className=\"sidebar__iconWrapper--minus\" onClick={this.changeMode}>\n            <FontAwesomeIcon icon={['fas', 'minus']} className=\"sidebar__icon\" />\n          </div>\n          <div className=\"sidebar__iconWrapper--resource\" onClick={this.openResourceForm}>\n            <FontAwesomeIcon icon={['fas', 'tags']} className=\"sidebar__icon\" />\n          </div>\n          <div className=\"sidebar__iconWrapper--account\" onClick={this.toggleAccountMenu}>\n            <FontAwesomeIcon icon={['fas', 'user']} className=\"sidebar__icon\" />\n          </div>\n          {accountMenuVisible && (\n            <div className=\"overlay\" onClick={this.toggleAccountMenu}>\n              <div className=\"accountMenu\">\n                <div className=\"accountMenu__edit\" onClick={this.openEditAccount}>Edit account</div>\n                <div className=\"accountMenu__signout\" onClick={this.signOut}>Sign out</div>\n              </div>\n            </div>\n          )}\n          {projectFormVisible\n            && <ProjectForm action=\"new\" refresh={refreshProject} closeModal={this.closeProjectForm} />}\n          {resourceFormVisible && <ResourceForm action=\"Create\" closeModal={this.closeResourceForm} />}\n          {editAccuountVisible\n            && <EditAccount refresh={getProjectIndex} closeEditAccount={this.closeEditAccount} />}\n        </div>\n      )\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport DatePicker from 'react-datepicker'\nimport 'react-datepicker/dist/react-datepicker.css'\n\nimport Utils from '../Utils'\n\nconst notExist = -1\n\nexport default class GanttIndexHeader extends Component {\n  constructor(props) {\n    super(props)\n    this.token = localStorage.getItem('token')\n    this.state = {\n      users: [],\n      searchByNameVisible: false,\n      searchByDateVisible: false,\n      searchByDurationVisible: false,\n      searchByUsersVisible: false,\n      searchByResourceVisible: false,\n      dateType: '',\n      projectId: '',\n      taskName: '',\n      startDateFrom: '',\n      startDateTo: '',\n      endDateFrom: '',\n      endDateTo: '',\n      extendFrom: '',\n      extendTo: '',\n      orderDuration: '',\n      orderStartDate: '',\n      orderEndDate: '',\n      orderExtend: '',\n      inCharge: [],\n      selectedResources: [],\n    }\n  }\n\n  componentDidMount() {\n    this.getUserIndex()\n  }\n\n  getUserIndex = () => {\n    const url = Utils.buildRequestUrl('/users')\n    fetch(url, {\n      method: 'GET',\n      headers: { 'X-Reach-token': this.token },\n    })\n      .then((_res) => _res.json())\n      .then(({ users, is_authenticated }) => {\n        if (is_authenticated) {\n          this.setState({ users })\n        }\n      })\n      .catch(() => {\n        // TODO\n      })\n  }\n\n  search = () => {\n    const {\n      projectId,\n      taskName,\n      startDateFrom,\n      startDateTo,\n      endDateFrom,\n      endDateTo,\n      extendFrom,\n      extendTo,\n      orderDuration,\n      orderStartDate,\n      orderEndDate,\n      orderExtend,\n      inCharge,\n      selectedResources,\n    } = this.state\n\n    const url = Utils.buildRequestUrl('/tasks/search')\n    const params = {\n      project_id: projectId,\n      task_name: taskName,\n      start_date: { from: startDateFrom, to: startDateTo, order: orderStartDate },\n      end_date: { from: endDateFrom, to: endDateTo, order: orderEndDate },\n      extend: { from: extendFrom, to: extendTo, order: orderExtend },\n      duration: { order: orderDuration },\n      in_charge: inCharge,\n      resources: selectedResources,\n    }\n\n    fetch(url, {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify(params),\n    })\n      .then((_res) => _res.json())\n      .then(({ projects }) => {\n        const { updateProject } = this.props\n        updateProject(projects)\n      })\n      .catch(() => {\n        // TODO\n      })\n  }\n\n  sortingByDateRange = (type) => {\n    const {\n      startDateFrom,\n      startDateTo,\n      endDateFrom,\n      endDateTo,\n      extendFrom,\n      extendTo,\n      orderStartDate,\n      orderEndDate,\n      orderExtend,\n    } = this.state\n\n    switch (type) {\n      case 'start':\n        return {\n          rangeStart: startDateFrom,\n          rangeEnd: startDateTo,\n          onChangeRangeStart: this.onChangeStartDateRangeS,\n          onChangeRangeEnd: this.onChangeStartDateRangeE,\n          order: orderStartDate,\n        }\n      case 'end':\n        return {\n          rangeStart: endDateFrom,\n          rangeEnd: endDateTo,\n          onChangeRangeStart: this.onChangeEndDateRangeS,\n          onChangeRangeEnd: this.onChangeEndDateRangeE,\n          order: orderEndDate,\n        }\n      case 'extend':\n        return {\n          rangeStart: extendFrom,\n          rangeEnd: extendTo,\n          onChangeRangeStart: this.onChangeExtendRangeS,\n          onChangeRangeEnd: this.onChangeExtendRangeE,\n          order: orderExtend,\n        }\n      default:\n        return {}\n    }\n  }\n\n  onClickResource = () => {\n    const { searchByResourceVisible } = this.state\n    this.setState({ searchByResourceVisible: !searchByResourceVisible })\n  }\n\n  onClickName = () => {\n    const { searchByNameVisible } = this.state\n    this.setState({ searchByNameVisible: !searchByNameVisible })\n  }\n\n  onClickDate = (event) => {\n    const { type } = event.currentTarget.dataset\n    const { searchByDateVisible } = this.state\n    this.setState({ searchByDateVisible: !searchByDateVisible, dateType: type })\n  }\n\n  onClickDuration = () => {\n    const { searchByDurationVisible } = this.state\n    this.setState({ searchByDurationVisible: !searchByDurationVisible })\n  }\n\n  onClickInCharge = () => {\n    const { searchByUsersVisible } = this.state\n    this.setState({ searchByUsersVisible: !searchByUsersVisible })\n  }\n\n  onChangeOrder = async (event) => {\n    const { by } = event.currentTarget.dataset\n    const order = event.target.value\n\n    switch (by) {\n      case 'duration':\n        await this.setState({\n          orderDuration: order,\n          orderStartDate: '',\n          orderEndDate: '',\n          orderExtend: '',\n        })\n        break\n      case 'start':\n        await this.setState({\n          orderDuration: '',\n          orderStartDate: order,\n          orderEndDate: '',\n          orderExtend: '',\n        })\n        break\n      case 'end':\n        await this.setState({\n          orderDuration: '',\n          orderStartDate: '',\n          orderEndDate: order,\n          orderExtend: '',\n        })\n        break\n      case 'extend':\n        await this.setState({\n          orderDuration: '',\n          orderStartDate: '',\n          orderEndDate: '',\n          orderExtend: order,\n        })\n        break\n      default:\n    }\n    this.search()\n  }\n\n  onChangeProject = async (event) => {\n    const projectId = event.target.value\n    await this.setState({ projectId })\n    this.search()\n  }\n\n  onChangeTask = async (event) => {\n    const taskName = event.target.value\n    await this.setState({ taskName })\n    this.search()\n  }\n\n  onChangeStartDateRangeS = async (startDateFrom) => {\n    await this.setState({ startDateFrom })\n    this.search()\n  }\n\n  onChangeStartDateRangeE = async (startDateTo) => {\n    await this.setState({ startDateTo })\n    this.search()\n  }\n\n  onChangeEndDateRangeS = async (endDateFrom) => {\n    await this.setState({ endDateFrom })\n    this.search()\n  }\n\n  onChangeEndDateRangeE = async (endDateTo) => {\n    this.setState({ endDateTo })\n    this.search()\n  }\n\n  onChangeExtendRangeS = async (extendFrom) => {\n    await this.setState({ extendFrom })\n    this.search()\n  }\n\n  onChangeExtendRangeE = async (extendTo) => {\n    await this.setState({ extendTo })\n    this.search()\n  }\n\n  onClickAvatar = async (event) => {\n    const { inCharge } = this.state\n    const inChargeCopy = inCharge\n    const { id } = event.currentTarget.dataset\n    const targetIndex = inCharge.indexOf(id)\n    if (targetIndex === notExist) {\n      inChargeCopy.push(id)\n    } else {\n      inChargeCopy.splice(targetIndex, 1)\n    }\n    await this.setState({ inCharge: inChargeCopy })\n    this.search()\n  }\n\n  onClickResourceIcon = async (event) => {\n    const { selectedResources } = this.state\n    const selectedResourcesCopy = selectedResources\n    const { id } = event.currentTarget.dataset\n    const targetIndex = selectedResources.indexOf(id)\n    if (targetIndex === notExist) {\n      selectedResourcesCopy.push(id)\n    } else {\n      selectedResourcesCopy.splice(targetIndex, 1)\n    }\n    await this.setState({ selectedResources: selectedResourcesCopy })\n    this.search()\n  }\n\n  clearSearchName = async () => {\n    await this.setState({\n      taskName: '',\n      projectId: '',\n      searchByNameVisible: false,\n    })\n    this.search()\n  }\n\n  clearSearchStartDate = async () => {\n    await this.setState({\n      startDateFrom: '',\n      startDateTo: '',\n      orderStartDate: '',\n      searchByDateVisible: false,\n    })\n    this.search()\n  }\n\n  clearSearchEndDate = async () => {\n    await this.setState({\n      endDateFrom: '',\n      endDateTo: '',\n      orderEndDate: '',\n      searchByDateVisible: false,\n    })\n    this.search()\n  }\n\n  clearSearchExtend = async () => {\n    await this.setState({\n      extendFrom: '',\n      extendTo: '',\n      orderExtend: '',\n      searchByDateVisible: false,\n    })\n    this.search()\n  }\n\n  clearSearchDuration = async () => {\n    await this.setState({ orderDuration: '', searchByDurationVisible: false })\n    this.search()\n  }\n\n  clearSearchInCharge = async () => {\n    await this.setState({ inCharge: [], searchByUsersVisible: false })\n    this.search()\n  }\n\n  closeAllModal = () => {\n    this.setState({\n      searchByNameVisible: false,\n      searchByDateVisible: false,\n      searchByDurationVisible: false,\n      searchByUsersVisible: false,\n      searchByResourceVisible: false,\n    })\n  }\n\n  stopPropagation = (event) => event.stopPropagation()\n\n  render() {\n    const { projects, resources } = this.props\n    const {\n      users,\n      searchByNameVisible,\n      searchByDateVisible,\n      searchByDurationVisible,\n      searchByUsersVisible,\n      searchByResourceVisible,\n      projectId,\n      taskName,\n      dateType,\n      startDateFrom,\n      startDateTo,\n      endDateFrom,\n      endDateTo,\n      extendFrom,\n      extendTo,\n      orderStartDate,\n      orderEndDate,\n      orderExtend,\n      orderDuration,\n      inCharge,\n      selectedResources,\n    } = this.state\n\n    const resourceIconClass = selectedResources.length === 0 ? 'resourceIcon' : 'resourceIcon--selected'\n    const dateProps = this.sortingByDateRange(dateType)\n    const {\n      rangeStart,\n      rangeEnd,\n      onChangeRangeStart,\n      onChangeRangeEnd,\n      order,\n    } = dateProps\n\n    return (\n      <div className=\"gantt-index-header\">\n        <div className=\"gantt-index-header__resource\">\n          <div className={resourceIconClass} onClick={this.onClickResource} />\n        </div>\n        <div className=\"gantt-index-header__name\">\n          {projectId === '' && taskName === ''\n            ? <span className=\"gantt-index-header__label\" onClick={this.onClickName}>Name</span>\n            : (\n              <div className=\"selected\">\n                <span className=\"selected__label\" onClick={this.onClickName}>Name</span>\n                <span className=\"selected__clear\" onClick={this.clearSearchName}>×</span>\n              </div>\n            )}\n        </div>\n\n        <div className=\"gantt-index-header__startDate\">\n          {startDateFrom === '' && startDateTo === '' && orderStartDate === ''\n            ? (\n              <span className=\"gantt-index-header__label\" data-type=\"start\" onClick={this.onClickDate}>\n                StartDate\n              </span>\n            ) : (\n              <div className=\"selected\">\n                <span className=\"selected__label\" data-type=\"start\" onClick={this.onClickDate}>\n                  StartDate\n                </span>\n                <span className=\"selected__clear\" onClick={this.clearSearchStartDate}>×</span>\n              </div>\n            )}\n        </div>\n\n        <div className=\"gantt-index-header__endDate\">\n          {endDateFrom === '' && endDateTo === '' && orderEndDate === ''\n            ? (\n              <span className=\"gantt-index-header__label\" data-type=\"end\" onClick={this.onClickDate}>\n                EndDate\n              </span>\n            ) : (\n              <div className=\"selected\">\n                <span className=\"selected__label\" data-type=\"end\" onClick={this.onClickDate}>\n                  EndDate\n                </span>\n                <span className=\"selected__clear\" onClick={this.clearSearchEndDate}>×</span>\n              </div>\n            )}\n        </div>\n\n        <div className=\"gantt-index-header__extend\">\n          {extendFrom === '' && extendTo === '' && orderExtend === ''\n            ? (\n              <span className=\"gantt-index-header__label\" data-type=\"extend\" onClick={this.onClickDate}>\n                Extend\n              </span>\n            ) : (\n              <div className=\"selected\">\n                <span className=\"selected__label\" data-type=\"extend\" onClick={this.onClickDate}>\n                  Extend\n                </span>\n                <span className=\"selected__clear\" onClick={this.clearSearchExtend}>×</span>\n              </div>\n            )}\n        </div>\n\n        <div className=\"gantt-index-header__duration\">\n          {orderDuration === ''\n            ? <span className=\"gantt-index-header__label\" onClick={this.onClickDuration}>Duration</span>\n            : (\n              <div className=\"selected\">\n                <span className=\"selected__label\" onClick={this.onClickDuration}>Duration</span>\n                <span className=\"selected__clear\" onClick={this.clearSearchDuration}>×</span>\n              </div>\n            )}\n        </div>\n        <div className=\"gantt-index-header__inCharge\">\n          {inCharge.length === 0\n            ? <span className=\"gantt-index-header__label\" onClick={this.onClickInCharge}>InCharge</span>\n            : (\n              <div className=\"selected\">\n                <span className=\"selected__label\" onClick={this.onClickInCharge}>InCharge</span>\n                <span className=\"selected__clear\" onClick={this.clearSearchInCharge}>×</span>\n              </div>\n            )}\n        </div>\n        {searchByResourceVisible && (\n          <div className=\"overlay\" onClick={this.closeAllModal}>\n            <SearchByResource\n              resources={resources}\n              selectedResources={selectedResources}\n              onClickResource={this.onClickResourceIcon}\n              stopPropagation={this.stopPropagation}\n            />\n          </div>\n        )}\n        {searchByNameVisible && (\n          <div className=\"overlay\" onClick={this.closeAllModal}>\n            <SearchByName\n              projectId={projectId}\n              projects={projects}\n              onChangeProject={this.onChangeProject}\n              taskName={taskName}\n              onChangeTask={this.onChangeTask}\n              stopPropagation={this.stopPropagation}\n            />\n          </div>\n        )}\n        {searchByDateVisible && (\n          <div className=\"overlay\" onClick={this.closeAllModal}>\n            <SearchByDate\n              dateType={dateType}\n              rangeStart={rangeStart}\n              rangeEnd={rangeEnd}\n              onChangeRangeStart={onChangeRangeStart}\n              onChangeRangeEnd={onChangeRangeEnd}\n              onChangeOrder={this.onChangeOrder}\n              selected={order}\n              stopPropagation={this.stopPropagation}\n            />\n          </div>\n        )}\n        {searchByDurationVisible && (\n          <div className=\"overlay\" onClick={this.closeAllModal}>\n            <SearchByDuration\n              onChangeOrder={this.onChangeOrder}\n              selected={orderDuration}\n              stopPropagation={this.stopPropagation}\n            />\n          </div>\n        )}\n        {searchByUsersVisible && (\n          <div className=\"overlay\" onClick={this.closeAllModal}>\n            <SearchByUsers\n              users={users}\n              inCharge={inCharge}\n              onClickAvatar={this.onClickAvatar}\n              stopPropagation={this.stopPropagation}\n            />\n          </div>\n        )}\n      </div>\n    )\n  }\n}\n\nconst OrderBy = (props) => {\n  const { onChangeOrder, by, selected } = props\n  const selections = [{ label: 'ASC', value: 'ASC' }, { label: 'DESC', value: 'DESC' }]\n\n  return (\n    <select data-by={by} value={selected} onChange={onChangeOrder} className=\"search__order\">\n      <option key=\"default\" value={null} aria-label=\"order\" />\n      {selections.map((selection) => (\n        <option key={selection.label} value={selection.value}>{selection.label}</option>\n      ))}\n    </select>\n  )\n}\n\nconst SearchByDuration = (props) => {\n  const { onChangeOrder, selected, stopPropagation } = props\n\n  return (\n    <div className=\"search--duration\" onClick={stopPropagation}>\n      <div className=\"search__label\">Order by duration</div>\n      <OrderBy by=\"duration\" onChangeOrder={onChangeOrder} selected={selected} />\n      <div className=\"search__divide\" />\n    </div>\n  )\n}\n\nconst SearchByDate = (props) => {\n  const {\n    rangeStart,\n    rangeEnd,\n    onChangeRangeStart,\n    onChangeRangeEnd,\n    dateType,\n    onChangeOrder,\n    order,\n    stopPropagation,\n  } = props\n\n  const className = `search--${dateType}`\n  const title = `Filter by ${dateType} date`\n\n  return (\n    <div className={className} onClick={stopPropagation}>\n      <div className=\"search__label\">Order by duration</div>\n      <OrderBy by={dateType} onChangeOrder={onChangeOrder} selected={order} />\n      <div className=\"search__divide\" />\n      <div className=\"search__label\">{title}</div>\n      <div className=\"search__dateWrapper\">\n        <DatePicker\n          className=\"search__dateRange\"\n          dateFormat=\"yyyy/MM/dd\"\n          showWeekNumbers\n          placeholderText=\"Select range start\"\n          selected={rangeStart}\n          onChange={onChangeRangeStart}\n        />\n        <DatePicker\n          className=\"search__dateRange\"\n          dateFormat=\"yyyy/MM/dd\"\n          showWeekNumbers\n          placeholderText=\"Select range end\"\n          selected={rangeEnd}\n          onChange={onChangeRangeEnd}\n        />\n      </div>\n    </div>\n  )\n}\n\nconst SearchByName = (props) => {\n  const {\n    projectId,\n    projects,\n    onChangeProject,\n    taskName,\n    onChangeTask,\n    stopPropagation,\n  } = props\n\n  return (\n    <div className=\"search--name\" onClick={stopPropagation}>\n      <div className=\"search__label\">Filter by Project</div>\n      <select value={projectId} onChange={onChangeProject} className=\"search__project\">\n        <option key=\"default\" value={null} aria-label=\"selectProject\" />\n        {projects.map((project) => (\n          <option key={project.name} value={project.id}>{project.name}</option>\n        ))}\n      </select>\n      <div className=\"search__divide\" />\n      <div className=\"search__label\">Search by Task name</div>\n      <input type=\"text\" className=\"search__task\" value={taskName} onChange={onChangeTask} />\n    </div>\n  )\n}\n\nconst Users = ({ users, onClickAvatar, inCharge }) => (\n  users.map((user) => {\n    const targetIndex = inCharge.indexOf(String(user.id))\n    return (\n      <div key={user.id} className=\"avatar\">\n        <div data-id={user.id} onClick={onClickAvatar} className=\"avatar__wrapper\">\n          <img src={user.avatar} alt={user.name} className=\"avatar__image\" />\n          {targetIndex !== notExist && <div className=\"avatar__selected\" />}\n        </div>\n        <div className=\"avatar__name\">{user.name}</div>\n      </div>\n    )\n  })\n)\n\nconst SearchByUsers = (props) => {\n  const {\n    users,\n    inCharge,\n    onClickAvatar,\n    stopPropagation,\n  } = props\n\n  return (\n    <div className=\"search--user\" onClick={stopPropagation}>\n      <div className=\"search__label\">Search by users</div>\n      <div className=\"search__usersWrapper\">\n        <Users users={users} inCharge={inCharge} onClickAvatar={onClickAvatar} />\n      </div>\n    </div>\n  )\n}\n\nconst Resources = ({ resources, selectedResources, onClickResource }) => (\n  resources.map((resource) => {\n    const targetIndex = selectedResources.indexOf(String(resource.id))\n    return (\n      <div key={resource.id} className=\"resource\">\n        <div data-id={resource.id} onClick={onClickResource} className=\"resource__wrapper\">\n          <div className=\"resource__icon\" style={{ backgroundColor: resource.color }} />\n          {targetIndex !== notExist && <div className=\"resource__selected\" />}\n        </div>\n        <div className=\"resource__name\">{resource.name}</div>\n      </div>\n    )\n  })\n)\n\nconst SearchByResource = (props) => {\n  const {\n    resources,\n    selectedResources,\n    onClickResource,\n    stopPropagation,\n  } = props\n\n  return (\n    <div className=\"search--resource\" onClick={stopPropagation}>\n      <div className=\"search__label\">Search by resource</div>\n      <div className=\"search__resourceWrapper\">\n        <Resources\n          resources={resources}\n          selectedResources={selectedResources}\n          onClickResource={onClickResource}\n        />\n      </div>\n    </div>\n  )\n}\n","import React, { Component } from 'react'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\n\nimport '../css/Task.scss'\nimport Utils from '../Utils'\n\nconst Avatars = ({ members }) => (\n  members.map((member, i) => {\n    if (i > 3) {\n      return null\n    }\n    if (i < 3) {\n      return <img key={member.name} src={member.avatar} alt={member.name} className=\"task__avatar\" />\n    }\n    return <div key={String(i)} className=\"task__avatar--length\">{members.length}</div>\n  })\n)\n\nexport default class Task extends Component {\n  handleDestroy = (event) => {\n    event.stopPropagation()\n    this.token = localStorage.getItem('token')\n    const { id } = event.currentTarget.dataset\n    const url = Utils.buildRequestUrl(`/tasks/${id}`)\n\n    fetch(url, {\n      method: 'DELETE',\n      headers: { 'X-Reach-token': this.token },\n    })\n      .then((_res) => _res.json())\n      .then(({ is_delete, task }) => {\n        if (is_delete) {\n          const { index, refresh } = this.props\n          refresh(task, index, 'destroy')\n        }\n      })\n      .catch(() => {\n        // TODO\n      })\n  }\n\n  onClickOverlay = (event) => {\n    event.stopPropagation()\n  }\n\n  render() {\n    const { tasks, onClick, destroyMode } = this.props\n    return (\n      tasks.map((task) => {\n        const className = task.percentComplete === 'progress' ? 'task' : 'task--complete'\n        return (\n          <div key={task.id} data-action=\"edit\" data-id={task.id} className={className} onClick={onClick}>\n            <div className=\"task__icon\" onClick={this.onClickOverlay}>\n              {destroyMode ? (\n                <FontAwesomeIcon\n                  data-id={task.id}\n                  icon={['fas', 'minus-circle']}\n                  className=\"task__delete\"\n                  onClick={this.handleDestroy}\n                />\n              ) : <div className=\"task__resource\" style={{ backgroundColor: task.resource.color }} />}\n            </div>\n            <div className=\"task__name\">{task.name}</div>\n            <div className=\"task__startDate\">{task.startDate}</div>\n            <div className=\"task__endDate\">{task.endDate}</div>\n            <div className=\"task__extend\">{task.extend}</div>\n            <div className=\"task__duration\">{task.duration}</div>\n            <div className=\"task__inCharge\">\n              <Avatars members={task.users} />\n            </div>\n          </div>\n        )\n      })\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport DatePicker from 'react-datepicker'\nimport Moment from 'moment'\nimport 'react-datepicker/dist/react-datepicker.css'\n\nimport ErrorMessage from './Error'\nimport '../css/Form.scss'\nimport Utils from '../Utils'\n\nconst notExist = -1\n\nexport default class TaskForm extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      resources: [],\n      users: [],\n      name: '',\n      resource: '',\n      startDate: null,\n      endDate: null,\n      complete: false,\n      inCharge: [],\n      description: '',\n      errors: [],\n    }\n  }\n\n  componentDidMount() {\n    const { taskID, action } = this.props\n    if (action === 'new') {\n      this.getTaskFormValue()\n    } else if (action === 'edit') {\n      this.editTaskFormValue(taskID)\n    }\n  }\n\n  getTaskFormValue = () => {\n    this.token = localStorage.getItem('token')\n    const url = Utils.buildRequestUrl('/tasks/new')\n    fetch(url, {\n      method: 'GET',\n      headers: { 'X-Reach-token': this.token },\n    })\n      .then((_res) => _res.json())\n      .then((res) => {\n        const { is_authenticated, resources, users } = res\n        if (is_authenticated) {\n          this.setState({ resources, users })\n        }\n      })\n      .catch(() => {\n        // TODO\n      })\n  }\n\n  editTaskFormValue = (taskID) => {\n    this.token = localStorage.getItem('token')\n    const url = Utils.buildRequestUrl(`/tasks/${taskID}/edit`)\n    fetch(url, {\n      method: 'GET',\n      headers: { 'X-Reach-token': this.token },\n    })\n      .then((_res) => _res.json())\n      .then((res) => {\n        const { is_authenticated, resources, users } = res\n        if (is_authenticated) {\n          const {\n            description,\n            startDate,\n            endDate,\n            extend,\n            name,\n            percentComplete,\n            userIds,\n            resourceId,\n          } = res.task\n\n          const complete = percentComplete === 'complete'\n          const stringUserIds = userIds.map((userId) => String(userId))\n          this.setState({\n            resources,\n            users,\n            name,\n            complete,\n            description,\n            startDate: new Date(startDate),\n            endDate: extend ? new Date(extend) : new Date(endDate),\n            inCharge: stringUserIds,\n            resource: resourceId,\n          })\n        }\n      })\n      .catch(() => {\n        // TODO\n      })\n  }\n\n  onChangeName = (event) => {\n    const name = event.target.value\n    this.setState({ name })\n  }\n\n  onChangeResource = (event) => {\n    const resource = event.target.value\n    this.setState({ resource })\n  }\n\n  onChangeStartDate = (date) => {\n    this.setState({ startDate: date })\n  }\n\n  onChangeEndDate = (date) => {\n    this.setState({ endDate: date })\n  }\n\n  onCheck = () => {\n    const { complete } = this.state\n    this.setState({ complete: !complete })\n  }\n\n  onClickAvatar = (event) => {\n    const { inCharge } = this.state\n    const inChargeCopy = inCharge\n    const { id } = event.currentTarget.dataset\n    const targetIndex = inCharge.indexOf(id)\n    if (targetIndex === notExist) {\n      inChargeCopy.push(id)\n    } else {\n      inChargeCopy.splice(targetIndex, 1)\n    }\n    this.setState({ inCharge: inChargeCopy })\n  }\n\n  onChangeDescription = (event) => {\n    const description = event.target.value\n    this.setState({ description })\n  }\n\n  createTask = () => {\n    const { id, taskID, action } = this.props\n    const {\n      name,\n      resource,\n      startDate,\n      endDate,\n      complete,\n      inCharge,\n      description,\n    } = this.state\n\n    const request = Utils.preparingRequest(action, taskID, 'tasks')\n    if (request === null) {\n      return\n    }\n    const url = Utils.buildRequestUrl(request.uriPattern)\n    const duration = Moment(endDate).diff(Moment(startDate), 'days')\n    const percent_complete = complete ? 'complete' : 'progress'\n    const params = {\n      name,\n      description,\n      duration,\n      percent_complete,\n      resource_id: resource,\n      project_id: id,\n      start_date: startDate,\n      end_date: endDate,\n      user_ids: inCharge,\n    }\n\n    if (action === 'edit') {\n      params.extend = endDate\n      delete params.end_date\n    }\n\n    fetch(url, {\n      method: request.method,\n      headers: { 'X-Reach-token': this.token, 'Content-Type': 'application/json' },\n      body: JSON.stringify(params),\n    })\n      .then((_res) => _res.json())\n      .then(({ is_created, errors, task }) => {\n        if (is_created) {\n          const { refresh, index } = this.props\n          refresh(task, index, action)\n          this.setState({ errors: [] })\n        } else {\n          this.setState({ errors })\n        }\n      })\n      .catch(() => {\n        // TODO\n      })\n  }\n\n  render() {\n    const { closeModal, action } = this.props\n    const title = action === 'edit' ? 'Update' : 'Add'\n    const {\n      users,\n      resources,\n      resource,\n      name,\n      startDate,\n      endDate,\n      complete,\n      inCharge,\n      description,\n      errors,\n    } = this.state\n\n    return (\n      <div className=\"taskForm\">\n        <div className=\"taskForm__close\" onClick={closeModal}>×</div>\n        <div className=\"taskForm__title\">\n          {title}\n          Task\n        </div>\n        {errors.length !== 0 && <ErrorMessage action=\"Task creation\" errors={errors} />}\n        <div className=\"taskFormRow\">\n          <div className=\"taskFormRow__label\">Name</div>\n          <input\n            type=\"text\"\n            className=\"taskFormRow__name\"\n            value={name}\n            onChange={this.onChangeName}\n          />\n        </div>\n        <div className=\"taskFormRow\">\n          <div className=\"taskFormRow__label\">Resource</div>\n          <select\n            value={resource}\n            onChange={this.onChangeResource}\n            className=\"taskFormRow__resource\"\n          >\n            <option key=\"default\" value={null} aria-label=\"...select\" />\n            <Resources resources={resources} />\n          </select>\n          <div className=\"taskFormRow__divide\" />\n        </div>\n        <div className=\"taskFormRow\">\n          <div className=\"taskFormRow__label\">Start date</div>\n          <DatePicker\n            className=\"taskFormRow__date\"\n            dateFormat=\"yyyy/MM/dd\"\n            showWeekNumbers\n            selected={startDate}\n            onChange={this.onChangeStartDate}\n          />\n        </div>\n        <div className=\"taskFormRow\">\n          <div className=\"taskFormRow__label\">End date</div>\n          <DatePicker\n            className=\"taskFormRow__date\"\n            dateFormat=\"yyyy/MM/dd\"\n            showWeekNumbers\n            selected={endDate}\n            onChange={this.onChangeEndDate}\n          />\n        </div>\n        {action === 'edit' && (\n          <div className=\"taskFormRow\">\n            <div className=\"taskFormRow__label\">Complete</div>\n            <div className=\"taskFormRow__complete\" onClick={this.onCheck}>\n              <div className=\"taskFormRow__checkbox\">\n                <FontAwesomeIcon icon={['far', 'square']} />\n                {complete\n                  && <FontAwesomeIcon icon={['fas', 'check']} className=\"taskFormRow__checked\" />}\n              </div>\n            </div>\n          </div>\n        )}\n        <div className=\"taskFormRow\">\n          <div className=\"taskFormRow__label\">In charge</div>\n          <div className=\"taskFormRow__inCharge\">\n            <Users users={users} inCharge={inCharge} onClickAvatar={this.onClickAvatar} />\n          </div>\n        </div>\n        <div className=\"taskFormRow\">\n          <div className=\"taskFormRow__label\">Description</div>\n          <textarea\n            className=\"taskFormRow__description\"\n            value={description}\n            onChange={this.onChangeDescription}\n          />\n        </div>\n        <button type=\"button\" onClick={this.createTask} className=\"taskForm__button\">\n          {title}\n        </button>\n      </div>\n    )\n  }\n}\n\nconst Resources = ({ resources }) => (\n  resources.map((resource) => (\n    <option key={resource.id} value={resource.id}>{resource.name}</option>\n  ))\n)\n\nconst Users = ({ users, onClickAvatar, inCharge }) => (\n  users.map((user) => {\n    const targetIndex = inCharge.indexOf(String(user.id))\n    return (\n      <div key={user.id} className=\"avatar\">\n        <div data-id={user.id} onClick={onClickAvatar} className=\"avatar__wrapper\">\n          <img src={user.avatar} alt={user.name} className=\"avatar__image\" />\n          {targetIndex !== notExist && <div className=\"avatar__selected\" />}\n        </div>\n        <div className=\"avatar__name\">{user.name}</div>\n      </div>\n    )\n  })\n)\n","import React, { Component } from 'react'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\n\nimport Task from './Task'\nimport TaskForm from './TaskForm'\nimport ProjectForm from './ProjectForm'\nimport '../css/Project.scss'\n\nclass Project extends Component {\n  constructor(props) {\n    super(props)\n    const { project } = this.props\n    this.state = {\n      name: project.name,\n      isVisible: false,\n      projectFormVisible: false,\n    }\n  }\n\n  openModal = (event) => {\n    this.id = event.currentTarget.dataset.id || null\n    this.action = event.currentTarget.dataset.action\n    this.setState({ isVisible: true })\n  }\n\n  closeModal = () => this.setState({ isVisible: false })\n\n  openProjectForm = () => this.setState({ projectFormVisible: true })\n\n  closeProjectForm = () => this.setState({ projectFormVisible: false })\n\n  updateProject = (name) => this.setState({ name })\n\n  render() {\n    const {\n      project,\n      index,\n      refreshTask,\n      destroyMode,\n    } = this.props\n\n    const { tasks, id } = project\n    const { isVisible, projectFormVisible, name } = this.state\n    return (\n      <div key={name} className=\"project\">\n        <div className=\"projectHeader\">\n          <div className=\"projectHeader__name\">{name}</div>\n          <FontAwesomeIcon\n            icon={['fas', 'edit']}\n            className=\"projectHeader__edit\"\n            onClick={this.openProjectForm}\n          />\n          <FontAwesomeIcon\n            icon={['fas', 'plus']}\n            data-action=\"new\"\n            className=\"projectHeader__addTask\"\n            onClick={this.openModal}\n          />\n        </div>\n        {tasks && (\n          <Task\n            destroyMode={destroyMode}\n            index={index}\n            refresh={refreshTask}\n            tasks={tasks}\n            onClick={this.openModal}\n          />\n        )}\n        {isVisible\n          && (\n            <TaskForm\n              id={id}\n              action={this.action}\n              taskID={this.id}\n              refresh={refreshTask}\n              index={index}\n              closeModal={this.closeModal}\n            />\n          )}\n        {projectFormVisible && (\n          <ProjectForm\n            id={id}\n            refresh={this.updateProject}\n            action=\"edit\"\n            closeModal={this.closeProjectForm}\n          />\n        )}\n      </div>\n    )\n  }\n}\n\nconst Projects = (props) => {\n  const { projects, refreshTask, mode } = props\n  return projects.map((project, index) => (\n    <Project\n      refreshTask={refreshTask}\n      project={project}\n      key={project.name}\n      index={index}\n      destroyMode={mode}\n    />\n  ))\n}\n\nexport default Projects\n","import React, { PureComponent } from 'react'\n\nimport '../css/ChartBar.scss'\n\nexport default class ChartBar extends PureComponent {\n  constructor(props) {\n    super(props)\n    this.state = {\n      isHover: false,\n      offsetX: 0,\n      offsetY: 0,\n    }\n  }\n\n  onMouseEnter = (event) => {\n    const isOverflowX = window.innerWidth < (event.clientX + 300)\n    const isOverflowY = window.innerHeight < (event.clientY + 300)\n    const offsetX = isOverflowX ? event.clientX - 280 : event.clientX + 30\n    const offsetY = isOverflowY ? event.clientY - 150 : event.clientY\n    this.setState({ isHover: true, offsetX, offsetY })\n  }\n\n  onMouseLeave = () => {\n    this.setState({ isHover: false })\n  }\n\n  render() {\n    const { chartWidth, data } = this.props\n    const { isHover, offsetX, offsetY } = this.state\n    return (\n      <div\n        style={{ width: chartWidth, backgroundColor: data.resource.color }}\n        className=\"chartbar\"\n        onMouseEnter={this.onMouseEnter}\n        onMouseLeave={this.onMouseLeave}\n      >\n        {isHover && <Window data={data} offsetX={offsetX} offsetY={offsetY} />}\n      </div>\n    )\n  }\n}\n\nconst Members = ({ users }) => (\n  users.map((user) => <div key={user.name} className=\"windowMembers__name\">{user.name}</div>)\n)\n\nconst Window = ({ data, offsetX, offsetY }) => (\n  <div className=\"window\" style={{ top: offsetY, left: offsetX }}>\n    <div className=\"windowRow\">\n      <div className=\"windowRow__label\">Name:</div>\n      <div className=\"windowRow__name\">{data.name}</div>\n    </div>\n    <div className=\"windowRow\">\n      <div className=\"windowRow__label\">StartDate:</div>\n      <div className=\"window__startDate\">{data.startDate}</div>\n    </div>\n    <div className=\"windowRow\">\n      <div className=\"windowRow__label\">EndDate:</div>\n      <div className=\"window__endDate\">{data.endDate}</div>\n    </div>\n    <div className=\"windowRow\">\n      <div className=\"windowRow__label\">Extend:</div>\n      <div className=\"window__extend\">{data.extend}</div>\n    </div>\n    <div className=\"windowRow\">\n      <div className=\"windowRow__label\">Duration:</div>\n      <div className=\"window__duration\">{data.duration}</div>\n    </div>\n    <div className=\"windowRow\">\n      <div className=\"windowRow__label\">Progress:</div>\n      <div className=\"window__progress\">{data.percentComplete}</div>\n    </div>\n    <div className=\"windowRow\">\n      <div className=\"windowRow__label\">InCharge:</div>\n      <div className=\"windowMembers\">\n        <Members users={data.users} />\n      </div>\n    </div>\n    <div className=\"windowCol\">\n      <div className=\"windowCol__label\">Description:</div>\n      <div className=\"windowCol__description\">{data.description}</div>\n    </div>\n  </div>\n)\n","import React, { Component } from 'react'\nimport Moment from 'moment'\n\nimport ChartBar from './ChartBar'\nimport '../css/Project.scss'\nimport Utils from '../Utils'\n\nclass GanttTask extends Component {\n  constructor(props) {\n    super(props)\n    this.start = Utils.dateRangeStart()\n    this.baseChartWidth = 45\n  }\n\n  calcOffset = (task) => {\n    const offset = Moment(task.startDate, 'YYYY/MM/DD').startOf('days').diff(this.start, 'days')\n    return (offset - 3) * this.baseChartWidth\n  }\n\n  calcOffsetForWeeks = (task) => {\n    const offset = Math.ceil(\n      Moment(task.startDate, 'YYYY/MM/DD').startOf('week').diff(this.start, 'weeks', true),\n    )\n    return offset * this.baseChartWidth\n  }\n\n  calcChartWidthForWeeks = (task) => {\n    const end = task.extend || task.endDate\n    const startDate = Moment(task.startDate, 'YYYY/MM/DD').startOf('week')\n    const endDate = Moment(end, 'YYYY/MM/DD').endOf('week')\n    return Math.ceil(endDate.diff(startDate, 'weeks', true))\n  }\n\n  isBefore = (task) => Moment(task.startDate, 'YYYY/MM/DD').isSameOrBefore(this.start)\n\n  isBeforeForWeek = (task) => Moment(task.startDate, 'YYYY/MM/DD').isBefore(this.start.startOf('week'))\n\n  render() {\n    const { scheduleType, tasks } = this.props\n    return (\n      tasks.map((task) => {\n        const offset = scheduleType === 'days' ? this.calcOffset(task) : this.calcOffsetForWeeks(task)\n        let diff = scheduleType === 'days' ? task.duration : this.calcChartWidthForWeeks(task)\n\n        if (this.isBefore(task) && scheduleType === 'days') {\n          diff -= (Math.ceil(\n            this.start.diff(Moment(task.startDate, 'YYYY/MM/DD').startOf('days'), 'days', true),\n          ) + 2)\n        } else if (this.isBeforeForWeek(task) && scheduleType === 'weeks') {\n          diff -= Math.ceil(this.start.diff(Moment(task.startDate, 'YYYY/MM/DD'), 'week', true))\n        } else if (scheduleType === 'days') {\n          diff += 1\n        }\n\n        const chartWidth = this.baseChartWidth * diff\n        const className = task.percentComplete === 'progress' ? 'task' : 'task--complete'\n\n        return (\n          <div key={task.name} style={{ paddingLeft: offset }} className={className}>\n            <ChartBar chartWidth={chartWidth} data={task} />\n          </div>\n        )\n      })\n    )\n  }\n}\n\nconst Gantt = (props) => (\n  props.projects.map((project) => (\n    <div key={project.name} className=\"project\">\n      <div className=\"projectHeader\" />\n      {project.tasks && <GanttTask tasks={project.tasks} scheduleType={props.scheduleType} />}\n    </div>\n  ))\n)\n\nexport default Gantt\n","import React, { PureComponent } from 'react'\nimport Moment from 'moment'\n\nimport SideBar from './SideBar'\nimport GanttIndexHeader from './GanttIndexHeader'\nimport Project from './Project'\nimport Gantt from './Gantt'\nimport '../css/Main.scss'\n\nimport Utils from '../Utils'\n\nconst sun = 0\nconst sat = 6\nconst startDate = Utils.dateRangeStart()\nconst endDate = Utils.dateRangeEnd()\n\n\nconst whatDayIsToday = (day) => {\n  switch (day.get('day')) {\n    case sun:\n      return '--sun'\n    case sat:\n      return '--sat'\n    default:\n      return ''\n  }\n}\n\nconst scheduleAttr = (day, scheduleType) => {\n  const attr = {}\n  if (scheduleType === 'days') {\n    attr.formatDate = day.format('MMM D')\n    attr.className = `gantt-schedule-header__date${whatDayIsToday(day)}`\n  } else {\n    const startOfWeek = day.startOf('week')\n    attr.formatDate = `W${day.format('W')} ${startOfWeek.format('M/D')}`\n    attr.className = 'gantt-schedule-header__week'\n  }\n  return attr\n}\n\nconst Schedule = ({ scheduleType }) => {\n  const schedules = []\n  for (let day = Moment(startDate); day <= endDate; day.add(1, scheduleType)) {\n    const attr = scheduleAttr(day, scheduleType)\n    schedules.push(\n      <div className={attr.className} key={day.format('YYYYMMDD')}>\n        {attr.formatDate}\n      </div>,\n    )\n  }\n  return schedules\n}\n\nconst Header = (props) => {\n  const { scheduleType, onClick, resources } = props\n  const className = { weeks: 'switchView__button', days: 'switchView__button' }\n  if (scheduleType === 'weeks') {\n    className.weeks += '--disable'\n  } else if (scheduleType === 'days') {\n    className.days += '--disable'\n  }\n  return (\n    <div className=\"header\">\n      <div className=\"switchView\">\n        <div\n          className={className.weeks}\n          onClick={onClick}\n          onKeyUp={onClick}\n          data-type=\"weeks\"\n          role=\"link\"\n          tabIndex=\"0\"\n        >\n          Week\n        </div>\n        <div className=\"switchView__divider\">|</div>\n        <div\n          className={className.days}\n          onClick={onClick}\n          onKeyUp={onClick}\n          data-type=\"days\"\n          role=\"link\"\n          tabIndex=\"0\"\n        >\n          Day\n        </div>\n      </div>\n      <div className=\"resource\">\n        {resources.map((resource) => (\n          <div key={resource.id} className=\"resource__wrapper\">\n            <div className=\"resource__icon\" style={{ backgroundColor: resource.color }} />\n            <div className=\"resource__name\">{resource.name}</div>\n          </div>\n        ))}\n      </div>\n    </div>\n  )\n}\n\nexport default class Main extends PureComponent {\n  constructor(props) {\n    super(props)\n    this.state = {\n      resources: [],\n      projects: [],\n      type: 'weeks',\n      destroyMode: false,\n    }\n  }\n\n  componentDidMount() {\n    this.getProjectIndex()\n  }\n\n  getProjectIndex = () => {\n    const url = Utils.buildRequestUrl('/projects')\n    const token = localStorage.getItem('token')\n    fetch(url, {\n      method: 'GET',\n      headers: { 'X-Reach-token': token },\n    })\n      .then((_res) => _res.json())\n      .then(({ is_authenticated, projects, resources }) => {\n        if (is_authenticated) {\n          this.setState({ projects, resources })\n        }\n      })\n      .catch(() => {\n        // TODO\n      })\n  }\n\n  changeScheduleType = (event) => {\n    const { type } = event.target.dataset\n    this.setState({ type })\n  }\n\n  changeMode = () => {\n    const { destroyMode } = this.state\n    this.setState({ destroyMode: !destroyMode })\n  }\n\n  updateProject = (projectsCopy) => this.setState({ projects: projectsCopy })\n\n  refreshProject = (project) => {\n    const { projects } = this.state\n    const projectsCopy = projects.slice()\n    projectsCopy.push(project)\n    this.updateProject(projectsCopy)\n  }\n\n  refreshTask = (task, index, action) => {\n    const { projects } = this.state\n    if (action === 'new') {\n      const projectsCopy = projects.slice()\n      projectsCopy[index].tasks.push(task)\n      this.updateProject(projectsCopy)\n    } else if (action === 'edit') {\n      const tasksCopy = projects[index].tasks.map((existingTask) => (\n        existingTask.id === task.id ? task : existingTask\n      ))\n      const projectsCopy = projects.map((_project, i) => {\n        const project = _project\n        if (index === i) {\n          project.tasks = tasksCopy\n        }\n        return project\n      })\n      this.updateProject(projectsCopy)\n    } else if (action === 'destroy') {\n      const tasksCopy = projects[index].tasks.filter((existingTask) => (\n        existingTask.id !== task.id\n      ))\n      const projectsCopy = projects.map((_project, i) => {\n        const project = _project\n        if (index === i) {\n          project.tasks = tasksCopy\n        }\n        return project\n      })\n      this.updateProject(projectsCopy)\n    }\n  }\n\n  render() {\n    const {\n      type,\n      projects,\n      resources,\n      destroyMode,\n    } = this.state\n\n    return (\n      <div className=\"App\">\n        <SideBar\n          getProjectIndex={this.getProjectIndex}\n          refreshProject={this.refreshProject}\n          changeMode={this.changeMode}\n        />\n        <div className=\"mainContainer\">\n          <Header resources={resources} scheduleType={type} onClick={this.changeScheduleType} />\n          <div className=\"gantt\">\n            <div className=\"gantt-index\">\n              <GanttIndexHeader\n                resources={resources}\n                projects={projects}\n                updateProject={this.updateProject}\n              />\n              <Project refreshTask={this.refreshTask} projects={projects} mode={destroyMode} />\n            </div>\n            <div className=\"gantt-schedule\">\n              <div className=\"gantt-schedule-header\">\n                <Schedule scheduleType={type} />\n              </div>\n              <Gantt projects={projects} scheduleType={type} />\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport { Link, Redirect } from 'react-router-dom'\n\nimport ErrorMessage from './Error'\nimport Utils from '../Utils'\nimport '../css/Session.scss'\n\nexport default class SignIn extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      email: '',\n      password: '',\n      isSignIn: false,\n      errors: [],\n    }\n  }\n\n  handleSignIn = () => {\n    const { email, password } = this.state\n    const url = Utils.buildRequestUrl('/sessions')\n    const params = {\n      email,\n      password,\n    }\n    fetch(url, {\n      method: 'POST',\n      body: JSON.stringify(params),\n      headers: { 'Content-Type': 'application/json' },\n    })\n      .then((_res) => _res.json())\n      .then((res) => {\n        const { result, token, errors } = res\n        if (result) {\n          localStorage.setItem('token', token)\n          this.setState({ isSignIn: true })\n        } else {\n          this.setState({ errors })\n        }\n      })\n      .catch(() => {\n        // TODO\n      })\n  }\n\n  emailOnChange = (event) => {\n    const email = event.target.value\n    this.setState({ email })\n  }\n\n  passwordOnChange = (event) => {\n    const password = event.target.value\n    this.setState({ password })\n  }\n\n  render() {\n    const {\n      email,\n      password,\n      isSignIn,\n      errors,\n    } = this.state\n\n    return (\n      isSignIn ? <Redirect to=\"/reach\" /> : (\n        <div className=\"background\">\n          <div className=\"session\">\n            <div className=\"session__title\">Sign in to Reach</div>\n            {errors.length !== 0 && <ErrorMessage action=\"Authentication\" errors={errors} />}\n            <input\n              type=\"text\"\n              className=\"session__email\"\n              placeholder=\"Email\"\n              value={email}\n              onChange={this.emailOnChange}\n            />\n            <input\n              type=\"password\"\n              className=\"session__password\"\n              placeholder=\"Password\"\n              value={password}\n              onChange={this.passwordOnChange}\n            />\n            <button type=\"button\" onClick={this.handleSignIn} className=\"session__submit\">\n              Sign In\n            </button>\n            <Link to=\"/reach/signup\" className=\"session__switch\">Create account</Link>\n          </div>\n        </div>\n      )\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport { Link, Redirect } from 'react-router-dom'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\n\nimport ErrorMessage from './Error'\nimport Utils from '../Utils'\nimport '../css/Session.scss'\n\nexport default class SignUp extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      uri: '',\n      avatar: null,\n      name: '',\n      email: '',\n      password: '',\n      passwordConfirmation: '',\n      errors: [],\n      isSignIn: false,\n    }\n  }\n\n  handleSignUp = () => {\n    const {\n      avatar,\n      name,\n      email,\n      password,\n      passwordConfirmation,\n    } = this.state\n\n    const params = new FormData()\n    params.append('user[name]', name)\n    params.append('user[email]', email)\n    params.append('user[password]', password)\n    params.append('user[password_confirmation]', passwordConfirmation)\n    if (avatar) {\n      params.append('user[avatar]', avatar)\n    }\n\n    const url = Utils.buildRequestUrl('/users')\n    fetch(url, {\n      method: 'POST',\n      body: params,\n    })\n      .then((_res) => _res.json())\n      .then((res) => {\n        if (res.is_created) {\n          localStorage.setItem('token', res.token)\n          this.setState({ isSignIn: true })\n        } else {\n          this.setState({ errors: res.errors })\n        }\n      })\n      .catch(() => {\n        // TODO\n      })\n  }\n\n  onChangeFile = (event) => {\n    const avatar = event.target.files[0]\n    const uri = URL.createObjectURL(avatar)\n    this.setState({ uri, avatar })\n  }\n\n  onChangeName = (event) => {\n    const name = event.target.value\n    this.setState({ name })\n  }\n\n  onChangeEmail = (event) => {\n    const email = event.target.value\n    this.setState({ email })\n  }\n\n  onChangePassword = (event) => {\n    const password = event.target.value\n    this.setState({ password })\n  }\n\n  onChangePasswordConfirmation = (event) => {\n    const passwordConfirmation = event.target.value\n    this.setState({ passwordConfirmation })\n  }\n\n  render() {\n    const {\n      uri,\n      name,\n      email,\n      password,\n      passwordConfirmation,\n      errors,\n      isSignIn,\n    } = this.state\n\n    return (\n      isSignIn ? <Redirect to=\"/reach\" /> : (\n        <div className=\"background\">\n          <div className=\"session\">\n            <div className=\"session__title\">Create account</div>\n            {errors.length !== 0 && <ErrorMessage action=\"Registration\" errors={errors} />}\n            <label htmlFor=\"avatarForm\" className=\"session__avatar\">\n              <input\n                id=\"avatarForm\"\n                type=\"file\"\n                className=\"session__fileField\"\n                onChange={this.onChangeFile}\n              />\n              {uri === ''\n                ? <FontAwesomeIcon icon={['fas', 'user']} className=\"session__fileIcon\" />\n                : <img src={uri} alt=\"avatar\" className=\"session__preview\" />}\n            </label>\n            <div className=\"session__fileLabel\">Upload your avatar</div>\n            <input\n              type=\"text\"\n              className=\"session__name\"\n              placeholder=\"Name\"\n              value={name}\n              onChange={this.onChangeName}\n            />\n            <input\n              type=\"text\"\n              className=\"session__email\"\n              placeholder=\"Email\"\n              value={email}\n              onChange={this.onChangeEmail}\n            />\n            <input\n              type=\"password\"\n              className=\"session__password\"\n              placeholder=\"Password\"\n              value={password}\n              onChange={this.onChangePassword}\n            />\n            <input\n              type=\"password\"\n              className=\"session__password\"\n              placeholder=\"Password confirmation\"\n              value={passwordConfirmation}\n              onChange={this.onChangePasswordConfirmation}\n            />\n            <button type=\"button\" onClick={this.handleSignUp} className=\"session__submit\">\n              Sign Up\n            </button>\n            <Link to=\"/reach/signin\" className=\"session__switch\">Move to Sign In</Link>\n          </div>\n        </div>\n      )\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport {\n  BrowserRouter,\n  Route,\n  Switch,\n  Redirect,\n} from 'react-router-dom'\n\nimport Main from './Main'\nimport SignIn from './SignIn'\nimport SignUp from './SignUp'\n\nclass Home extends Component {\n  constructor(props) {\n    super(props)\n    const token = localStorage.getItem('token')\n    const isAuthenticated = token !== null\n    this.state = {\n      isAuthenticated,\n    }\n  }\n\n  render() {\n    const { isAuthenticated } = this.state\n    return isAuthenticated ? <Main /> : <Redirect to=\"/reach/signin\" />\n  }\n}\n\nconst App = () => (\n  <BrowserRouter>\n    <Switch>\n      <Route path=\"/reach/signin\"><SignIn /></Route>\n      <Route path=\"/reach/signup\"><SignUp /></Route>\n      <Route exact path=\"/reach\"><Home /></Route>\n      <Route exact><SignIn /></Route>\n    </Switch>\n  </BrowserRouter>\n)\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.scss'\nimport { library } from '@fortawesome/fontawesome-svg-core'\nimport { fab } from '@fortawesome/free-brands-svg-icons'\nimport { fas } from '@fortawesome/free-solid-svg-icons'\nimport { far } from '@fortawesome/free-regular-svg-icons'\n\nimport App from './components/App'\nimport * as serviceWorker from './serviceWorker'\n\nlibrary.add(fab, fas, far)\n\nReactDOM.render(<App />, document.getElementById('root'))\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister()\n"],"sourceRoot":""}