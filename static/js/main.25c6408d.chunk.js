(this.webpackJsonpreach=this.webpackJsonpreach||[]).push([[0],{117:function(e,t,a){},118:function(e,t,a){},163:function(e,t,a){},164:function(e,t,a){},165:function(e,t,a){},166:function(e,t,a){},167:function(e,t,a){},168:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(37),s=a.n(c),o=a(6),i=a(44),l=a(82),u=a(83),d=a(84),m=a(85),p=a(36),f=a(35),h=a(24),v=a(2),E=a.n(v),_=a(4),b=a(7),k=a.n(b),g=a(8),C=a(9),y=function(){function e(){Object(g.a)(this,e)}return Object(C.a)(e,null,[{key:"buildRequestUrl",value:function(e){return"https://api-reach.herokuapp.com"+e}}]),e}(),O="OPEN_CONFIRM",N=function(e){return{type:O,payload:e}},j=function(){return{type:"CLOSE_CONFIRM"}},w="Are you sure?",D="Destroy",R={type:"error",title:"Internal server error",description:"Try reload browser"},S={type:"success",title:"Completed",description:"SlackBot sent a Message"},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return{type:"OPEN_RESOURCE_FORM",id:e}},x=function(){return{type:"CLOSE_RESOURCE_FORM"}},F=function(){return function(){var e=Object(_.a)(E.a.mark((function e(t){var a,r,n,c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=y.buildRequestUrl("/resources"),r=localStorage.getItem("token"),e.next=4,k.a.get(a,{headers:{"X-Reach-token":r}}).catch((function(e){return e.response}));case 4:if(200===(n=e.sent).status){e.next=8;break}return t({type:O,payload:R}),e.abrupt("return");case 8:c=n.data.resources,t({type:"GET_ALL_RESOURCES",resources:c});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},A=function(e){return function(){var t=Object(_.a)(E.a.mark((function t(a){var r,n,c,s,o,i,l;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=y.buildRequestUrl("/resources"),n=localStorage.getItem("token"),t.next=4,k.a.post(r,e,{headers:{"X-Reach-token":n,"Content-Type":"application/json"}}).catch((function(e){return e.response}));case 4:if(200===(c=t.sent).status){t.next=8;break}return a({type:O,payload:R}),t.abrupt("return");case 8:s=c.data,o=s.is_created,i=s.resource,l=s.errors,a(o?{type:"CREATE_RESOURCE",resource:i}:{type:"INVALID_RESOURCE_PARAMS",errors:l});case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},P=function(e){return function(){var t=Object(_.a)(E.a.mark((function t(a){var r,n,c;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=y.buildRequestUrl("/resources/".concat(e)),n=localStorage.getItem("token"),t.next=4,k.a.delete(r,{headers:{"X-Reach-token":n}}).catch((function(e){return e.response}));case 4:if(200===(c=t.sent).status){t.next=8;break}return a({type:O,payload:R}),t.abrupt("return");case 8:c.data.is_delete&&a({type:"DELETE_RESOURCE",id:e});case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},I=function(e,t){return function(){var a=Object(_.a)(E.a.mark((function a(r){var n,c,s,o,i,l,u;return E.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=y.buildRequestUrl("/resources/".concat(e)),c=localStorage.getItem("token"),a.next=4,k.a.patch(n,t,{headers:{"X-Reach-token":c,"Content-Type":"application/json"}}).catch((function(e){return e.response}));case 4:if(200===(s=a.sent).status){a.next=8;break}return r({type:O,payload:R}),a.abrupt("return");case 8:o=s.data,i=o.is_updated,l=o.errors,u=o.resource,r(i?{type:"UPDATE_RESOURCE",resource:u}:{type:"INVALID_RESOURCE_PARAMS",errors:l});case 10:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()};function M(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function U(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?M(a,!0).forEach((function(t){Object(h.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):M(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var V={visible:!1,id:null,errors:[]},L={resources:[]},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return{type:"OPEN_PROJECT_FORM",id:e}},Y=function(){return{type:"CLOSE_PROJECT_FORM"}},X=function(){return function(){var e=Object(_.a)(E.a.mark((function e(t){var a,r,n,c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=y.buildRequestUrl("/projects"),r=localStorage.getItem("token"),e.next=4,k.a.get(a,{headers:{"X-Reach-token":r}}).catch((function(e){return e.response}));case 4:if(200===(n=e.sent).status){e.next=8;break}return t({type:O,payload:R}),e.abrupt("return");case 8:c=n.data.projects,t({type:"GET_ALL_PROJESTS",projects:c});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},H=function(e){return function(){var t=Object(_.a)(E.a.mark((function t(a){var r,n,c,s,o,i,l;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=y.buildRequestUrl("/projects"),n=localStorage.getItem("token"),t.next=4,k.a.post(r,e,{headers:{"X-Reach-token":n,"Content-Type":"application/json"}}).catch((function(e){return e.response}));case 4:if(200===(c=t.sent).status){t.next=8;break}return a({type:O,payload:R}),t.abrupt("return");case 8:s=c.data,o=s.is_created,i=s.errors,l=s.project,a(o?{type:"CREATE_PROJECT",project:l}:{type:"INVALID_PROJECT_PARAMS",errors:i});case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},q=function(e){return function(){var t=Object(_.a)(E.a.mark((function t(a){var r,n,c;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=y.buildRequestUrl("/projects/".concat(e)),n=localStorage.getItem("token"),t.next=4,k.a.delete(r,{headers:{"X-Reach-token":n}}).catch((function(e){return e.response}));case 4:if(200===(c=t.sent).status){t.next=8;break}return a({type:O,payload:R}),t.abrupt("return");case 8:c.data.is_delete&&a({type:"DELETE_PROJECT",id:e});case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},W=function(e,t){return function(){var a=Object(_.a)(E.a.mark((function a(r){var n,c,s,o,i,l,u;return E.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=y.buildRequestUrl("/projects/".concat(e)),c=localStorage.getItem("token"),a.next=4,k.a.patch(n,t,{headers:{"X-Reach-token":c,"Content-Type":"application/json"}}).catch((function(e){return e.response}));case 4:if(200===(s=a.sent).status){a.next=8;break}return r({type:O,payload:R}),a.abrupt("return");case 8:o=s.data,i=o.is_updated,l=o.errors,u=o.project,r(i?{type:"UPDATE_PROJECT",project:u}:{type:"INVALID_PROJECT_PARAMS",errors:l});case 10:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},J=function(e){return function(){var t=Object(_.a)(E.a.mark((function t(a){var r,n,c;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=y.buildRequestUrl("/tasks/search"),t.next=3,k.a.post(r,e,{headers:{"Content-Type":"application/json"}}).catch((function(e){return e.response}));case 3:if(200===(n=t.sent).status){t.next=7;break}return a({type:O,payload:R}),t.abrupt("return");case 7:c=n.data.projects,a({type:"SEARCH_PROJECT",projects:c});case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},G=function(e){return function(){var t=Object(_.a)(E.a.mark((function t(a){var r,n,c,s,o,i,l;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=y.buildRequestUrl("/tasks"),n=localStorage.getItem("token"),t.next=4,k.a.post(r,e,{headers:{"X-Reach-token":n,"Content-Type":"application/json"}}).catch((function(e){return e.response}));case 4:if(200===(c=t.sent).status){t.next=8;break}return a({type:O,payload:R}),t.abrupt("return");case 8:s=c.data,o=s.is_created,i=s.errors,l=s.task,a(o?{type:"CREATE_TASK",task:l}:{type:"INVALID_TASK_PARAMS",errors:i});case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},K=function(e){return function(){var t=Object(_.a)(E.a.mark((function t(a){var r,n,c,s,o,i;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=y.buildRequestUrl("/tasks/".concat(e)),n=localStorage.getItem("token"),t.next=4,k.a.delete(r,{headers:{"X-Reach-token":n}}).catch((function(e){return e.response}));case 4:if(200===(c=t.sent).status){t.next=8;break}return a({type:O,payload:R}),t.abrupt("return");case 8:s=c.data,o=s.is_delete,i=s.task,o&&a({type:"DELETE_TASK",task:i});case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},$=function(e,t){return function(){var a=Object(_.a)(E.a.mark((function a(r){var n,c,s,o,i,l,u;return E.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=y.buildRequestUrl("/tasks/".concat(e)),c=localStorage.getItem("token"),a.next=4,k.a.patch(n,t,{headers:{"X-Reach-token":c,"Content-Type":"application/json"}}).catch((function(e){return e.response}));case 4:if(200===(s=a.sent).status){a.next=8;break}return r({type:O,payload:R}),a.abrupt("return");case 8:o=s.data,i=o.is_updated,l=o.errors,u=o.task,r(i?{type:"UPDATE_TASK",task:u}:{type:"INVALID_TASK_PARAMS",errors:l});case 10:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()};function z(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function Q(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?z(a,!0).forEach((function(t){Object(h.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):z(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Z={visible:!1,id:null,errors:[]},ee={projects:[]},te=function(){return{type:"OPEN_ACCOUNT_FORM"}},ae=function(){return{type:"CLOSE_ACCOUNT_FORM"}},re=function(){return function(){var e=Object(_.a)(E.a.mark((function e(t){var a,r,n,c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=y.buildRequestUrl("/users"),r=localStorage.getItem("token"),e.next=4,k.a.get(a,{headers:{"X-Reach-token":r}}).catch((function(e){return e.response}));case 4:if(200===(n=e.sent).status){e.next=8;break}return t({type:O,payload:R}),e.abrupt("return");case 8:c=n.data.users,t({type:"GET_ALL_ACCOUNT",users:c});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},ne=function(e){return function(){var t=Object(_.a)(E.a.mark((function t(a){var r,n,c,s,o,i,l;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=y.buildRequestUrl("/users/update"),n=localStorage.getItem("token"),t.next=4,k.a.patch(r,e,{headers:{"X-Reach-token":n}}).catch((function(e){return e.response}));case 4:if(200===(c=t.sent).status){t.next=8;break}return a({type:O,payload:R}),t.abrupt("return");case 8:s=c.data,o=s.is_updated,i=s.user,l=s.errors,a(o?{type:"UPDATE_ACCOUNT",user:i}:{type:"INVALID_ACCOUNT_PARAMS",errors:l});case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};function ce(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function se(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ce(a,!0).forEach((function(t){Object(h.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ce(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var oe={visible:!1,errors:[]},ie={users:[]},le=function(e){var t=e.projectID,a=void 0===t?null:t,r=e.taskID;return{type:"OPEN_TASK_FORM",payload:{projectID:a,taskID:void 0===r?null:r}}},ue=function(){return{type:"CLOSE_TASK_FORM"}},de=function(){return{type:"TOGGLE_DELETE_BUTTON"}};function me(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function pe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?me(a,!0).forEach((function(t){Object(h.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):me(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var fe={visible:!1,projectID:null,taskID:null,errors:[]},he={deleteButtonVisible:!1},ve="days",Ee=function(){return{type:"CHANGE_TO_WEEKS",scheduleType:"weeks"}},_e=function(){return{type:"CHANGE_TO_DAYS",scheduleType:ve}},be={scheduleType:"weeks"},ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_TO_WEEKS":return{scheduleType:"weeks"};case"CHANGE_TO_DAYS":return{scheduleType:ve};default:return e}},ge={visible:!1,type:"",title:"",description:"",confirm:function(){}},Ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return{visible:!0,type:t.payload.type,title:t.payload.title,description:t.payload.description,confirm:t.payload.confirm};case"CLOSE_CONFIRM":return ge;default:return e}},ye=function(e){return{type:"OPEN_ATTACHMENT_FORM",projectID:e}},Oe=function(){return{type:"CLOSE_ATTACHMENT_FORM"}},Ne=function(e){return function(){var t=Object(_.a)(E.a.mark((function t(a){var r,n,c,s;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=y.buildRequestUrl("/projects/".concat(e,"/attachments")),n=localStorage.getItem("token"),t.next=4,k.a.get(r,{headers:{"X-Reach-token":n}}).catch((function(e){return e.response}));case 4:if(200===(c=t.sent).status){t.next=8;break}return a({type:O,payload:R}),t.abrupt("return");case 8:s=c.data.attachments,a({type:"GET_ALL_ATTACHMENT",attachments:s});case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},je=function(e,t){return function(){var a=Object(_.a)(E.a.mark((function a(r){var n,c,s,o,i,l,u;return E.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=y.buildRequestUrl("/projects/".concat(t,"/attachments")),c=localStorage.getItem("token"),a.next=4,k.a.post(n,e,{headers:{"X-Reach-token":c,"Content-Type":"application/json"}}).catch((function(e){return e.response}));case 4:if(200===(s=a.sent).status){a.next=8;break}return r({type:O,payload:R}),a.abrupt("return");case 8:o=s.data,i=o.is_created,l=o.errors,u=o.attachment,r(i?{type:"CREATE_ATTACHMENT",attachment:u}:{type:"INVALID_ATTACHMENT_PARAMS",errors:l});case 10:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},we=function(e){return function(){var t=Object(_.a)(E.a.mark((function t(a){var r,n,c;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=y.buildRequestUrl("/attachments/".concat(e)),n=localStorage.getItem("token"),t.next=4,k.a.delete(r,{headers:{"X-Reach-token":n}}).catch((function(e){return e.response}));case 4:if(200===(c=t.sent).status){t.next=8;break}return a({type:O,payload:R}),t.abrupt("return");case 8:c.data.is_delete&&a({type:"DELETE_ATTACHMENT",id:e});case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};function De(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function Re(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?De(a,!0).forEach((function(t){Object(h.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):De(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Se={visible:!1,projectID:null,errors:[]},Te={attachments:[]},xe=function(){return{type:"OPEN_VERIFICATION_FORM"}},Fe=function(){return{type:"CLOSE_VERIFICATION_FORM"}},Ae={visible:!1},Pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"OPEN_VERIFICATION_FORM":return{visible:!0};case"CLOSE_VERIFICATION_FORM":return{visible:!1};default:return e}},Ie=Object(p.c)({resourceForm:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"OPEN_RESOURCE_FORM":return{visible:!0,id:t.id,errors:[]};case"CLOSE_RESOURCE_FORM":return{visible:!1,id:null,errors:[]};case"INVALID_RESOURCE_PARAMS":return U({},e,{errors:t.errors});default:return e}},resource:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ALL_RESOURCES":return{resources:t.resources};case"CREATE_RESOURCE":return U({},e,{resources:[].concat(Object(f.a)(e.resources),[t.resource])});case"DELETE_RESOURCE":return U({},e,{resources:e.resources.filter((function(e){return String(e.id)!==t.id}))});case"UPDATE_RESOURCE":return U({},e,{resources:e.resources.map((function(e){return e.id===t.resource.id?t.resource:e}))});default:return e}},projectForm:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"OPEN_PROJECT_FORM":return{visible:!0,id:t.id,errors:[]};case"CLOSE_PROJECT_FORM":return{visible:!1,id:null,errors:[]};case"INVALID_PROJECT_PARAMS":return Q({},e,{errors:t.errors});default:return e}},project:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ALL_PROJESTS":return{projects:t.projects};case"CREATE_PROJECT":return Q({},e,{projects:[].concat(Object(f.a)(e.projects),[t.project])});case"DELETE_PROJECT":return Q({},e,{projects:e.projects.filter((function(e){return String(e.id)!==t.id}))});case"UPDATE_PROJECT":return Q({},e,{projects:e.projects.map((function(e){return e.id===t.project.id?t.project:e}))});case"SEARCH_PROJECT":return{projects:t.projects};case"CREATE_TASK":var a=e.projects.filter((function(e){return e.id===t.task.projectID}));return a[0].tasks=[].concat(Object(f.a)(a[0].tasks),[t.task]),Q({},e,{projects:e.projects.map((function(e){return e.id===a[0].id?a[0]:e}))});case"DELETE_TASK":var r=e.projects.filter((function(e){return e.id===t.task.projectID}));return r[0].tasks=r[0].tasks.filter((function(e){return e.id!==t.task.id})),Q({},e,{projects:e.projects.map((function(e){return e.id===r[0].id?r[0]:e}))});case"UPDATE_TASK":var n=e.projects.filter((function(e){return e.id===t.task.projectID}));return n[0].tasks=n[0].tasks.map((function(e){return e.id===t.task.id?t.task:e})),Q({},e,{projects:e.projects.map((function(e){return e.id===n[0].id?n[0]:e}))});default:return e}},accountForm:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"OPEN_ACCOUNT_FORM":return{visible:!0,errors:[]};case"CLOSE_ACCOUNT_FORM":return{visible:!1,errors:[]};case"INVALID_ACCOUNT_PARAMS":return{visible:e.visible,errors:t.errors};default:return e}},account:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ALL_ACCOUNT":return{users:t.users};case"UPDATE_ACCOUNT":return se({},e,{users:e.users.map((function(e){return e.id===t.user.id?t.user:e}))});default:return e}},taskForm:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"OPEN_TASK_FORM":return{visible:!0,projectID:t.payload.projectID,taskID:t.payload.taskID,errors:[]};case"CLOSE_TASK_FORM":return{visible:!1,projectID:null,taskID:null,errors:[]};case"INVALID_TASK_PARAMS":return pe({},e,{errors:t.errors});default:return e}},task:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TOGGLE_DELETE_BUTTON":return{deleteButtonVisible:!e.deleteButtonVisible};default:return e}},schedule:ke,confirm:Ce,attachmentForm:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"OPEN_ATTACHMENT_FORM":return{visible:!0,projectID:t.projectID,errors:[]};case"CLOSE_ATTACHMENT_FORM":return{visible:!1,projectID:null,errors:[]};case"INVALID_ATTACHMENT_PARAMS":return Re({},e,{errors:t.errors});default:return e}},attachment:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ALL_ATTACHMENT":return{attachments:t.attachments};case"CREATE_ATTACHMENT":return Re({},e,{attachments:[].concat(Object(f.a)(e.attachments),[t.attachment])});case"DELETE_ATTACHMENT":return Re({},e,{attachments:e.attachments.filter((function(e){return String(e.id)!==t.id}))});default:return e}},verificationForm:Pe}),Me=Object(p.e)(Ie,Object(p.d)(Object(p.a)(m.a),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())),Ue=a(11),Ve=a(10),Le=a(12),Be=a(31),Ye=a(33),Xe=a(17),He=a.n(Xe),qe=a(14),We=(a(117),function(e){return e.errors.map((function(e){return n.a.createElement("div",{className:"error__message",key:e.error},e.error)}))}),Je=function(e){var t=e.action,a=e.errors,r="".concat(t," failed!");return n.a.createElement("div",{className:"error"},n.a.createElement("div",{className:"error__title"},r),n.a.createElement(We,{errors:a}))},Ge=(a(56),function(e){function t(e){var a;return Object(g.a)(this,t),(a=Object(Ue.a)(this,Object(Ve.a)(t).call(this,e))).getCurrentAccount=Object(_.a)(E.a.mark((function e(){var t,r,n,c,s,o,i;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=y.buildRequestUrl("/users/edit"),r=localStorage.getItem("token"),e.next=4,k.a.get(t,{headers:{"X-Reach-token":r}}).catch((function(e){return e.response}));case 4:if(200===(n=e.sent).status){e.next=9;break}return(0,a.props.openConfirm)(R),e.abrupt("return");case 9:c=n.data.user,s=c.avatar,o=c.name,i=c.email,a.setState({uri:s,name:o,email:i});case 11:case"end":return e.stop()}}),e)}))),a.handleUpdate=Object(_.a)(E.a.mark((function e(){var t,r,n,c,s,o,i,l;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state,r=t.avatar,n=t.name,c=t.email,(s=new FormData).append("user[name]",n),s.append("user[email]",c),r&&s.append("user[avatar]",r),o=a.props,i=o.getAllProjects,l=o.updateAccount,e.next=8,l(s);case 8:i();case 9:case"end":return e.stop()}}),e)}))),a.onChangeFile=function(e){var t=e.target.files[0],r=URL.createObjectURL(t);a.setState({uri:r,avatar:t})},a.onChangeName=function(e){var t=e.target.value;a.setState({name:t})},a.onChangeEmail=function(e){var t=e.target.value;a.setState({email:t})},a.onClickOverlay=function(e){return e.stopPropagation()},a.state={uri:"",avatar:null,name:"",email:""},a}return Object(Le.a)(t,e),Object(C.a)(t,[{key:"componentDidMount",value:function(){this.getCurrentAccount()}},{key:"render",value:function(){var e=this.props,t=e.closeAccountForm,a=e.errors,r=this.state,c=r.uri,s=r.name,o=r.email;return n.a.createElement("div",{className:"background--edit",onClick:t},n.a.createElement("div",{className:"session--edit",onClick:this.onClickOverlay},n.a.createElement("div",{className:"session__title"},"Edit account"),0!==a.length&&n.a.createElement(Je,{action:"Registration",errors:a}),n.a.createElement("label",{htmlFor:"avatarForm",className:"session__avatar"},n.a.createElement("input",{id:"avatarForm",type:"file",className:"session__fileField",onChange:this.onChangeFile}),""===c?n.a.createElement(qe.a,{icon:["fas","user"],className:"session__fileIcon"}):n.a.createElement("img",{src:c,alt:"avatar",className:"session__preview"})),n.a.createElement("div",{className:"session__fileLabel"},"Upload your avatar"),n.a.createElement("input",{type:"text",className:"session__name",placeholder:"Name",value:s,onChange:this.onChangeName}),n.a.createElement("input",{type:"text",className:"session__email",placeholder:"Email",value:o,onChange:this.onChangeEmail}),n.a.createElement("button",{type:"button",onClick:this.handleUpdate,className:"session__submit"},"Update")))}}]),t}(r.Component)),Ke=Object(o.b)((function(e){return{errors:e.accountForm.errors}}),(function(e){var t=ae,a=ne,r=X,n=N;return{closeAccountForm:function(){return e(t())},updateAccount:function(t){return e(a(t))},getAllProjects:function(){return e(r())},openConfirm:function(t){return e(n(t))}}}))(Ge),$e=(a(118),function(e){function t(e){var a;return Object(g.a)(this,t),(a=Object(Ue.a)(this,Object(Ve.a)(t).call(this,e))).toggleAccountMenu=function(){var e=a.state.accountMenuVisible;a.setState({accountMenuVisible:!e})},a.signOut=function(){localStorage.removeItem("token"),a.setState({isSignOut:!0})},a.state={accountMenuVisible:!1,isSignOut:!1},a}return Object(Le.a)(t,e),Object(C.a)(t,[{key:"render",value:function(){var e=this.state,t=e.accountMenuVisible,a=e.isSignOut,r=this.props,c=r.openResourceForm,s=r.openProjectForm,o=r.openAccountForm,i=r.accountFormVisible,l=r.toggleDeleteButton;return a?n.a.createElement(Be.a,{to:"/reach/signin"}):n.a.createElement("div",{className:"sidebar"},n.a.createElement("div",{className:"sidebar__iconWrapper--plus",onClick:s},n.a.createElement(qe.a,{icon:["fas","plus"],className:"sidebar__icon"})),n.a.createElement("div",{className:"sidebar__iconWrapper--minus",onClick:l},n.a.createElement(qe.a,{icon:["fas","minus"],className:"sidebar__icon"})),n.a.createElement("div",{className:"sidebar__iconWrapper--resource",onClick:c},n.a.createElement(qe.a,{icon:["fas","tags"],className:"sidebar__icon"})),n.a.createElement("div",{className:"sidebar__iconWrapper--account",onClick:this.toggleAccountMenu},n.a.createElement(qe.a,{icon:["fas","user"],className:"sidebar__icon"})),t&&n.a.createElement("div",{className:"overlay",onClick:this.toggleAccountMenu},n.a.createElement("div",{className:"accountMenu"},n.a.createElement("div",{className:"accountMenu__edit",onClick:o},"\u30a2\u30ab\u30a6\u30f3\u30c8\u7de8\u96c6"),n.a.createElement("div",{className:"accountMenu__signout",onClick:this.signOut},"\u30b5\u30a4\u30f3\u30a2\u30a6\u30c8"))),i&&n.a.createElement(Ke,null))}}]),t}(r.PureComponent)),ze=Object(o.b)((function(e){return{accountFormVisible:e.accountForm.visible}}),(function(e){var t=T,a=B,r=te,n=de;return{openResourceForm:function(){return e(t())},openProjectForm:function(){return e(a())},openAccountForm:function(){return e(r())},toggleDeleteButton:function(){return e(n())}}}))($e),Qe=a(40),Ze=a.n(Qe),et=(a(79),-1),tt=function(e){return e.stopPropagation()},at=function(e){var t=e.project,a=e.resource,r=e.account;return{projects:t.projects,resources:a.resources,users:r.users}},rt=function(e){function t(e){var a;return Object(g.a)(this,t),(a=Object(Ue.a)(this,Object(Ve.a)(t).call(this,e))).search=function(){var e=a.state,t=e.projectId,r=e.taskName,n=e.startDateFrom,c=e.startDateTo,s=e.endDateFrom,o=e.endDateTo,i=e.extendFrom,l=e.extendTo,u=e.orderDuration,d={project_id:t,task_name:r,start_date:{from:n,to:c,order:e.orderStartDate},end_date:{from:s,to:o,order:e.orderEndDate},extend:{from:i,to:l,order:e.orderExtend},duration:{order:u},in_charge:e.inCharge,resources:e.selectedResources};(0,a.props.searchProjects)(d)},a.sortingByDateRange=function(e){var t=a.state,r=t.startDateFrom,n=t.startDateTo,c=t.endDateFrom,s=t.endDateTo,o=t.extendFrom,i=t.extendTo,l=t.orderStartDate,u=t.orderEndDate,d=t.orderExtend;switch(e){case"start":return{rangeStart:r,rangeEnd:n,onChangeRangeStart:a.onChangeStartDateRangeS,onChangeRangeEnd:a.onChangeStartDateRangeE,order:l};case"end":return{rangeStart:c,rangeEnd:s,onChangeRangeStart:a.onChangeEndDateRangeS,onChangeRangeEnd:a.onChangeEndDateRangeE,order:u};case"extend":return{rangeStart:o,rangeEnd:i,onChangeRangeStart:a.onChangeExtendRangeS,onChangeRangeEnd:a.onChangeExtendRangeE,order:d};default:return{}}},a.onClickResource=function(){var e=a.state.searchByResourceVisible;a.setState({searchByResourceVisible:!e})},a.onClickName=function(){var e=a.state.searchByNameVisible;a.setState({searchByNameVisible:!e})},a.onClickDate=function(e){var t=e.currentTarget.dataset.type,r=a.state.searchByDateVisible;a.setState({searchByDateVisible:!r,dateType:t})},a.onClickDuration=function(){var e=a.state.searchByDurationVisible;a.setState({searchByDurationVisible:!e})},a.onClickInCharge=function(){var e=a.state.searchByUsersVisible;a.setState({searchByUsersVisible:!e})},a.onChangeOrder=function(){var e=Object(_.a)(E.a.mark((function e(t){var r,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.currentTarget.dataset.by,n=t.target.value,e.t0=r,e.next="duration"===e.t0?5:"start"===e.t0?8:"end"===e.t0?11:"extend"===e.t0?14:17;break;case 5:return e.next=7,a.setState({orderDuration:n,orderStartDate:"",orderEndDate:"",orderExtend:""});case 7:return e.abrupt("break",17);case 8:return e.next=10,a.setState({orderDuration:"",orderStartDate:n,orderEndDate:"",orderExtend:""});case 10:return e.abrupt("break",17);case 11:return e.next=13,a.setState({orderDuration:"",orderStartDate:"",orderEndDate:n,orderExtend:""});case 13:return e.abrupt("break",17);case 14:return e.next=16,a.setState({orderDuration:"",orderStartDate:"",orderEndDate:"",orderExtend:n});case 16:return e.abrupt("break",17);case 17:a.search();case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.onChangeProject=function(){var e=Object(_.a)(E.a.mark((function e(t){var r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.target.value,e.next=3,a.setState({projectId:r});case 3:a.search();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.onChangeTask=function(){var e=Object(_.a)(E.a.mark((function e(t){var r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.target.value,e.next=3,a.setState({taskName:r});case 3:a.search();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.onChangeStartDateRangeS=function(){var e=Object(_.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.setState({startDateFrom:t});case 2:a.search();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.onChangeStartDateRangeE=function(){var e=Object(_.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.setState({startDateTo:t});case 2:a.search();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.onChangeEndDateRangeS=function(){var e=Object(_.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.setState({endDateFrom:t});case 2:a.search();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.onChangeEndDateRangeE=function(){var e=Object(_.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({endDateTo:t}),a.search();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.onChangeExtendRangeS=function(){var e=Object(_.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.setState({extendFrom:t});case 2:a.search();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.onChangeExtendRangeE=function(){var e=Object(_.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.setState({extendTo:t});case 2:a.search();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.onClickAvatar=function(){var e=Object(_.a)(E.a.mark((function e(t){var r,n,c,s;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.state.inCharge,n=r,c=t.currentTarget.dataset.id,(s=r.indexOf(c))===et?n.push(c):n.splice(s,1),e.next=7,a.setState({inCharge:n});case 7:a.search();case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.onClickResourceIcon=function(){var e=Object(_.a)(E.a.mark((function e(t){var r,n,c,s;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.state.selectedResources,n=r,c=t.currentTarget.dataset.id,(s=r.indexOf(c))===et?n.push(c):n.splice(s,1),e.next=7,a.setState({selectedResources:n});case 7:a.search();case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.clearSearchName=Object(_.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.setState({taskName:"",projectId:"",searchByNameVisible:!1});case 2:a.search();case 3:case"end":return e.stop()}}),e)}))),a.clearSearchStartDate=Object(_.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.setState({startDateFrom:"",startDateTo:"",orderStartDate:"",searchByDateVisible:!1});case 2:a.search();case 3:case"end":return e.stop()}}),e)}))),a.clearSearchEndDate=Object(_.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.setState({endDateFrom:"",endDateTo:"",orderEndDate:"",searchByDateVisible:!1});case 2:a.search();case 3:case"end":return e.stop()}}),e)}))),a.clearSearchExtend=Object(_.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.setState({extendFrom:"",extendTo:"",orderExtend:"",searchByDateVisible:!1});case 2:a.search();case 3:case"end":return e.stop()}}),e)}))),a.clearSearchDuration=Object(_.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.setState({orderDuration:"",searchByDurationVisible:!1});case 2:a.search();case 3:case"end":return e.stop()}}),e)}))),a.clearSearchInCharge=Object(_.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.setState({inCharge:[],searchByUsersVisible:!1});case 2:a.search();case 3:case"end":return e.stop()}}),e)}))),a.closeAllModal=function(){a.setState({searchByNameVisible:!1,searchByDateVisible:!1,searchByDurationVisible:!1,searchByUsersVisible:!1,searchByResourceVisible:!1})},a.state={searchByNameVisible:!1,searchByDateVisible:!1,searchByDurationVisible:!1,searchByUsersVisible:!1,searchByResourceVisible:!1,dateType:"",projectId:"",taskName:"",startDateFrom:"",startDateTo:"",endDateFrom:"",endDateTo:"",extendFrom:"",extendTo:"",orderDuration:"",orderStartDate:"",orderEndDate:"",orderExtend:"",inCharge:[],selectedResources:[]},a}return Object(Le.a)(t,e),Object(C.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.getAllAccount)()}},{key:"render",value:function(){var e=this.state,t=e.searchByNameVisible,a=e.searchByDateVisible,r=e.searchByDurationVisible,c=e.searchByUsersVisible,s=e.searchByResourceVisible,o=e.projectId,i=e.taskName,l=e.dateType,u=e.startDateFrom,d=e.startDateTo,m=e.endDateFrom,p=e.endDateTo,f=e.extendFrom,h=e.extendTo,v=e.orderStartDate,E=e.orderEndDate,_=e.orderExtend,b=e.orderDuration,k=e.inCharge,g=e.selectedResources,C=0===g.length?"resourceIcon":"resourceIcon--selected",y=this.sortingByDateRange(l),O=y.rangeStart,N=y.rangeEnd,j=y.onChangeRangeStart,w=y.onChangeRangeEnd,D=y.order;return n.a.createElement("div",{className:"gantt-index-header"},n.a.createElement("div",{className:"gantt-index-header__resource"},n.a.createElement("div",{className:C,onClick:this.onClickResource})),n.a.createElement("div",{className:"gantt-index-header__name"},""===o&&""===i?n.a.createElement("span",{className:"gantt-index-header__label",onClick:this.onClickName},"\u30bf\u30a4\u30c8\u30eb"):n.a.createElement("div",{className:"selected"},n.a.createElement("span",{className:"selected__label",onClick:this.onClickName},"\u30bf\u30a4\u30c8\u30eb"),n.a.createElement("span",{className:"selected__clear",onClick:this.clearSearchName},"\xd7"))),n.a.createElement("div",{className:"gantt-index-header__startDate"},""===u&&""===d&&""===v?n.a.createElement("span",{className:"gantt-index-header__label","data-type":"start",onClick:this.onClickDate},"\u958b\u59cb\u65e5"):n.a.createElement("div",{className:"selected"},n.a.createElement("span",{className:"selected__label","data-type":"start",onClick:this.onClickDate},"\u958b\u59cb\u65e5"),n.a.createElement("span",{className:"selected__clear",onClick:this.clearSearchStartDate},"\xd7"))),n.a.createElement("div",{className:"gantt-index-header__endDate"},""===m&&""===p&&""===E?n.a.createElement("span",{className:"gantt-index-header__label","data-type":"end",onClick:this.onClickDate},"\u7d42\u4e86\u65e5"):n.a.createElement("div",{className:"selected"},n.a.createElement("span",{className:"selected__label","data-type":"end",onClick:this.onClickDate},"\u7d42\u4e86\u65e5"),n.a.createElement("span",{className:"selected__clear",onClick:this.clearSearchEndDate},"\xd7"))),n.a.createElement("div",{className:"gantt-index-header__extend"},""===f&&""===h&&""===_?n.a.createElement("span",{className:"gantt-index-header__label","data-type":"extend",onClick:this.onClickDate},"\u5ef6\u9577"):n.a.createElement("div",{className:"selected"},n.a.createElement("span",{className:"selected__label","data-type":"extend",onClick:this.onClickDate},"\u5ef6\u9577"),n.a.createElement("span",{className:"selected__clear",onClick:this.clearSearchExtend},"\xd7"))),n.a.createElement("div",{className:"gantt-index-header__duration"},""===b?n.a.createElement("span",{className:"gantt-index-header__label",onClick:this.onClickDuration},"\u671f\u9593"):n.a.createElement("div",{className:"selected"},n.a.createElement("span",{className:"selected__label",onClick:this.onClickDuration},"\u671f\u9593"),n.a.createElement("span",{className:"selected__clear",onClick:this.clearSearchDuration},"\xd7"))),n.a.createElement("div",{className:"gantt-index-header__inCharge"},0===k.length?n.a.createElement("span",{className:"gantt-index-header__label",onClick:this.onClickInCharge},"\u62c5\u5f53"):n.a.createElement("div",{className:"selected"},n.a.createElement("span",{className:"selected__label",onClick:this.onClickInCharge},"\u62c5\u5f53"),n.a.createElement("span",{className:"selected__clear",onClick:this.clearSearchInCharge},"\xd7"))),s&&n.a.createElement("div",{className:"overlay",onClick:this.closeAllModal},n.a.createElement(lt,{selectedResources:g,onClickResource:this.onClickResourceIcon})),t&&n.a.createElement("div",{className:"overlay",onClick:this.closeAllModal},n.a.createElement(ot,{projectId:o,onChangeProject:this.onChangeProject,taskName:i,onChangeTask:this.onChangeTask})),a&&n.a.createElement("div",{className:"overlay",onClick:this.closeAllModal},n.a.createElement(st,{dateType:l,rangeStart:O,rangeEnd:N,onChangeRangeStart:j,onChangeRangeEnd:w,onChangeOrder:this.onChangeOrder,selected:D})),r&&n.a.createElement("div",{className:"overlay",onClick:this.closeAllModal},n.a.createElement(ct,{onChangeOrder:this.onChangeOrder,selected:b})),c&&n.a.createElement("div",{className:"overlay",onClick:this.closeAllModal},n.a.createElement(it,{inCharge:k,onClickAvatar:this.onClickAvatar})))}}]),t}(r.Component),nt=function(e){var t=e.onChangeOrder,a=e.by,r=e.selected;return n.a.createElement("select",{"data-by":a,value:r,onChange:t,className:"search__order"},n.a.createElement("option",{key:"default",value:null,"aria-label":"order"}),[{label:"\u6607\u9806",value:"ASC"},{label:"\u964d\u9806",value:"DESC"}].map((function(e){return n.a.createElement("option",{key:e.label,value:e.value},e.label)})))},ct=function(e){var t=e.onChangeOrder,a=e.selected;return n.a.createElement("div",{className:"search--duration",onClick:tt},n.a.createElement("div",{className:"search__label"},"\u4e26\u3079\u66ff\u3048"),n.a.createElement(nt,{by:"duration",onChangeOrder:t,selected:a}),n.a.createElement("div",{className:"search__divide"}))},st=function(e){var t=e.rangeStart,a=e.rangeEnd,r=e.onChangeRangeStart,c=e.onChangeRangeEnd,s=e.dateType,o=e.onChangeOrder,i=e.order,l="search--".concat(s);return n.a.createElement("div",{className:l,onClick:tt},n.a.createElement("div",{className:"search__label"},"\u4e26\u3079\u66ff\u3048"),n.a.createElement(nt,{by:s,onChangeOrder:o,selected:i}),n.a.createElement("div",{className:"search__divide"}),n.a.createElement("div",{className:"search__label"},"\u8868\u793a\u3059\u308b\u671f\u9593\u3092\u6307\u5b9a"),n.a.createElement("div",{className:"search__dateWrapper"},n.a.createElement(Ze.a,{className:"search__dateRange",dateFormat:"yyyy/MM/dd",showWeekNumbers:!0,placeholderText:"\u7bc4\u56f2\u306e\u958b\u59cb\u65e5",selected:t,onChange:r}),n.a.createElement(Ze.a,{className:"search__dateRange",dateFormat:"yyyy/MM/dd",showWeekNumbers:!0,placeholderText:"\u7bc4\u56f2\u306e\u7d42\u4e86\u65e5",selected:a,onChange:c})))},ot=Object(o.b)(at)((function(e){var t=e.projectId,a=e.projects,r=e.onChangeProject,c=e.taskName,s=e.onChangeTask;return n.a.createElement("div",{className:"search--name",onClick:tt},n.a.createElement("div",{className:"search__label"},"\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u9078\u629e"),n.a.createElement("select",{value:t,onChange:r,className:"search__project"},n.a.createElement("option",{key:"default",value:null,"aria-label":"selectProject"}),a.map((function(e){return n.a.createElement("option",{key:e.name,value:e.id},e.name)}))),n.a.createElement("div",{className:"search__divide"}),n.a.createElement("div",{className:"search__label"},"\u30bf\u30b9\u30af\u540d\u3067\u691c\u7d22"),n.a.createElement("input",{type:"text",className:"search__task",value:c,onChange:s}))})),it=Object(o.b)(at)((function(e){var t=e.users,a=e.inCharge,r=e.onClickAvatar;return n.a.createElement("div",{className:"search--user",onClick:tt},n.a.createElement("div",{className:"search__label"},"\u62c5\u5f53\u3067\u7d5e\u308a\u8fbc\u307f"),n.a.createElement("div",{className:"search__usersWrapper"},t.map((function(e){var t=a.indexOf(String(e.id));return n.a.createElement("div",{key:e.id,className:"avatar"},n.a.createElement("div",{"data-id":e.id,onClick:r,className:"avatar__wrapper"},n.a.createElement("img",{src:e.avatar,alt:e.name,className:"avatar__image"}),t!==et&&n.a.createElement("div",{className:"avatar__selected"})),n.a.createElement("div",{className:"avatar__name"},e.name))}))))})),lt=Object(o.b)(at)((function(e){var t=e.resources,a=e.selectedResources,r=e.onClickResource;return n.a.createElement("div",{className:"search--resource",onClick:tt},n.a.createElement("div",{className:"search__label"},"\u30ea\u30bd\u30fc\u30b9\u3067\u7d5e\u308a\u8fbc\u307f"),n.a.createElement("div",{className:"search__resourceWrapper"},t.map((function(e){var t=a.indexOf(String(e.id));return n.a.createElement("div",{key:e.id,className:"resource"},n.a.createElement("div",{"data-id":e.id,onClick:r,className:"resource__wrapper"},n.a.createElement("div",{className:"resource__icon",style:{backgroundColor:e.color}}),t!==et&&n.a.createElement("div",{className:"resource__selected"})),n.a.createElement("div",{className:"resource__name"},e.name))}))))})),ut=Object(o.b)(at,(function(e){var t=J,a=re;return{searchProjects:function(a){return e(t(a))},getAllAccount:function(){return e(a())}}}))(rt),dt=(a(163),function(e){var t=e.members;return t.map((function(e,a){return a>3?null:a<3?n.a.createElement("img",{key:e.name,src:e.avatar,alt:e.name,className:"task__avatar"}):n.a.createElement("div",{key:String(a),className:"task__avatar--length"},t.length)}))}),mt=Object(o.b)((function(e){return{deleteButtonVisible:e.task.deleteButtonVisible}}),(function(e){var t=le,a=K;return{openTaskForm:function(a){var r=a.taskID;return e(t({taskID:r}))},deleteTask:function(t){return e(a(t))}}}))((function(e){var t=e.tasks,a=e.deleteButtonVisible,r=function(t){t.stopPropagation();var a=t.currentTarget.dataset.id;(0,e.deleteTask)(a)},c=function(t){(0,e.openTaskForm)({taskID:t.currentTarget.dataset.id})};return t.map((function(e){var t="progress"===e.percentComplete?"task":"task--complete";return n.a.createElement("div",{key:e.id,"data-id":e.id,className:t,onClick:c},n.a.createElement("div",{className:"task__icon"},a?n.a.createElement(qe.a,{"data-id":e.id,icon:["fas","minus-circle"],className:"task__delete",onClick:r}):n.a.createElement("div",{className:"task__resource",style:{backgroundColor:e.resource.color}})),n.a.createElement("div",{className:"task__name"},e.name),n.a.createElement("div",{className:"task__startDate"},e.startDate),n.a.createElement("div",{className:"task__endDate"},e.endDate),n.a.createElement("div",{className:"task__extend"},e.extend),n.a.createElement("div",{className:"task__duration"},e.duration),n.a.createElement("div",{className:"task__inCharge"},n.a.createElement(dt,{members:e.users})))}))})),pt=(a(57),-1),ft=function(e){function t(e){var a;Object(g.a)(this,t),(a=Object(Ue.a)(this,Object(Ve.a)(t).call(this,e))).editTaskFormValue=Object(_.a)(E.a.mark((function e(){var t,r,n,c,s,o,i,l,u,d,m,p,f,h,v;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.taskID,r=localStorage.getItem("token"),n=y.buildRequestUrl("/tasks/".concat(t,"/edit")),e.next=5,k.a.get(n,{headers:{"X-Reach-token":r}}).catch((function(e){return e.response}));case 5:if(200===(c=e.sent).status){e.next=10;break}return(0,a.props.openConfirm)(R),e.abrupt("return");case 10:s=c.data.task,o=s.description,i=s.startDate,l=s.endDate,u=s.extend,d=s.name,m=s.percentComplete,p=s.userIds,f=s.resourceId,h="complete"===m,v=p.map((function(e){return String(e)})),a.setState({name:d,complete:h,description:o,startDate:new Date(i),endDate:u?new Date(u):new Date(l),inCharge:v,selectedResource:f});case 14:case"end":return e.stop()}}),e)}))),a.onChangeName=function(e){var t=e.target.value;a.setState({name:t})},a.onChangeResource=function(e){var t=e.target.value;a.setState({selectedResource:t})},a.onChangeStartDate=function(e){a.setState({startDate:e})},a.onChangeEndDate=function(e){a.setState({endDate:e})},a.onCheck=function(){var e=a.state.complete;a.setState({complete:!e})},a.onClickAvatar=function(e){var t=a.state.inCharge,r=t,n=e.currentTarget.dataset.id,c=t.indexOf(n);c===pt?r.push(n):r.splice(c,1),a.setState({inCharge:r})},a.onChangeDescription=function(e){var t=e.target.value;a.setState({description:t})},a.handleCreate=function(){var e=a.props,t=e.projectID,r=e.createTask,n=a.state,c=n.name,s=n.selectedResource,o=n.startDate,i=n.endDate,l=n.inCharge;r({name:c,description:n.description,duration:He()(i).diff(He()(o),"days"),resource_id:s,project_id:t,start_date:o,end_date:i,user_ids:l})},a.handleUpdate=function(){var e=a.state,t=e.name,r=e.selectedResource,n=e.startDate,c=e.endDate,s=e.complete,o=e.inCharge,i={name:t,description:e.description,duration:He()(c).diff(He()(n),"days"),percent_complete:s?"complete":"progress",resource_id:r,start_date:n,extend:c,user_ids:o},l=a.props,u=l.taskID;(0,l.updateTask)(u,i)},a.onClickOverlay=function(e){return e.stopPropagation()};var r=a.props.taskID;return a.action=r?"edit":"new",a.submit=r?a.handleUpdate:a.handleCreate,a.state={name:"",selectedResource:"",startDate:null,endDate:null,complete:!1,inCharge:[],description:""},a}return Object(Le.a)(t,e),Object(C.a)(t,[{key:"componentDidMount",value:function(){"edit"===this.action&&this.editTaskFormValue()}},{key:"render",value:function(){var e=this,t="edit"===this.action?"Update Task":"Add Task",a=this.props,r=a.closeTaskForm,c=a.resources,s=a.users,o=a.errors,i=this.state,l=i.selectedResource,u=i.name,d=i.startDate,m=i.endDate,p=i.complete,f=i.inCharge,h=i.description;return n.a.createElement("div",{className:"modalOverlay",onClick:r},n.a.createElement("div",{className:"taskForm",onClick:this.onClickOverlay},n.a.createElement("div",{className:"taskForm__close",onClick:r},"\xd7"),n.a.createElement("div",{className:"taskForm__title"},t),0!==o.length&&n.a.createElement(Je,{action:"Task creation",errors:o}),n.a.createElement("div",{className:"taskFormRow"},n.a.createElement("div",{className:"taskFormRow__label"},"\u30bf\u30a4\u30c8\u30eb"),n.a.createElement("input",{type:"text",className:"taskFormRow__name",value:u,onChange:this.onChangeName})),n.a.createElement("div",{className:"taskFormRow"},n.a.createElement("div",{className:"taskFormRow__label"},"\u30ea\u30bd\u30fc\u30b9"),n.a.createElement("select",{value:l,onChange:this.onChangeResource,className:"taskFormRow__resource"},n.a.createElement("option",{key:"default",value:null,"aria-label":"...select"}),c.map((function(e){return n.a.createElement("option",{key:e.id,value:e.id},e.name)}))),n.a.createElement("div",{className:"taskFormRow__divide"})),n.a.createElement("div",{className:"taskFormRow"},n.a.createElement("div",{className:"taskFormRow__label"},"\u958b\u59cb\u65e5"),n.a.createElement(Ze.a,{className:"taskFormRow__date",dateFormat:"yyyy/MM/dd",showWeekNumbers:!0,selected:d,onChange:this.onChangeStartDate})),n.a.createElement("div",{className:"taskFormRow"},n.a.createElement("div",{className:"taskFormRow__label"},"\u7d42\u4e86\u65e5"),n.a.createElement(Ze.a,{className:"taskFormRow__date",dateFormat:"yyyy/MM/dd",showWeekNumbers:!0,selected:m,onChange:this.onChangeEndDate})),"edit"===this.action&&n.a.createElement("div",{className:"taskFormRow"},n.a.createElement("div",{className:"taskFormRow__label"},"\u5b8c\u4e86"),n.a.createElement("div",{className:"taskFormRow__complete",onClick:this.onCheck},n.a.createElement("div",{className:"taskFormRow__checkbox"},n.a.createElement(qe.a,{icon:["far","square"]}),p&&n.a.createElement(qe.a,{icon:["fas","check"],className:"taskFormRow__checked"})))),n.a.createElement("div",{className:"taskFormRow"},n.a.createElement("div",{className:"taskFormRow__label"},"\u62c5\u5f53"),n.a.createElement("div",{className:"taskFormRow__inCharge"},s.map((function(t){var a=f.indexOf(String(t.id));return n.a.createElement("div",{key:t.id,className:"avatar"},n.a.createElement("div",{"data-id":t.id,onClick:e.onClickAvatar,className:"avatar__wrapper"},n.a.createElement("img",{src:t.avatar,alt:t.name,className:"avatar__image"}),a!==pt&&n.a.createElement("div",{className:"avatar__selected"})),n.a.createElement("div",{className:"avatar__name"},t.name))})))),n.a.createElement("div",{className:"taskFormRow"},n.a.createElement("div",{className:"taskFormRow__label"},"\u8aac\u660e"),n.a.createElement("textarea",{className:"taskFormRow__description",value:h,onChange:this.onChangeDescription})),n.a.createElement("button",{type:"button",onClick:this.submit,className:"taskForm__button"},t)))}}]),t}(r.Component),ht=Object(o.b)((function(e){var t=e.resource,a=e.account,r=e.taskForm;return{users:a.users,resources:t.resources,taskID:r.taskID,projectID:r.projectID,errors:r.errors}}),(function(e){var t=ue,a=G,r=$,n=N;return{closeTaskForm:function(){return e(t())},createTask:function(t){return e(a(t))},updateTask:function(t,a){return e(r(t,a))},openConfirm:function(t){return e(n(t))}}}))(ft),vt=function(e){function t(e){var a;Object(g.a)(this,t),(a=Object(Ue.a)(this,Object(Ve.a)(t).call(this,e))).editProjectFormValue=Object(_.a)(E.a.mark((function e(){var t,r,n,c,s,o,i;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.projectID,r=y.buildRequestUrl("/projects/".concat(t,"/edit")),n=localStorage.getItem("token"),e.next=5,k.a.get(r,{headers:{"X-Reach-token":n}}).catch((function(e){return e.response}));case 5:if(200===(c=e.sent).status){e.next=10;break}return(0,a.props.openConfirm)(R),e.abrupt("return");case 10:s=c.data.project,o=s.name,i=s.description,a.setState({name:o,description:i});case 12:case"end":return e.stop()}}),e)}))),a.handleCreate=function(){var e=a.props.createProject,t=a.state;e({name:t.name,description:t.description})},a.handleDestroy=function(){var e=a.props,t=e.deleteProject,r=e.projectID;(0,e.openConfirm)({type:"ask",title:"Project ".concat(D),description:w,confirm:function(){return t(r)}})},a.handleUpdate=function(){var e=a.props,t=e.updateProject,r=e.projectID,n=a.state;t(r,{name:n.name,description:n.description})},a.onChangeName=function(e){var t=e.target.value;a.setState({name:t})},a.onChangeDescription=function(e){var t=e.target.value;a.setState({description:t})},a.onClickOverlay=function(e){return e.stopPropagation()};var r=a.props.projectID;return a.action=r?"edit":"new",a.submit=r?a.handleUpdate:a.handleCreate,a.state={name:"",description:""},a}return Object(Le.a)(t,e),Object(C.a)(t,[{key:"componentDidMount",value:function(){"edit"===this.action&&this.editProjectFormValue()}},{key:"render",value:function(){var e=this.props,t=e.closeProjectForm,a=e.errors,r=this.state,c=r.name,s=r.description,o="new"===this.action?"Create Project":"Update Project";return n.a.createElement("div",{className:"modalOverlay",onClick:t},n.a.createElement("div",{className:"modalForm",onClick:this.onClickOverlay},n.a.createElement("div",{className:"modalForm__title"},o),0!==a.length&&n.a.createElement(Je,{action:"Project creation",errors:a}),n.a.createElement("input",{type:"text",className:"modalForm__textInput",placeholder:"\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u540d\u3092\u5165\u529b",value:c,onChange:this.onChangeName}),n.a.createElement("textarea",{className:"modalForm__textarea",placeholder:"\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u8aac\u660e\u3092\u5165\u529b",value:s,onChange:this.onChangeDescription}),n.a.createElement("button",{type:"button",onClick:this.submit,className:"modalForm__button"},o),"edit"===this.action&&n.a.createElement("button",{type:"button",onClick:this.handleDestroy,className:"modalForm__button--delete"},"Delete Project")))}}]),t}(r.PureComponent),Et=Object(o.b)((function(e){var t=e.projectForm;return{projectID:t.id,errors:t.errors}}),(function(e){var t=N,a=Y,r=H,n=q,c=W;return{closeProjectForm:function(){return e(a())},createProject:function(t){return e(r(t))},deleteProject:function(t){return e(n(t))},updateProject:function(t,a){return e(c(t,a))},openConfirm:function(a){return e(t(a))}}}))(vt),_t=function(e){function t(e){var a;return Object(g.a)(this,t),(a=Object(Ue.a)(this,Object(Ve.a)(t).call(this,e))).handleCreate=function(){var e=a.state,t=e.name,r=e.link,n=a.props,c=n.projectID;(0,n.createAttachment)({name:t,url:r},c)},a.handleDestroy=function(){var e=Object(_.a)(E.a.mark((function e(t){var r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.currentTarget.dataset.id,(0,a.props.deleteAttachment)(r);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.onChangeName=function(e){var t=e.target.value;a.setState({name:t})},a.onChangeUrl=function(e){var t=e.target.value;a.setState({link:t})},a.stopPropagation=function(e){return e.stopPropagation()},a.state={name:"",link:""},a}return Object(Le.a)(t,e),Object(C.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.projectID;(0,e.getAllAttachment)(t)}},{key:"render",value:function(){var e=this,t=this.props,a=t.closeAttachmentForm,r=t.attachments,c=t.errors,s=this.state,o=s.name,i=s.link;return n.a.createElement("div",{className:"modalOverlay",onClick:a},n.a.createElement("div",{className:"modalForm",onClick:this.stopPropagation},n.a.createElement("div",{className:"modalForm__title"},"Attachments"),0!==c.length&&n.a.createElement(Je,{action:"Add link",errors:c}),n.a.createElement("div",{className:"modalFormUrl"},n.a.createElement("input",{type:"text",className:"modalFormUrl__name",placeholder:"Label",value:o,onChange:this.onChangeName}),n.a.createElement("input",{type:"text",className:"modalFormUrl__url",placeholder:"URL",value:i,onChange:this.onChangeUrl}),n.a.createElement(qe.a,{icon:["fas","plus-circle"],className:"modalFormUrl__add",onClick:this.handleCreate})),n.a.createElement("div",{className:"urlIndex"},r.map((function(t){return n.a.createElement("div",{className:"urlList",key:t.id},n.a.createElement(qe.a,{icon:["fas","link"],className:"urlList__icon"}),n.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:t.url,className:"urlList__link"},t.name),n.a.createElement(qe.a,{icon:["fas","trash-alt"],className:"urlList__delete","data-id":t.id,onClick:e.handleDestroy}))})))))}}]),t}(r.Component),bt=Object(o.b)((function(e){var t=e.attachmentForm,a=e.attachment;return{projectID:t.projectID,attachmentFormVisible:t.visible,errors:t.errors,attachments:a.attachments}}),(function(e){var t=Oe,a=Ne,r=je,n=we;return{closeAttachmentForm:function(){return e(t())},getAllAttachment:function(t){return e(a(t))},createAttachment:function(t,a){return e(r(t,a))},deleteAttachment:function(t){return e(n(t))}}}))(_t),kt=(a(80),function(e){function t(){var e,a;Object(g.a)(this,t);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(a=Object(Ue.a)(this,(e=Object(Ve.a)(t)).call.apply(e,[this].concat(n)))).onClickEditProject=function(e){(0,a.props.openProjectForm)(e.currentTarget.dataset.id)},a.onClickAddTask=function(e){(0,a.props.openTaskForm)({projectID:e.currentTarget.dataset.id})},a.onClickAttachmentIcon=function(e){(0,a.props.openAttachmentForm)(e.currentTarget.dataset.id)},a}return Object(Le.a)(t,e),Object(C.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.getAllProjects)()}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.projects,r=t.closeProjectForm,n=t.closeConfirm;e.projects.length!==a.length&&(r(),n())}},{key:"render",value:function(){var e=this,t=this.props,a=t.projects,r=t.projectFormVisible,c=t.taskFormVisible,s=t.attachmentFormVisible;return n.a.createElement(n.a.Fragment,null,r&&n.a.createElement(Et,null),c&&n.a.createElement(ht,null),s&&n.a.createElement(bt,null),a.map((function(t,a){return n.a.createElement("div",{key:t.id,className:"project"},n.a.createElement("div",{className:"projectHeader"},n.a.createElement("div",{className:"projectHeader__name"},t.name),n.a.createElement(qe.a,{icon:["fas","edit"],className:"projectHeader__edit","data-id":t.id,onClick:e.onClickEditProject}),n.a.createElement(qe.a,{icon:["fas","plus"],className:"projectHeader__addTask","data-id":t.id,onClick:e.onClickAddTask}),n.a.createElement(qe.a,{icon:["fas","link"],className:"projectHeader__link","data-id":t.id,onClick:e.onClickAttachmentIcon})),t.tasks&&n.a.createElement(mt,{index:a,tasks:t.tasks}))})))}}]),t}(r.Component)),gt=Object(o.b)((function(e){var t=e.projectForm,a=e.project,r=e.taskForm,n=e.attachmentForm;return{projectFormVisible:t.visible,projectID:t.id,projects:a.projects,taskFormVisible:r.visible,taskID:r.id,attachmentFormVisible:n.visible}}),(function(e){var t=B,a=Y,r=X,n=le,c=j,s=ye;return{openProjectForm:function(a){return e(t(a))},closeProjectForm:function(){return e(a())},getAllProjects:function(){return e(r())},openTaskForm:function(t){var a=t.projectID;return e(n({projectID:a}))},closeConfirm:function(){return e(c())},openAttachmentForm:function(t){return e(s(t))}}}))(kt),Ct=function(e){function t(e){var a;Object(g.a)(this,t),(a=Object(Ue.a)(this,Object(Ve.a)(t).call(this,e))).getIndexColors=Object(_.a)(E.a.mark((function e(){var t,r,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=y.buildRequestUrl("/colors"),e.next=3,k.a.get(t,{headers:{"X-Reach-token":a.token}}).catch((function(e){return e.response}));case 3:if(200===(r=e.sent).status){e.next=8;break}return(0,a.props.openConfirm)(R),e.abrupt("return");case 8:n=r.data.colors,a.setState({colors:n});case 10:case"end":return e.stop()}}),e)}))),a.editResourceFormValue=Object(_.a)(E.a.mark((function e(){var t,r,n,c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.resourceID,r=y.buildRequestUrl("/resources/".concat(t,"/edit")),e.next=4,k.a.get(r,{headers:{"X-Reach-token":a.token}}).catch((function(e){return e.response}));case 4:if(200===(n=e.sent).status){e.next=9;break}return(0,a.props.openConfirm)(R),e.abrupt("return");case 9:c=n.data.resource,a.setState({name:c.name,pickedColor:String(c.color_id)});case 11:case"end":return e.stop()}}),e)}))),a.handleCreate=function(){var e=a.props.createResource,t=a.state,r=t.pickedColor;e({name:t.name,color_id:r})},a.handleDestroy=function(){var e=a.props,t=e.deleteResource,r=e.resourceID;(0,e.openConfirm)({type:"ask",title:"Resource ".concat(D),description:w,confirm:function(){return t(r)}})},a.handleUpdate=Object(_.a)(E.a.mark((function e(){var t,r,n,c,s,o,i,l;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props,r=t.resourceID,n=t.updateResource,c=t.getAllProjects,s=a.state,o=s.pickedColor,i=s.name,l={name:i,color_id:o},e.next=5,n(r,l);case 5:c();case 6:case"end":return e.stop()}}),e)}))),a.onPickColor=function(e){var t=e.target.dataset.color;a.setState({pickedColor:t})},a.onChangeName=function(e){var t=e.target.value;a.setState({name:t})},a.onClickOverlay=function(e){return e.stopPropagation()};var r=a.props.resourceID;return a.action=r?"edit":"new",a.submit=r?a.handleUpdate:a.handleCreate,a.state={name:"",colors:[],pickedColor:""},a}return Object(Le.a)(t,e),Object(C.a)(t,[{key:"componentDidMount",value:function(){this.token=localStorage.getItem("token"),this.getIndexColors(),"edit"===this.action&&this.editResourceFormValue()}},{key:"render",value:function(){var e="new"===this.action?"Create Resource":"Update Resource",t=this.props,a=t.closeResourceForm,r=t.errors,c=this.state,s=c.name,o=c.colors,i=c.pickedColor;return n.a.createElement("div",{className:"modalOverlay",onClick:a},n.a.createElement("div",{className:"modalForm",onClick:this.onClickOverlay},n.a.createElement("div",{className:"modalForm__title"},e),0!==r.length&&n.a.createElement(Je,{action:"Resource creation",errors:r}),n.a.createElement("input",{type:"text",className:"modalForm__textInput",placeholder:"\u30ea\u30bd\u30fc\u30b9\u540d\u3092\u5165\u529b",value:s,onChange:this.onChangeName}),n.a.createElement("div",{className:"modalForm__label"},"\u30e9\u30d9\u30eb\u306e\u8272\u3092\u9078\u629e"),n.a.createElement("div",{className:"colorPallet"},n.a.createElement(yt,{colors:o,pickedColor:i,onPickColor:this.onPickColor})),n.a.createElement("button",{type:"button",onClick:this.submit,className:"modalForm__button"},e),"edit"===this.action&&n.a.createElement("button",{type:"button",onClick:this.handleDestroy,className:"modalForm__button--delete"},"Delete Resource")))}}]),t}(r.PureComponent),yt=function(e){var t=e.colors,a=e.pickedColor,r=e.onPickColor;return t.map((function(e){var t=a===String(e.id)?"--selected":"",c="colorPallet__body".concat(t);return n.a.createElement("div",{key:e.id,className:"colorPallet__edge"},n.a.createElement("div",{className:c,style:{backgroundColor:e.value},"data-color":e.id,onClick:r}))}))},Ot=Object(o.b)((function(e){var t=e.resourceForm;return{resourceID:t.id,errors:t.errors}}),(function(e){var t=X,a=N,r=x,n=A,c=P,s=I;return{getAllProjects:function(){return e(t())},closeResourceForm:function(){return e(r())},createResource:function(t){return e(n(t))},deleteResource:function(t){return e(c(t))},updateResource:function(t,a){return e(s(t,a))},openConfirm:function(t){return e(a(t))}}}))(Ct),Nt=function(e){function t(){var e,a;Object(g.a)(this,t);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(a=Object(Ue.a)(this,(e=Object(Ve.a)(t)).call.apply(e,[this].concat(n)))).onClick=function(e){(0,a.props.openResourceForm)(e.currentTarget.dataset.id)},a}return Object(Le.a)(t,e),Object(C.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.getAllResources)()}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.resources,r=t.closeResourceForm,n=t.closeConfirm;e.resources.length!==a.length&&(r(),n())}},{key:"render",value:function(){var e=this,t=this.props,a=t.resources,r=t.resourceFormVisible;return n.a.createElement("div",{className:"resource"},a.map((function(t){return n.a.createElement("div",{className:"resource__wrapper",key:t.id,onClick:e.onClick,"data-id":t.id},n.a.createElement("div",{className:"resource__icon",style:{backgroundColor:t.color}}),n.a.createElement("div",{className:"resource__name"},t.name))})),r&&n.a.createElement(Ot,null))}}]),t}(r.Component),jt=Object(o.b)((function(e){var t=e.resourceForm,a=e.resource;return{resourceFormVisible:t.visible,resources:a.resources}}),(function(e){var t=T,a=F,r=x,n=j;return{getAllResources:function(){return e(a())},openResourceForm:function(a){return e(t(a))},closeResourceForm:function(){return e(r())},closeConfirm:function(){return e(n())}}}))(Nt),wt=(a(164),function(e){function t(e){var a;return Object(g.a)(this,t),(a=Object(Ue.a)(this,Object(Ve.a)(t).call(this,e))).onMouseEnter=function(e){var t=window.innerWidth<e.clientX+300,r=window.innerHeight<e.clientY+300,n=t?e.clientX-230:e.clientX,c=r?e.clientY-150:e.clientY;a.setState({isHover:!0,offsetX:n,offsetY:c})},a.onMouseLeave=function(){return a.setState({isHover:!1})},a.state={isHover:!1,offsetX:0,offsetY:0},a}return Object(Le.a)(t,e),Object(C.a)(t,[{key:"render",value:function(){var e=this.props,t=e.chartWidth,a=e.data,r=this.state,c=r.isHover,s=r.offsetX,o=r.offsetY;return n.a.createElement("div",{style:{width:t,backgroundColor:a.resource.color},className:"chartbar",onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},c&&n.a.createElement(Rt,{data:a,offsetX:s,offsetY:o}))}}]),t}(r.PureComponent)),Dt=function(e){return e.users.map((function(e){return n.a.createElement("div",{key:e.name,className:"windowMembers__name"},e.name)}))},Rt=function(e){var t=e.data,a=e.offsetX,r=e.offsetY;return n.a.createElement("div",{className:"window",style:{top:r,left:a}},n.a.createElement("div",{className:"windowRow"},n.a.createElement("div",{className:"windowRow__label"},"\u30bf\u30a4\u30c8\u30eb:"),n.a.createElement("div",{className:"windowRow__name"},t.name)),n.a.createElement("div",{className:"windowRow"},n.a.createElement("div",{className:"windowRow__label"},"\u958b\u59cb\u65e5:"),n.a.createElement("div",{className:"window__startDate"},t.startDate)),n.a.createElement("div",{className:"windowRow"},n.a.createElement("div",{className:"windowRow__label"},"\u7d42\u4e86\u65e5:"),n.a.createElement("div",{className:"window__endDate"},t.endDate)),n.a.createElement("div",{className:"windowRow"},n.a.createElement("div",{className:"windowRow__label"},"\u5ef6\u9577:"),n.a.createElement("div",{className:"window__extend"},t.extend)),n.a.createElement("div",{className:"windowRow"},n.a.createElement("div",{className:"windowRow__label"},"\u671f\u9593:"),n.a.createElement("div",{className:"window__duration"},t.duration)),n.a.createElement("div",{className:"windowRow"},n.a.createElement("div",{className:"windowRow__label"},"\u9032\u6357:"),n.a.createElement("div",{className:"window__progress"},t.percentComplete)),n.a.createElement("div",{className:"windowRow"},n.a.createElement("div",{className:"windowRow__label"},"\u62c5\u5f53:"),n.a.createElement("div",{className:"windowMembers"},n.a.createElement(Dt,{users:t.users}))),n.a.createElement("div",{className:"windowCol"},n.a.createElement("div",{className:"windowCol__label"},"\u8aac\u660e:"),n.a.createElement("div",{className:"windowCol__description"},t.description)))},St=He()(new Date).subtract(2,"weeks").startOf("days"),Tt=He()(new Date).add(1,"years"),xt=Object(o.b)((function(e){var t=e.project,a=e.schedule;return{projects:t.projects,scheduleType:a.scheduleType}}))((function(e){var t=e.projects,a=e.scheduleType;return t.map((function(e){return n.a.createElement("div",{key:e.name,className:"project"},n.a.createElement("div",{className:"projectHeader"}),e.tasks&&e.tasks.map((function(e){var t=a===ve?function(e){return 45*He()(e.startDate,"YYYY/MM/DD").startOf("days").diff(St,"days")}(e):function(e){return 45*Math.ceil(He()(e.startDate,"YYYY/MM/DD").startOf("week").diff(St,"weeks",!0))}(e),r=a===ve?e.duration:function(e){var t=e.extend||e.endDate,a=He()(e.startDate,"YYYY/MM/DD").startOf("week"),r=He()(t,"YYYY/MM/DD").endOf("week");return Math.ceil(r.diff(a,"weeks",!0))}(e);!function(e){return He()(e.startDate,"YYYY/MM/DD").isBefore(St)}(e)||a!==ve?function(e){return He()(e.startDate,"YYYY/MM/DD").isBefore(St.startOf("week"))}(e)&&"weeks"===a&&(r-=Math.ceil(St.diff(He()(e.startDate,"YYYY/MM/DD"),"week",!0))):r-=St.diff(He()(e.startDate,"YYYY/MM/DD").startOf("days"),"days",!0),a===ve&&(r+=1);var c=45*r,s="progress"===e.percentComplete?"task":"task--complete";return n.a.createElement("div",{key:e.id,style:{paddingLeft:t},className:s},n.a.createElement(wt,{chartWidth:c,data:e}))})))}))})),Ft=(a(165),function(e){return{scheduleType:e.schedule.scheduleType}}),At=function(e){var t=Ee,a=_e;return{changeToWeeks:function(){return e(t())},changeToDays:function(){return e(a())}}},Pt=function(e,t){var a={};if(t===ve)a.formatDate=e.format("MMM D"),a.className="gantt-schedule-header__date".concat(function(e){switch(e.get("day")){case 0:return"--sun";case 6:return"--sat";default:return""}}(e));else{var r=e.startOf("week");a.formatDate="W".concat(e.format("W")," ").concat(r.format("M/D")),a.className="gantt-schedule-header__week"}return a},It=Object(o.b)(Ft)((function(e){for(var t=e.scheduleType,a=[],r=He()(St);r<=Tt;r.add(1,t)){var c=Pt(r,t);a.push(n.a.createElement("div",{className:c.className,key:r.format("YYYYMMDD")},c.formatDate))}return a})),Mt=Object(o.b)(Ft,At)((function(e){var t=e.scheduleType,a=e.changeToWeeks,r=e.changeToDays,c={weeks:"switchView__button",days:"switchView__button"};return"weeks"===t?c.weeks+="--disable":t===ve&&(c.days+="--disable"),n.a.createElement("div",{className:"header"},n.a.createElement("div",{className:"switchView"},n.a.createElement("div",{className:c.weeks,onClick:a},"Week"),n.a.createElement("div",{className:"switchView__divider"},"|"),n.a.createElement("div",{className:c.days,onClick:r},"Day")),n.a.createElement(jt,null))})),Ut=Object(o.b)(Ft,At)((function(){return n.a.createElement("div",{className:"App"},n.a.createElement(ze,null),n.a.createElement("div",{className:"mainContainer"},n.a.createElement(Mt,null),n.a.createElement("div",{className:"gantt"},n.a.createElement("div",{className:"gantt-index"},n.a.createElement(ut,null),n.a.createElement(gt,null)),n.a.createElement("div",{className:"gantt-schedule"},n.a.createElement("div",{className:"gantt-schedule-header"},n.a.createElement(It,null)),n.a.createElement(xt,null)))))})),Vt=function(e){function t(e){var a;return Object(g.a)(this,t),(a=Object(Ue.a)(this,Object(Ve.a)(t).call(this,e))).onChangeEmail=function(e){var t=e.target.value;a.setState({email:t})},a.onClickOverlay=function(e){return e.stopPropagation()},a.handleSubmit=Object(_.a)(E.a.mark((function e(){var t,r,n,c,s,o,i;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state.email,r={email:t},n=y.buildRequestUrl("/sessions/new"),e.next=5,k.a.get(n,{params:r}).catch((function(e){return e.response}));case 5:if(200===(c=e.sent).status){e.next=10;break}return(0,a.props.openConfirm)(R),e.abrupt("return");case 10:s=c.data,o=s.result,i=s.errors,o?(0,a.props.openConfirm)(S):a.setState({errors:i});case 12:case"end":return e.stop()}}),e)}))),a.state={email:"",errors:[]},a}return Object(Le.a)(t,e),Object(C.a)(t,[{key:"render",value:function(){var e=this.state,t=e.email,a=e.errors,r=this.props.closeVerificationForm;return n.a.createElement("div",{className:"modalOverlay--verification",onClick:r},n.a.createElement("div",{className:"modalForm",onClick:this.onClickOverlay},n.a.createElement("div",{className:"modalForm__title"},"Account verification"),0!==a.length&&n.a.createElement(Je,{action:"Resource creation",errors:a}),n.a.createElement("input",{type:"text",className:"modalForm__textInput",placeholder:"\u767b\u9332\u6e08\u307f\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u3092\u5165\u529b",value:t,onChange:this.onChangeEmail}),n.a.createElement("button",{type:"button",onClick:this.handleSubmit,className:"modalForm__button"},"Send")))}}]),t}(r.Component),Lt=Object(o.b)(null,(function(e){var t=N,a=Fe;return{openConfirm:function(a){return e(t(a))},closeVerificationForm:function(){return e(a())}}}))(Vt),Bt=function(e){function t(e){var a;return Object(g.a)(this,t),(a=Object(Ue.a)(this,Object(Ve.a)(t).call(this,e))).handleSignIn=Object(_.a)(E.a.mark((function e(){var t,r,n,c,s,o,i,l,u,d;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state,r=t.email,n=t.password,c=y.buildRequestUrl("/sessions"),s={email:r,password:n},e.next=5,k.a.post(c,s,{headers:{"Content-Type":"application/json"}}).catch((function(e){return e.response}));case 5:if(200===(o=e.sent).status){e.next=10;break}return(0,a.props.openConfirm)(R),e.abrupt("return");case 10:i=o.data,l=i.result,u=i.token,d=i.errors,l?(localStorage.setItem("token",u),a.setState({isSignIn:!0})):a.setState({errors:d});case 12:case"end":return e.stop()}}),e)}))),a.emailOnChange=function(e){var t=e.target.value;a.setState({email:t})},a.passwordOnChange=function(e){var t=e.target.value;a.setState({password:t})},a.state={email:"",password:"",isSignIn:!1,errors:[]},a}return Object(Le.a)(t,e),Object(C.a)(t,[{key:"render",value:function(){var e=this.props,t=e.verificationFormVisible,a=e.openVerificationForm,r=this.state,c=r.email,s=r.password,o=r.isSignIn,i=r.errors;return o?n.a.createElement(Be.a,{to:"/reach"}):n.a.createElement("div",{className:"background"},n.a.createElement("div",{className:"session"},n.a.createElement("div",{className:"session__title"},"Sign in to Reach"),0!==i.length&&n.a.createElement(Je,{action:"Authentication",errors:i}),n.a.createElement("input",{type:"text",className:"session__email",placeholder:"Email",value:c,onChange:this.emailOnChange}),n.a.createElement("input",{type:"password",className:"session__password",placeholder:"Password",value:s,onChange:this.passwordOnChange}),n.a.createElement("button",{type:"button",onClick:this.handleSignIn,className:"session__submit"},"Sign In"),n.a.createElement(Ye.b,{to:"/reach/signup",className:"session__switch"},"Create account"),n.a.createElement("div",{className:"session__openVerification",onClick:a},"Account verification")),t&&n.a.createElement(Lt,null))}}]),t}(r.Component),Yt=Object(o.b)((function(e){return{verificationFormVisible:e.verificationForm.visible}}),(function(e){var t=N,a=xe;return{openConfirm:function(a){return e(t(a))},openVerificationForm:function(){return e(a())}}}))(Bt),Xt=function(e){function t(e){var a;return Object(g.a)(this,t),(a=Object(Ue.a)(this,Object(Ve.a)(t).call(this,e))).handleSignUp=Object(_.a)(E.a.mark((function e(){var t,r,n,c,s,o,i,l,u,d,m,p;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state,r=t.avatar,n=t.name,c=t.email,s=t.password,o=t.passwordConfirmation,(i=new FormData).append("user[name]",n),i.append("user[email]",c),i.append("user[password]",s),i.append("user[password_confirmation]",o),r&&i.append("user[avatar]",r),l=y.buildRequestUrl("/users"),e.next=10,k.a.post(l,i).catch((function(e){return e.response}));case 10:if(200===(u=e.sent).status){e.next=15;break}return(0,a.props.openConfirm)(R),e.abrupt("return");case 15:d=u.data,m=d.is_created,p=d.errors,m?a.setState({isSignUp:!0}):a.setState({errors:p});case 17:case"end":return e.stop()}}),e)}))),a.onChangeFile=function(e){var t=e.target.files[0],r=URL.createObjectURL(t);a.setState({uri:r,avatar:t})},a.onChangeName=function(e){var t=e.target.value;a.setState({name:t})},a.onChangeEmail=function(e){var t=e.target.value;a.setState({email:t})},a.onChangePassword=function(e){var t=e.target.value;a.setState({password:t})},a.onChangePasswordConfirmation=function(e){var t=e.target.value;a.setState({passwordConfirmation:t})},a.state={uri:"",avatar:null,name:"",email:"",password:"",passwordConfirmation:"",errors:[],isSignUp:!1},a}return Object(Le.a)(t,e),Object(C.a)(t,[{key:"render",value:function(){var e=this.state,t=e.uri,a=e.name,r=e.email,c=e.password,s=e.passwordConfirmation,o=e.errors;return e.isSignUp?n.a.createElement(Be.a,{to:"/reach/signin"}):n.a.createElement("div",{className:"background"},n.a.createElement("div",{className:"session"},n.a.createElement("div",{className:"session__title"},"Create account"),0!==o.length&&n.a.createElement(Je,{action:"Registration",errors:o}),n.a.createElement("label",{htmlFor:"avatarForm",className:"session__avatar"},n.a.createElement("input",{id:"avatarForm",type:"file",className:"session__fileField",onChange:this.onChangeFile}),""===t?n.a.createElement(qe.a,{icon:["fas","user"],className:"session__fileIcon"}):n.a.createElement("img",{src:t,alt:"avatar",className:"session__preview"})),n.a.createElement("div",{className:"session__fileLabel"},"Upload your avatar"),n.a.createElement("input",{type:"text",className:"session__name",placeholder:"Name",value:a,onChange:this.onChangeName}),n.a.createElement("input",{type:"text",className:"session__email",placeholder:"Email",value:r,onChange:this.onChangeEmail}),n.a.createElement("input",{type:"password",className:"session__password",placeholder:"Password",value:c,onChange:this.onChangePassword}),n.a.createElement("input",{type:"password",className:"session__password",placeholder:"Password confirmation",value:s,onChange:this.onChangePasswordConfirmation}),n.a.createElement("button",{type:"button",onClick:this.handleSignUp,className:"session__submit"},"Sign Up"),n.a.createElement(Ye.b,{to:"/reach/signin",className:"session__switch"},"Move to Sign In")))}}]),t}(r.Component),Ht=Object(o.b)(null,(function(e){var t=N;return{openConfirm:function(a){return e(t(a))}}}))(Xt),qt=(a(166),function(e){return e.stopPropagation()}),Wt=Object(o.b)((function(e){var t=e.confirm;return{type:t.type,title:t.title,description:t.description,confirm:t.confirm}}),(function(e){var t=j;return{closeConfirm:function(){return e(t())}}}))((function(e){var t=e.type,a=e.closeConfirm,r=e.title,c=e.description,s=e.confirm,o="ask"===t?s:a,i=function(e){switch(e){case"success":return{icon:["fas","check"],className:"confirm__icon--success"};case"error":return{icon:["fas","exclamation"],className:"confirm__icon--error"};case"ask":return{icon:["fas","question"],className:"confirm__icon--ask"};default:return null}}(t);return n.a.createElement("div",{className:"confirmOverlay",onClick:qt},n.a.createElement("div",{className:"confirm"},i&&n.a.createElement("div",{className:i.className},n.a.createElement(qe.a,{icon:i.icon})),n.a.createElement("div",{className:"confirmText"},n.a.createElement("div",{className:"confirmText__title"},r),n.a.createElement("div",{className:"confirmText__description"},c)),n.a.createElement("div",{className:"confirmButton"},"ask"===t&&n.a.createElement("div",{className:"confirmButton__cancel",onClick:a},"Cancel"),n.a.createElement("div",{className:"confirmButton__confirm",onClick:o},"OK"))))})),Jt=function(e){function t(e){var a;Object(g.a)(this,t),a=Object(Ue.a)(this,Object(Ve.a)(t).call(this,e));var r=null!==localStorage.getItem("token");return a.state={isAuthenticated:r},a}return Object(Le.a)(t,e),Object(C.a)(t,[{key:"render",value:function(){return this.state.isAuthenticated?n.a.createElement(Ut,null):n.a.createElement(Be.a,{to:"/reach/signin"})}}]),t}(r.Component),Gt=Object(o.b)((function(e){return{confirmVisible:e.confirm.visible}}))((function(e){var t=e.confirmVisible;return n.a.createElement(n.a.Fragment,null,n.a.createElement(Ye.a,null,n.a.createElement(Be.d,null,n.a.createElement(Be.b,{path:"/reach/signin"},n.a.createElement(Yt,null)),n.a.createElement(Be.b,{path:"/reach/signup"},n.a.createElement(Ht,null)),n.a.createElement(Be.b,{exact:!0,path:"/reach"},n.a.createElement(Jt,null)),n.a.createElement(Be.b,{exact:!0},n.a.createElement(Yt,null)))),t&&n.a.createElement(Wt,null))}));a(167),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.b.add(l.a,u.a,d.a),s.a.render(n.a.createElement(o.a,{store:Me},n.a.createElement(Gt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},56:function(e,t,a){},57:function(e,t,a){},80:function(e,t,a){},88:function(e,t,a){e.exports=a(168)}},[[88,1,2]]]);
//# sourceMappingURL=main.25c6408d.chunk.js.map