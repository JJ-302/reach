(this.webpackJsonpreach=this.webpackJsonpreach||[]).push([[0],{115:function(e,t,a){},116:function(e,t,a){},161:function(e,t,a){},162:function(e,t,a){},163:function(e,t,a){},164:function(e,t,a){},165:function(e,t,a){},166:function(e,t,a){},167:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(33),s=a.n(c),o=a(5),i=a(40),l=a(78),u=a(79),d=a(80),m=a(81),p=a(32),f=a(31),E=a(11),_=a(3),v=a.n(_),b=a(6),O=a(7),y=a.n(O),h=a(82),N=a(83),C=function(){function e(){Object(h.a)(this,e)}return Object(N.a)(e,null,[{key:"buildRequestUrl",value:function(e){return"https://api-reach.herokuapp.com"+e}}]),e}(),g="OPEN_CONFIRM",k=function(e){return{type:g,payload:e}},j=function(){return{type:"CLOSE_CONFIRM"}},R="Are you sure?",w={type:"error",title:"Internal server error",description:"Try reload browser"},T={type:"success",title:"Completed",description:"SlackBot sent a Message"},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return{type:"OPEN_RESOURCE_FORM",id:e}},A=function(){return{type:"CLOSE_RESOURCE_FORM"}},S=function(){return function(){var e=Object(b.a)(v.a.mark((function e(t){var a,r,n,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=C.buildRequestUrl("/resources"),r=localStorage.getItem("token"),e.next=4,y.a.get(a,{headers:{"X-Reach-token":r}}).catch((function(e){return e.response}));case 4:if(200===(n=e.sent).status){e.next=8;break}return t({type:g,payload:w}),e.abrupt("return");case 8:c=n.data.resources,t({type:"GET_ALL_RESOURCES",resources:c});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},P=function(e){return function(){var t=Object(b.a)(v.a.mark((function t(a){var r,n,c,s,o,i,l;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=C.buildRequestUrl("/resources"),n=localStorage.getItem("token"),t.next=4,y.a.post(r,e,{headers:{"X-Reach-token":n,"Content-Type":"application/json"}}).catch((function(e){return e.response}));case 4:if(200===(c=t.sent).status){t.next=8;break}return a({type:g,payload:w}),t.abrupt("return");case 8:s=c.data,o=s.is_created,i=s.resource,l=s.errors,a(o?{type:"CREATE_RESOURCE",resource:i}:{type:"INVALID_RESOURCE_PARAMS",errors:l});case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},F=function(e){return function(){var t=Object(b.a)(v.a.mark((function t(a){var r,n,c,s,o,i,l;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=C.buildRequestUrl("/resources/".concat(e)),n=localStorage.getItem("token"),t.next=4,y.a.delete(r,{headers:{"X-Reach-token":n}}).catch((function(e){return e.response}));case 4:if(200===(c=t.sent).status){t.next=8;break}return a({type:g,payload:w}),t.abrupt("return");case 8:s=c.data,o=s.is_delete,i=s.errors,o?a({type:"DELETE_RESOURCE",id:e}):(l={type:"error",title:"Fail to destroy!",description:i[0].error},a({type:g,payload:l}));case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},x=function(e,t){return function(){var a=Object(b.a)(v.a.mark((function a(r){var n,c,s,o,i,l,u;return v.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=C.buildRequestUrl("/resources/".concat(e)),c=localStorage.getItem("token"),a.next=4,y.a.patch(n,t,{headers:{"X-Reach-token":c,"Content-Type":"application/json"}}).catch((function(e){return e.response}));case 4:if(200===(s=a.sent).status){a.next=8;break}return r({type:g,payload:w}),a.abrupt("return");case 8:o=s.data,i=o.is_updated,l=o.errors,u=o.resource,r(i?{type:"UPDATE_RESOURCE",resource:u}:{type:"INVALID_RESOURCE_PARAMS",errors:l});case 10:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()};function I(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function L(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?I(a,!0).forEach((function(t){Object(E.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):I(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var M={visible:!1,id:null,errors:[]},U={resources:[]},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return{type:"OPEN_PROJECT_FORM",id:e}},H=function(){return{type:"CLOSE_PROJECT_FORM"}},G=function(){return function(){var e=Object(b.a)(v.a.mark((function e(t){var a,r,n,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=C.buildRequestUrl("/projects"),r=localStorage.getItem("token"),e.next=4,y.a.get(a,{headers:{"X-Reach-token":r}}).catch((function(e){return e.response}));case 4:if(200===(n=e.sent).status){e.next=8;break}return t({type:g,payload:w}),e.abrupt("return");case 8:c=n.data.projects,t({type:"GET_ALL_PROJESTS",projects:c});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},B=function(e){return function(){var t=Object(b.a)(v.a.mark((function t(a){var r,n,c,s,o,i,l;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=C.buildRequestUrl("/projects"),n=localStorage.getItem("token"),t.next=4,y.a.post(r,e,{headers:{"X-Reach-token":n,"Content-Type":"application/json"}}).catch((function(e){return e.response}));case 4:if(200===(c=t.sent).status){t.next=8;break}return a({type:g,payload:w}),t.abrupt("return");case 8:s=c.data,o=s.is_created,i=s.errors,l=s.project,a(o?{type:"CREATE_PROJECT",project:l}:{type:"INVALID_PROJECT_PARAMS",errors:i});case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Y=function(e){return function(){var t=Object(b.a)(v.a.mark((function t(a){var r,n,c;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=C.buildRequestUrl("/projects/".concat(e)),n=localStorage.getItem("token"),t.next=4,y.a.delete(r,{headers:{"X-Reach-token":n}}).catch((function(e){return e.response}));case 4:if(200===(c=t.sent).status){t.next=8;break}return a({type:g,payload:w}),t.abrupt("return");case 8:c.data.is_delete&&a({type:"DELETE_PROJECT",id:e});case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},X=function(e,t){return function(){var a=Object(b.a)(v.a.mark((function a(r){var n,c,s,o,i,l,u;return v.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=C.buildRequestUrl("/projects/".concat(e)),c=localStorage.getItem("token"),a.next=4,y.a.patch(n,t,{headers:{"X-Reach-token":c,"Content-Type":"application/json"}}).catch((function(e){return e.response}));case 4:if(200===(s=a.sent).status){a.next=8;break}return r({type:g,payload:w}),a.abrupt("return");case 8:o=s.data,i=o.is_updated,l=o.errors,u=o.project,r(i?{type:"UPDATE_PROJECT",project:u}:{type:"INVALID_PROJECT_PARAMS",errors:l});case 10:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},K=function(e){return function(){var t=Object(b.a)(v.a.mark((function t(a){var r,n,c;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=C.buildRequestUrl("/tasks/search"),t.next=3,y.a.post(r,e,{headers:{"Content-Type":"application/json"}}).catch((function(e){return e.response}));case 3:if(200===(n=t.sent).status){t.next=7;break}return a({type:g,payload:w}),t.abrupt("return");case 7:c=n.data.projects,a({type:"SEARCH_PROJECT",projects:c});case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},q=function(e){return function(){var t=Object(b.a)(v.a.mark((function t(a){var r,n,c,s,o,i,l;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=C.buildRequestUrl("/tasks"),n=localStorage.getItem("token"),t.next=4,y.a.post(r,e,{headers:{"X-Reach-token":n,"Content-Type":"application/json"}}).catch((function(e){return e.response}));case 4:if(200===(c=t.sent).status){t.next=8;break}return a({type:g,payload:w}),t.abrupt("return");case 8:s=c.data,o=s.is_created,i=s.errors,l=s.task,a(o?{type:"CREATE_TASK",task:l}:{type:"INVALID_TASK_PARAMS",errors:i});case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},J=function(e){return function(){var t=Object(b.a)(v.a.mark((function t(a){var r,n,c,s,o,i;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=C.buildRequestUrl("/tasks/".concat(e)),n=localStorage.getItem("token"),t.next=4,y.a.delete(r,{headers:{"X-Reach-token":n}}).catch((function(e){return e.response}));case 4:if(200===(c=t.sent).status){t.next=8;break}return a({type:g,payload:w}),t.abrupt("return");case 8:s=c.data,o=s.is_delete,i=s.task,o&&a({type:"DELETE_TASK",task:i});case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},W=function(e,t){return function(){var a=Object(b.a)(v.a.mark((function a(r){var n,c,s,o,i,l,u;return v.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=C.buildRequestUrl("/tasks/".concat(e)),c=localStorage.getItem("token"),a.next=4,y.a.patch(n,t,{headers:{"X-Reach-token":c,"Content-Type":"application/json"}}).catch((function(e){return e.response}));case 4:if(200===(s=a.sent).status){a.next=8;break}return r({type:g,payload:w}),a.abrupt("return");case 8:o=s.data,i=o.is_updated,l=o.errors,u=o.task,r(i?{type:"UPDATE_TASK",task:u}:{type:"INVALID_TASK_PARAMS",errors:l});case 10:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()};function $(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function z(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?$(a,!0).forEach((function(t){Object(E.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):$(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Q={visible:!1,id:null,errors:[]},Z={projects:[]},ee=function(){return{type:"OPEN_ACCOUNT_FORM"}},te=function(){return{type:"CLOSE_ACCOUNT_FORM"}},ae=function(){return function(){var e=Object(b.a)(v.a.mark((function e(t){var a,r,n,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=C.buildRequestUrl("/users"),r=localStorage.getItem("token"),e.next=4,y.a.get(a,{headers:{"X-Reach-token":r}}).catch((function(e){return e.response}));case 4:if(200===(n=e.sent).status){e.next=8;break}return t({type:g,payload:w}),e.abrupt("return");case 8:c=n.data.users,t({type:"GET_ALL_ACCOUNT",users:c});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},re=function(e){return function(){var t=Object(b.a)(v.a.mark((function t(a){var r,n,c,s,o,i,l;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=C.buildRequestUrl("/users/update"),n=localStorage.getItem("token"),t.next=4,y.a.patch(r,e,{headers:{"X-Reach-token":n}}).catch((function(e){return e.response}));case 4:if(200===(c=t.sent).status){t.next=8;break}return a({type:g,payload:w}),t.abrupt("return");case 8:s=c.data,o=s.is_updated,i=s.user,l=s.errors,a(o?{type:"UPDATE_ACCOUNT",user:i}:{type:"INVALID_ACCOUNT_PARAMS",errors:l});case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};function ne(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function ce(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ne(a,!0).forEach((function(t){Object(E.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ne(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var se={visible:!1,errors:[]},oe={users:[]},ie=function(e){var t=e.projectID,a=void 0===t?null:t,r=e.taskID;return{type:"OPEN_TASK_FORM",payload:{projectID:a,taskID:void 0===r?null:r}}},le=function(){return{type:"CLOSE_TASK_FORM"}},ue=function(){return{type:"TOGGLE_DELETE_BUTTON"}};function de(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function me(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?de(a,!0).forEach((function(t){Object(E.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):de(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var pe={visible:!1,projectID:null,taskID:null,errors:[]},fe={deleteButtonVisible:!1},Ee="days",_e=function(){return{type:"CHANGE_TO_WEEKS",scheduleType:"weeks"}},ve=function(){return{type:"CHANGE_TO_DAYS",scheduleType:Ee}},be={scheduleType:"weeks"},Oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_TO_WEEKS":return{scheduleType:"weeks"};case"CHANGE_TO_DAYS":return{scheduleType:Ee};default:return e}},ye={visible:!1,type:"",title:"",description:"",confirm:function(){}},he=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ye,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return{visible:!0,type:t.payload.type,title:t.payload.title,description:t.payload.description,confirm:t.payload.confirm};case"CLOSE_CONFIRM":return ye;default:return e}},Ne=function(e){return{type:"OPEN_ATTACHMENT_FORM",projectID:e}},Ce=function(){return{type:"CLOSE_ATTACHMENT_FORM"}},ge=function(e){return function(){var t=Object(b.a)(v.a.mark((function t(a){var r,n,c,s;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=C.buildRequestUrl("/projects/".concat(e,"/attachments")),n=localStorage.getItem("token"),t.next=4,y.a.get(r,{headers:{"X-Reach-token":n}}).catch((function(e){return e.response}));case 4:if(200===(c=t.sent).status){t.next=8;break}return a({type:g,payload:w}),t.abrupt("return");case 8:s=c.data.attachments,a({type:"GET_ALL_ATTACHMENT",attachments:s});case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},ke=function(e,t){return function(){var a=Object(b.a)(v.a.mark((function a(r){var n,c,s,o,i,l,u;return v.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=C.buildRequestUrl("/projects/".concat(t,"/attachments")),c=localStorage.getItem("token"),a.next=4,y.a.post(n,e,{headers:{"X-Reach-token":c,"Content-Type":"application/json"}}).catch((function(e){return e.response}));case 4:if(200===(s=a.sent).status){a.next=8;break}return r({type:g,payload:w}),a.abrupt("return");case 8:o=s.data,i=o.is_created,l=o.errors,u=o.attachment,r(i?{type:"CREATE_ATTACHMENT",attachment:u}:{type:"INVALID_ATTACHMENT_PARAMS",errors:l});case 10:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},je=function(e){return function(){var t=Object(b.a)(v.a.mark((function t(a){var r,n,c;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=C.buildRequestUrl("/attachments/".concat(e)),n=localStorage.getItem("token"),t.next=4,y.a.delete(r,{headers:{"X-Reach-token":n}}).catch((function(e){return e.response}));case 4:if(200===(c=t.sent).status){t.next=8;break}return a({type:g,payload:w}),t.abrupt("return");case 8:c.data.is_delete&&a({type:"DELETE_ATTACHMENT",id:e});case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};function Re(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function we(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Re(a,!0).forEach((function(t){Object(E.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Re(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Te={visible:!1,projectID:null,errors:[]},De={attachments:[]},Ae=function(){return{type:"OPEN_VERIFICATION_FORM"}},Se=function(){return{type:"CLOSE_VERIFICATION_FORM"}},Pe={visible:!1},Fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"OPEN_VERIFICATION_FORM":return{visible:!0};case"CLOSE_VERIFICATION_FORM":return{visible:!1};default:return e}},xe=function(){return{type:"LOAD_START"}},Ie=function(){return{type:"LOAD_END"}},Le={isLoading:!1},Me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_START":return{isLoading:!0};case"LOAD_END":return{isLoading:!1};default:return e}},Ue=Object(p.c)({resourceForm:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"OPEN_RESOURCE_FORM":return{visible:!0,id:t.id,errors:[]};case"CLOSE_RESOURCE_FORM":return{visible:!1,id:null,errors:[]};case"INVALID_RESOURCE_PARAMS":return L({},e,{errors:t.errors});default:return e}},resource:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ALL_RESOURCES":return{resources:t.resources};case"CREATE_RESOURCE":return L({},e,{resources:[].concat(Object(f.a)(e.resources),[t.resource])});case"DELETE_RESOURCE":return L({},e,{resources:e.resources.filter((function(e){return String(e.id)!==t.id}))});case"UPDATE_RESOURCE":return L({},e,{resources:e.resources.map((function(e){return e.id===t.resource.id?t.resource:e}))});default:return e}},projectForm:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"OPEN_PROJECT_FORM":return{visible:!0,id:t.id,errors:[]};case"CLOSE_PROJECT_FORM":return{visible:!1,id:null,errors:[]};case"INVALID_PROJECT_PARAMS":return z({},e,{errors:t.errors});default:return e}},project:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ALL_PROJESTS":return{projects:t.projects};case"CREATE_PROJECT":return z({},e,{projects:[].concat(Object(f.a)(e.projects),[t.project])});case"DELETE_PROJECT":return z({},e,{projects:e.projects.filter((function(e){return String(e.id)!==t.id}))});case"UPDATE_PROJECT":return z({},e,{projects:e.projects.map((function(e){return e.id===t.project.id?t.project:e}))});case"SEARCH_PROJECT":return{projects:t.projects};case"CREATE_TASK":var a=e.projects.filter((function(e){return e.id===t.task.projectID}));return void 0===a[0].tasks?a[0].tasks=[t.task]:a[0].tasks=[].concat(Object(f.a)(a[0].tasks),[t.task]),z({},e,{projects:e.projects.map((function(e){return e.id===a[0].id?a[0]:e}))});case"DELETE_TASK":var r=e.projects.filter((function(e){return e.id===t.task.projectID}));return r[0].tasks=r[0].tasks.filter((function(e){return e.id!==t.task.id})),z({},e,{projects:e.projects.map((function(e){return e.id===r[0].id?r[0]:e}))});case"UPDATE_TASK":var n=e.projects.filter((function(e){return e.id===t.task.projectID}));return n[0].tasks=n[0].tasks.map((function(e){return e.id===t.task.id?t.task:e})),z({},e,{projects:e.projects.map((function(e){return e.id===n[0].id?n[0]:e}))});default:return e}},accountForm:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"OPEN_ACCOUNT_FORM":return{visible:!0,errors:[]};case"CLOSE_ACCOUNT_FORM":return{visible:!1,errors:[]};case"INVALID_ACCOUNT_PARAMS":return{visible:e.visible,errors:t.errors};default:return e}},account:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ALL_ACCOUNT":return{users:t.users};case"UPDATE_ACCOUNT":return ce({},e,{users:e.users.map((function(e){return e.id===t.user.id?t.user:e}))});default:return e}},taskForm:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"OPEN_TASK_FORM":return{visible:!0,projectID:t.payload.projectID,taskID:t.payload.taskID,errors:[]};case"CLOSE_TASK_FORM":return{visible:!1,projectID:null,taskID:null,errors:[]};case"INVALID_TASK_PARAMS":return me({},e,{errors:t.errors});default:return e}},task:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TOGGLE_DELETE_BUTTON":return{deleteButtonVisible:!e.deleteButtonVisible};default:return e}},schedule:Oe,confirm:he,attachmentForm:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"OPEN_ATTACHMENT_FORM":return{visible:!0,projectID:t.projectID,errors:[]};case"CLOSE_ATTACHMENT_FORM":return{visible:!1,projectID:null,errors:[]};case"INVALID_ATTACHMENT_PARAMS":return we({},e,{errors:t.errors});default:return e}},attachment:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:De,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ALL_ATTACHMENT":return{attachments:t.attachments};case"CREATE_ATTACHMENT":return we({},e,{attachments:[].concat(Object(f.a)(e.attachments),[t.attachment])});case"DELETE_ATTACHMENT":return we({},e,{attachments:e.attachments.filter((function(e){return String(e.id)!==t.id}))});default:return e}},verificationForm:Fe,loading:Me}),Ve=Object(p.e)(Ue,Object(p.d)(Object(p.a)(m.a))),He=a(27),Ge=a(29),Be=a(14),Ye=a.n(Be),Xe=a(8),Ke=a(10),qe=(a(115),function(e){return e.errors.map((function(e){return n.a.createElement("div",{className:"error__message",key:e.error},e.error)}))}),Je=function(e){var t=e.action,a=e.errors,r="".concat(t," failed!");return n.a.createElement("div",{className:"error"},n.a.createElement("div",{className:"error__title"},r),n.a.createElement(qe,{errors:a}))};a(52);function We(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function $e(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?We(a,!0).forEach((function(t){Object(E.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):We(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ze={uri:"",avatar:null,name:"",email:""},Qe=function(e,t){switch(t.type){case"GET_CURRENT_ACCOUNT":return $e({},e,{uri:t.payload.uri,name:t.payload.name,email:t.payload.email});case"ON_CHANGE_FILE":return $e({},e,{avatar:t.payload.avatar,uri:t.payload.uri});case"ON_CHANGE_NAME":return $e({},e,{name:t.value});case"ON_CHANGE_EMAIL":return $e({},e,{email:t.value});default:return e}},Ze=Object(o.b)((function(e){return{errors:e.accountForm.errors}}),(function(e){var t=te,a=re,r=G,n=k,c=xe,s=Ie;return{closeAccountForm:function(){return e(t())},updateAccount:function(t){return e(a(t))},getAllProjects:function(){return e(r())},openConfirm:function(t){return e(n(t))},loadStart:function(){return e(c())},loadEnd:function(){return e(s())}}}))((function(e){var t=e.openConfirm,a=e.closeAccountForm,c=e.errors,s=e.getAllProjects,o=e.updateAccount,i=e.loadStart,l=e.loadEnd,u=Object(r.useReducer)(Qe,ze),d=Object(Xe.a)(u,2),m=d[0],p=d[1],f=m.uri,E=m.name,_=m.email,O=m.avatar;Object(r.useEffect)((function(){h()}),[]);var h=function(){var e=Object(b.a)(v.a.mark((function e(){var a,r,n,c,s;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=C.buildRequestUrl("/users/edit"),r=localStorage.getItem("token"),e.next=4,y.a.get(a,{headers:{"X-Reach-token":r}}).catch((function(e){return e.response}));case 4:if(200===(n=e.sent).status){e.next=8;break}return t(w),e.abrupt("return");case 8:c=n.data.user,s={uri:c.avatar,name:c.name,email:c.email},p({type:"GET_CURRENT_ACCOUNT",payload:s});case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(b.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(),(t=new FormData).append("user[name]",E),t.append("user[email]",_),O&&t.append("user[avatar]",O),e.next=7,o(t);case 7:s(),l();case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return n.a.createElement("div",{className:"background--edit",onClick:a},n.a.createElement("div",{className:"session--edit",onClick:function(e){return e.stopPropagation()}},n.a.createElement("div",{className:"session__title"},"Edit account"),0!==c.length&&n.a.createElement(Je,{action:"Registration",errors:c}),n.a.createElement("label",{htmlFor:"avatarForm",className:"session__avatar"},n.a.createElement("input",{id:"avatarForm",type:"file",className:"session__fileField",onChange:function(e){var t=e.target.files[0],a=URL.createObjectURL(t);p({type:"ON_CHANGE_FILE",payload:{avatar:t,uri:a}})}}),""===f?n.a.createElement(Ke.a,{icon:["fas","user"],className:"session__fileIcon"}):n.a.createElement("img",{src:f,alt:"avatar",className:"session__preview"})),n.a.createElement("div",{className:"session__fileLabel"},"Upload your avatar"),n.a.createElement("input",{type:"text",className:"session__name",placeholder:"Name",value:E,onChange:function(e){var t=e.target.value;p({type:"ON_CHANGE_NAME",value:t})}}),n.a.createElement("input",{type:"text",className:"session__email",placeholder:"Email",value:_,onChange:function(e){var t=e.target.value;p({type:"ON_CHANGE_EMAIL",value:t})}}),n.a.createElement("button",{type:"button",onClick:N,className:"session__submit"},"Update")))})),et=(a(116),Object(o.b)((function(e){return{accountFormVisible:e.accountForm.visible}}),(function(e){var t=D,a=V,r=ee,n=ue;return{openResourceForm:function(){return e(t())},openProjectForm:function(){return e(a())},openAccountForm:function(){return e(r())},toggleDeleteButton:function(){return e(n())}}}))((function(e){var t=e.openResourceForm,a=e.openProjectForm,c=e.openAccountForm,s=e.accountFormVisible,o=e.toggleDeleteButton,i=Object(r.useState)(!1),l=Object(Xe.a)(i,2),u=l[0],d=l[1],m=Object(r.useState)(!1),p=Object(Xe.a)(m,2),f=p[0],E=p[1],_=function(){return d(!u)};return f?n.a.createElement(He.a,{to:"/reach/signin"}):n.a.createElement("div",{className:"sidebar"},n.a.createElement("div",{className:"sidebar__iconWrapper--plus",onClick:a},n.a.createElement(Ke.a,{icon:["fas","plus"],className:"sidebar__icon"})),n.a.createElement("div",{className:"sidebar__iconWrapper--minus",onClick:o},n.a.createElement(Ke.a,{icon:["fas","minus"],className:"sidebar__icon"})),n.a.createElement("div",{className:"sidebar__iconWrapper--resource",onClick:t},n.a.createElement(Ke.a,{icon:["fas","tags"],className:"sidebar__icon"})),n.a.createElement("div",{className:"sidebar__iconWrapper--account",onClick:_},n.a.createElement(Ke.a,{icon:["fas","user"],className:"sidebar__icon"})),u&&n.a.createElement("div",{className:"overlay",onClick:_},n.a.createElement("div",{className:"accountMenu"},n.a.createElement("div",{className:"accountMenu__edit",onClick:c},"\u30a2\u30ab\u30a6\u30f3\u30c8\u7de8\u96c6"),n.a.createElement("div",{className:"accountMenu__signout",onClick:function(){localStorage.removeItem("token"),E(!0)}},"\u30b5\u30a4\u30f3\u30a2\u30a6\u30c8"))),s&&n.a.createElement(Ze,null))}))),tt=a(36),at=a.n(tt);a(75);function rt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function nt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?rt(a,!0).forEach((function(t){Object(E.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):rt(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ct=function(e){return e.stopPropagation()},st=function(e){var t=e.project,a=e.resource,r=e.account;return{projects:t.projects,resources:a.resources,users:r.users}},ot={searchByResourceVisible:!1,searchByNameVisible:!1,searchByStartDateVisible:!1,searchByEndDateVisible:!1,searchByExtendVisible:!1,searchByDurationVisible:!1,searchByUsersVisible:!1,projectId:"",taskName:"",startDateFrom:"",startDateTo:"",endDateFrom:"",endDateTo:"",extendFrom:"",extendTo:"",inCharge:[],selectedResources:[],orderStartDate:"",orderEndDate:"",orderExtend:"",orderDuration:""},it=function(e,t){switch(t.type){case"ON_CLICK_RESOURCE":return nt({},e,{searchByResourceVisible:!e.searchByResourceVisible});case"ON_CLICK_NAME":return nt({},e,{searchByNameVisible:!e.searchByNameVisible});case"ON_CLICK_START_DATE":return nt({},e,{searchByStartDateVisible:!e.searchByStartDateVisible});case"ON_CLICK_END_DATE":return nt({},e,{searchByEndDateVisible:!e.searchByEndDateVisible});case"ON_CLICK_EXTEND":return nt({},e,{searchByExtendVisible:!e.searchByExtendVisible});case"ON_CLICK_DURATION":return nt({},e,{searchByDurationVisible:!e.searchByDurationVisible});case"ON_CLICK_IN_CHARGE":return nt({},e,{searchByUsersVisible:!e.searchByUsersVisible});case"ON_CHANGE_PROJECT":return nt({},e,{projectId:t.value});case"ON_CHANGE_TASK_NAME":return nt({},e,{taskName:t.value});case"ON_CHANGE_START_DATE_FROM":return nt({},e,{startDateFrom:t.value});case"ON_CHANGE_START_DATE_TO":return nt({},e,{startDateTo:t.value});case"ON_CHANGE_END_DATE_FROM":return nt({},e,{endDateFrom:t.value});case"ON_CHANGE_END_DATE_TO":return nt({},e,{endDateTo:t.value});case"ON_CHANGE_EXTEND_FROM":return nt({},e,{extendFrom:t.value});case"ON_CHANGE_EXTEND_TO":return nt({},e,{extendTo:t.value});case"SELECT_AVATAR":return nt({},e,{inCharge:t.value});case"SELECT_RESOURCE":return nt({},e,{selectedResources:t.value});case"CLEAR_NAME":return nt({},e,{taskName:"",projectId:""});case"CLEAR_START_DATE":return nt({},e,{startDateFrom:"",startDateTo:"",orderStartDate:""});case"CLEAR_END_DATE":return nt({},e,{endDateFrom:"",endDateTo:"",orderEndDate:""});case"CLEAR_EXTEND":return nt({},e,{extendFrom:"",extendTo:"",orderExtend:""});case"CLEAR_DURATION":return nt({},e,{orderDuration:""});case"CLEAR_IN_CHARGE":return nt({},e,{inCharge:[]});case"ORDER_BY_START_DATE":return nt({},e,{orderStartDate:t.value,orderEndDate:"",orderExtend:"",orderDuration:""});case"ORDER_BY_END_DATE":return nt({},e,{orderStartDate:"",orderEndDate:t.value,orderExtend:"",orderDuration:""});case"ORDER_BY_EXTEND":return nt({},e,{orderStartDate:"",orderEndDate:"",orderExtend:t.value,orderDuration:""});case"ORDER_BY_DURATION":return nt({},e,{orderStartDate:"",orderEndDate:"",orderExtend:"",orderDuration:t.value});default:return e}},lt=function(e){var t=e.onChangeOrder,a=e.by,r=e.selected;return n.a.createElement("select",{"data-by":a,value:r,onChange:t,className:"search__order"},n.a.createElement("option",{key:"default",value:null,"aria-label":"order"}),[{label:"\u6607\u9806",value:"ASC"},{label:"\u964d\u9806",value:"DESC"}].map((function(e){return n.a.createElement("option",{key:e.label,value:e.value},e.label)})))},ut=function(e){var t=e.onChangeOrder,a=e.order;return n.a.createElement("div",{className:"search--duration",onClick:ct},n.a.createElement("div",{className:"search__label"},"\u4e26\u3079\u66ff\u3048"),n.a.createElement(lt,{onChangeOrder:t,order:a}),n.a.createElement("div",{className:"search__divide"}))},dt=function(e){var t=e.dateType,a=e.rangeStart,r=e.rangeEnd,c=e.onChangeRangeStart,s=e.onChangeRangeEnd,o=e.onChangeOrder,i=e.order,l="search--".concat(t);return n.a.createElement("div",{className:l,onClick:ct},n.a.createElement("div",{className:"search__label"},"\u4e26\u3079\u66ff\u3048"),n.a.createElement(lt,{onChangeOrder:o,order:i}),n.a.createElement("div",{className:"search__divide"}),n.a.createElement("div",{className:"search__label"},"\u8868\u793a\u3059\u308b\u671f\u9593\u3092\u6307\u5b9a"),n.a.createElement("div",{className:"search__dateWrapper"},n.a.createElement(at.a,{className:"search__dateRange",dateFormat:"yyyy/MM/dd",showWeekNumbers:!0,placeholderText:"\u7bc4\u56f2\u306e\u958b\u59cb\u65e5",selected:a,onChange:c}),n.a.createElement(at.a,{className:"search__dateRange",dateFormat:"yyyy/MM/dd",showWeekNumbers:!0,placeholderText:"\u7bc4\u56f2\u306e\u7d42\u4e86\u65e5",selected:r,onChange:s})))},mt=Object(o.b)(st)((function(e){var t=e.projectId,a=e.projects,r=e.onChangeProject,c=e.taskName,s=e.onChangeTaskName;return n.a.createElement("div",{className:"search--name",onClick:ct},n.a.createElement("div",{className:"search__label"},"\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u9078\u629e"),n.a.createElement("select",{value:t,onChange:r,className:"search__project"},n.a.createElement("option",{key:"default",value:null,"aria-label":"selectProject"}),a.map((function(e){return n.a.createElement("option",{key:e.name,value:e.id},e.name)}))),n.a.createElement("div",{className:"search__divide"}),n.a.createElement("div",{className:"search__label"},"\u30bf\u30b9\u30af\u540d\u3067\u691c\u7d22"),n.a.createElement("input",{type:"text",className:"search__task",value:c,onChange:s}))})),pt=Object(o.b)(st)((function(e){var t=e.users,a=e.inCharge,r=e.selectAvatar;return n.a.createElement("div",{className:"search--user",onClick:ct},n.a.createElement("div",{className:"search__label"},"\u62c5\u5f53\u3067\u7d5e\u308a\u8fbc\u307f"),n.a.createElement("div",{className:"search__usersWrapper"},t.map((function(e){var t=a.indexOf(String(e.id));return n.a.createElement("div",{key:e.id,className:"avatar"},n.a.createElement("div",{"data-id":e.id,onClick:r,className:"avatar__wrapper"},n.a.createElement("img",{src:e.avatar,alt:e.name,className:"avatar__image"}),-1!==t&&n.a.createElement("div",{className:"avatar__selected"})),n.a.createElement("div",{className:"avatar__name"},e.name))}))))})),ft=Object(o.b)(st)((function(e){var t=e.resources,a=e.selectedResources,r=e.selectResource;return n.a.createElement("div",{className:"search--resource",onClick:ct},n.a.createElement("div",{className:"search__label"},"\u30ea\u30bd\u30fc\u30b9\u3067\u7d5e\u308a\u8fbc\u307f"),n.a.createElement("div",{className:"search__resourceWrapper"},t.map((function(e){var t=a.indexOf(String(e.id));return n.a.createElement("div",{key:e.id,className:"resource"},n.a.createElement("div",{"data-id":e.id,onClick:r,className:"resource__wrapper"},n.a.createElement("div",{className:"resource__icon",style:{backgroundColor:e.color}}),-1!==t&&n.a.createElement("div",{className:"resource__selected"})),n.a.createElement("div",{className:"resource__name"},e.name))}))))})),Et=Object(o.b)(st,(function(e){var t=K,a=ae;return{searchProjects:function(a){return e(t(a))},getAllAccount:function(){return e(a())}}}))((function(e){var t=e.getAllAccount,a=e.searchProjects,c=Object(r.useReducer)(it,ot),s=Object(Xe.a)(c,2),o=s[0],i=s[1],l=o.searchByNameVisible,u=o.searchByStartDateVisible,d=o.searchByEndDateVisible,m=o.searchByExtendVisible,p=o.searchByDurationVisible,f=o.searchByUsersVisible,E=o.searchByResourceVisible,_=o.projectId,v=o.taskName,b=o.startDateFrom,O=o.startDateTo,y=o.endDateFrom,h=o.endDateTo,N=o.extendFrom,C=o.extendTo,g=o.orderDuration,k=o.orderStartDate,j=o.orderEndDate,R=o.orderExtend,w=o.inCharge,T=o.selectedResources;Object(r.useEffect)((function(){t()}),[]),Object(r.useEffect)((function(){a({project_id:_,task_name:v,start_date:{from:b,to:O,order:k},end_date:{from:y,to:h,order:j},extend:{from:N,to:C,order:R},duration:{order:g},in_charge:w,resources:T})}),[_,v,b,O,y,h,N,C,g,k,j,R,w.length,T.length]);var D=function(){i({type:"ON_CLICK_RESOURCE"})},A=function(){i({type:"ON_CLICK_NAME"})},S=function(){i({type:"ON_CLICK_START_DATE"})},P=function(){i({type:"ON_CLICK_END_DATE"})},F=function(){i({type:"ON_CLICK_EXTEND"})},x=function(){i({type:"ON_CLICK_DURATION"})},I=function(){i({type:"ON_CLICK_IN_CHARGE"})},L=0===T.length?"resourceIcon":"resourceIcon--selected";return n.a.createElement("div",{className:"gantt-index-header"},n.a.createElement("div",{className:"gantt-index-header__resource"},n.a.createElement("div",{className:L,onClick:D})),n.a.createElement("div",{className:"gantt-index-header__name"},""===_&&""===v?n.a.createElement("span",{className:"gantt-index-header__label",onClick:A},"\u30bf\u30a4\u30c8\u30eb"):n.a.createElement("div",{className:"selected--title"},n.a.createElement("span",{className:"selected__label",onClick:A},"\u30bf\u30a4\u30c8\u30eb"),n.a.createElement("span",{className:"selected__clear",onClick:function(){return i({type:"CLEAR_NAME"})}},"\xd7"))),n.a.createElement("div",{className:"gantt-index-header__startDate"},""===b&&""===O&&""===k?n.a.createElement("span",{className:"gantt-index-header__label","data-type":"start",onClick:S},"\u958b\u59cb\u65e5"):n.a.createElement("div",{className:"selected"},n.a.createElement("span",{className:"selected__label","data-type":"start",onClick:S},"\u958b\u59cb\u65e5"),n.a.createElement("span",{className:"selected__clear",onClick:function(){return i({type:"CLEAR_START_DATE"})}},"\xd7"))),n.a.createElement("div",{className:"gantt-index-header__endDate"},""===y&&""===h&&""===j?n.a.createElement("span",{className:"gantt-index-header__label","data-type":"end",onClick:P},"\u7d42\u4e86\u65e5"):n.a.createElement("div",{className:"selected"},n.a.createElement("span",{className:"selected__label","data-type":"end",onClick:P},"\u7d42\u4e86\u65e5"),n.a.createElement("span",{className:"selected__clear",onClick:function(){return i({type:"CLEAR_END_DATE"})}},"\xd7"))),n.a.createElement("div",{className:"gantt-index-header__extend"},""===N&&""===C&&""===R?n.a.createElement("span",{className:"gantt-index-header__label","data-type":"extend",onClick:F},"\u5ef6\u9577"):n.a.createElement("div",{className:"selected"},n.a.createElement("span",{className:"selected__label","data-type":"extend",onClick:F},"\u5ef6\u9577"),n.a.createElement("span",{className:"selected__clear",onClick:function(){return i({type:"CLEAR_EXTEND"})}},"\xd7"))),n.a.createElement("div",{className:"gantt-index-header__duration"},""===g?n.a.createElement("span",{className:"gantt-index-header__label",onClick:x},"\u671f\u9593"):n.a.createElement("div",{className:"selected"},n.a.createElement("span",{className:"selected__label",onClick:x},"\u671f\u9593"),n.a.createElement("span",{className:"selected__clear",onClick:function(){return i({type:"CLEAR_DURATION"})}},"\xd7"))),n.a.createElement("div",{className:"gantt-index-header__inCharge"},0===w.length?n.a.createElement("span",{className:"gantt-index-header__label",onClick:I},"\u62c5\u5f53"):n.a.createElement("div",{className:"selected"},n.a.createElement("span",{className:"selected__label",onClick:I},"\u62c5\u5f53"),n.a.createElement("span",{className:"selected__clear",onClick:function(){return i({type:"CLEAR_IN_CHARGE"})}},"\xd7"))),E&&n.a.createElement("div",{className:"overlay",onClick:D},n.a.createElement(ft,{selectedResources:T,selectResource:function(e){var t=T,a=e.currentTarget.dataset.id,r=T.indexOf(a);-1===r?t.push(a):t.splice(r,1),i({type:"SELECT_RESOURCE",value:t})}})),l&&n.a.createElement("div",{className:"overlay",onClick:A},n.a.createElement(mt,{projectId:_,onChangeProject:function(e){var t=e.target.value;i({type:"ON_CHANGE_PROJECT",value:t})},taskName:v,onChangeTaskName:function(e){var t=e.target.value;i({type:"ON_CHANGE_TASK_NAME",value:t})}})),u&&n.a.createElement("div",{className:"overlay",onClick:S},n.a.createElement(dt,{dateType:"start",rangeStart:b,rangeEnd:O,onChangeRangeStart:function(e){return i({type:"ON_CHANGE_START_DATE_FROM",value:e})},onChangeRangeEnd:function(e){return i({type:"ON_CHANGE_START_DATE_TO",value:e})},onChangeOrder:function(e){var t=e.target.value;i({type:"ORDER_BY_START_DATE",value:t})},order:k})),d&&n.a.createElement("div",{className:"overlay",onClick:P},n.a.createElement(dt,{dateType:"end",rangeStart:y,rangeEnd:h,onChangeRangeStart:function(e){return i({type:"ON_CHANGE_END_DATE_FROM",value:e})},onChangeRangeEnd:function(e){return i({type:"ON_CHANGE_END_DATE_TO",value:e})},onChangeOrder:function(e){var t=e.target.value;i({type:"ORDER_BY_END_DATE",value:t})},order:j})),m&&n.a.createElement("div",{className:"overlay",onClick:F},n.a.createElement(dt,{dateType:"extend",rangeStart:N,rangeEnd:C,onChangeRangeStart:function(e){return i({type:"ON_CHANGE_EXTEND_FROM",value:e})},onChangeRangeEnd:function(e){return i({type:"ON_CHANGE_EXTEND_TO",value:e})},onChangeOrder:function(e){var t=e.target.value;i({type:"ORDER_BY_EXTEND",value:t})},order:R})),p&&n.a.createElement("div",{className:"overlay",onClick:x},n.a.createElement(ut,{onChangeOrder:function(e){var t=e.target.value;i({type:"ORDER_BY_DURATION",value:t})},order:g})),f&&n.a.createElement("div",{className:"overlay",onClick:I},n.a.createElement(pt,{inCharge:w,selectAvatar:function(e){var t=w,a=e.currentTarget.dataset.id,r=w.indexOf(a);-1===r?t.push(a):t.splice(r,1),i({type:"SELECT_AVATAR",value:t})}})))})),_t=(a(161),function(e){var t=e.members;return t.map((function(e,a){return a>3?null:a<3?n.a.createElement("img",{key:e.name,src:e.avatar,alt:e.name,className:"task__avatar"}):n.a.createElement("div",{key:String(a),className:"task__avatar--length"},t.length)}))}),vt=Object(o.b)((function(e){return{deleteButtonVisible:e.task.deleteButtonVisible}}),(function(e){var t=ie,a=J;return{openTaskForm:function(a){var r=a.taskID;return e(t({taskID:r}))},deleteTask:function(t){return e(a(t))}}}))((function(e){var t=e.tasks,a=e.deleteButtonVisible,r=function(t){t.stopPropagation();var a=t.currentTarget.dataset.id;(0,e.deleteTask)(a)},c=function(t){(0,e.openTaskForm)({taskID:t.currentTarget.dataset.id})};return t.map((function(e){var t="progress"===e.percentComplete?"task":"task--complete";return n.a.createElement("div",{key:e.id,"data-id":e.id,className:t,onClick:c},n.a.createElement("div",{className:"task__icon"},a?n.a.createElement(Ke.a,{"data-id":e.id,icon:["fas","minus-circle"],className:"task__delete",onClick:r}):n.a.createElement("div",{className:"task__resource",style:{backgroundColor:e.resource.color}})),n.a.createElement("div",{className:"task__name"},e.name),n.a.createElement("div",{className:"task__startDate"},e.startDate),n.a.createElement("div",{className:"task__endDate"},e.endDate),n.a.createElement("div",{className:"task__extend"},e.extend),n.a.createElement("div",{className:"task__duration"},e.duration),n.a.createElement("div",{className:"task__inCharge"},n.a.createElement(_t,{members:e.users})))}))}));a(53);function bt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function Ot(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?bt(a,!0).forEach((function(t){Object(E.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):bt(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var yt={name:"",selectedResource:"",startDate:null,endDate:null,complete:!1,inCharge:[],description:""},ht=function(e,t){switch(t.type){case"GET_TASK_VALUES":return Ot({},e,{name:t.payload.name,selectedResource:t.payload.selectedResource,startDate:t.payload.startDate,endDate:t.payload.endDate,complete:t.payload.complete,inCharge:t.payload.inCharge,description:t.payload.description});case"ON_CHANGE_NAME":return Ot({},e,{name:t.value});case"ON_CHANGE_DESCRIPTION":return Ot({},e,{description:t.value});case"ON_CHANGE_RESOURCE":return Ot({},e,{selectedResource:t.value});case"ON_CHANGE_START_DATE":return Ot({},e,{startDate:t.value});case"ON_CHANGE_END_DATE":return Ot({},e,{endDate:t.value});case"ON_CHECK_COMPLETE":return Ot({},e,{complete:!e.complete});case"SELECT_AVATAR":return Ot({},e,{inCharge:t.value});default:return e}},Nt=Object(o.b)((function(e){var t=e.resource,a=e.account,r=e.taskForm;return{users:a.users,resources:t.resources,taskID:r.taskID,projectID:r.projectID,errors:r.errors}}),(function(e){var t=le,a=q,r=W,n=k;return{closeTaskForm:function(){return e(t())},createTask:function(t){return e(a(t))},updateTask:function(t,a){return e(r(t,a))},openConfirm:function(t){return e(n(t))}}}))((function(e){var t=e.projectID,a=e.taskID,c=e.resources,s=e.users,o=e.errors,i=e.createTask,l=e.updateTask,u=e.closeTaskForm,d=e.openConfirm,m=a?"edit":"new",p=Object(r.useReducer)(ht,yt),f=Object(Xe.a)(p,2),E=f[0],_=f[1],O=E.name,h=E.selectedResource,N=E.startDate,g=E.endDate,k=E.complete,j=E.inCharge,R=E.description;Object(r.useEffect)((function(){"edit"===m&&T()}),[]);var T=function(){var e=Object(b.a)(v.a.mark((function e(){var t,r,n,c,s,o,i;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("token"),r=C.buildRequestUrl("/tasks/".concat(a,"/edit")),e.next=4,y.a.get(r,{headers:{"X-Reach-token":t}}).catch((function(e){return e.response}));case 4:if(200===(n=e.sent).status){e.next=8;break}return d(w),e.abrupt("return");case 8:c=n.data.task,s="complete"===c.percentComplete,o=c.userIds.map((function(e){return String(e)})),i={name:c.name,complete:s,description:c.description,startDate:new Date(c.startDate),endDate:c.extend?new Date(c.extend):new Date(c.endDate),inCharge:o,selectedResource:c.resourceId},_({type:"GET_TASK_VALUES",payload:i});case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(e){var t=j,a=e.currentTarget.dataset.id,r=j.indexOf(a);-1===r?t.push(a):t.splice(r,1),_({type:"SELECT_AVATAR",value:t})},A=a?function(){var e=Ye()(g).diff(Ye()(N),"days");l(a,{name:O,description:R,duration:e,percent_complete:k?"complete":"progress",resource_id:h,start_date:N,extend:g,user_ids:j})}:function(){var e=Ye()(g).diff(Ye()(N),"days");i({name:O,description:R,duration:e,resource_id:h,project_id:t,start_date:N,end_date:g,user_ids:j})},S="edit"===m?"Update Task":"Add Task";return n.a.createElement("div",{className:"modalOverlay",onClick:u},n.a.createElement("div",{className:"taskForm",onClick:function(e){return e.stopPropagation()}},n.a.createElement("div",{className:"taskForm__close",onClick:u},"\xd7"),n.a.createElement("div",{className:"taskForm__title"},S),0!==o.length&&n.a.createElement(Je,{action:"Task creation",errors:o}),n.a.createElement("div",{className:"taskFormRow"},n.a.createElement("div",{className:"taskFormRow__label"},"\u30bf\u30a4\u30c8\u30eb"),n.a.createElement("input",{type:"text",className:"taskFormRow__name",value:O,onChange:function(e){var t=e.target.value;_({type:"ON_CHANGE_NAME",value:t})}})),n.a.createElement("div",{className:"taskFormRow"},n.a.createElement("div",{className:"taskFormRow__label"},"\u30ea\u30bd\u30fc\u30b9"),n.a.createElement("select",{value:h,onChange:function(e){var t=e.target.value;_({type:"ON_CHANGE_RESOURCE",value:t})},className:"taskFormRow__resource"},n.a.createElement("option",{key:"default",value:null,"aria-label":"...select"}),c.map((function(e){return n.a.createElement("option",{key:e.id,value:e.id},e.name)}))),n.a.createElement("div",{className:"taskFormRow__divide"})),n.a.createElement("div",{className:"taskFormRow"},n.a.createElement("div",{className:"taskFormRow__label"},"\u958b\u59cb\u65e5"),n.a.createElement(at.a,{className:"taskFormRow__date",dateFormat:"yyyy/MM/dd",showWeekNumbers:!0,selected:N,onChange:function(e){return _({type:"ON_CHANGE_START_DATE",value:e})}})),n.a.createElement("div",{className:"taskFormRow"},n.a.createElement("div",{className:"taskFormRow__label"},"\u7d42\u4e86\u65e5"),n.a.createElement(at.a,{className:"taskFormRow__date",dateFormat:"yyyy/MM/dd",showWeekNumbers:!0,selected:g,onChange:function(e){return _({type:"ON_CHANGE_END_DATE",value:e})}})),"edit"===m&&n.a.createElement("div",{className:"taskFormRow"},n.a.createElement("div",{className:"taskFormRow__label"},"\u5b8c\u4e86"),n.a.createElement("div",{className:"taskFormRow__complete",onClick:function(){return _({type:"ON_CHECK_COMPLETE"})}},n.a.createElement("div",{className:"taskFormRow__checkbox"},n.a.createElement(Ke.a,{icon:["far","square"]}),k&&n.a.createElement(Ke.a,{icon:["fas","check"],className:"taskFormRow__checked"})))),n.a.createElement("div",{className:"taskFormRow"},n.a.createElement("div",{className:"taskFormRow__label"},"\u62c5\u5f53"),n.a.createElement("div",{className:"taskFormRow__inCharge"},s.map((function(e){var t=j.indexOf(String(e.id));return n.a.createElement("div",{key:e.id,className:"avatar"},n.a.createElement("div",{"data-id":e.id,onClick:D,className:"avatar__wrapper"},n.a.createElement("img",{src:e.avatar,alt:e.name,className:"avatar__image"}),-1!==t&&n.a.createElement("div",{className:"avatar__selected"})),n.a.createElement("div",{className:"avatar__name"},e.name))})))),n.a.createElement("div",{className:"taskFormRow"},n.a.createElement("div",{className:"taskFormRow__label"},"\u8aac\u660e"),n.a.createElement("textarea",{className:"taskFormRow__description",value:R,onChange:function(e){var t=e.target.value;_({type:"ON_CHANGE_DESCRIPTION",value:t})}})),n.a.createElement("button",{type:"button",onClick:A,className:"taskForm__button"},S)))}));function Ct(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function gt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ct(a,!0).forEach((function(t){Object(E.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ct(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var kt={name:"",description:""},jt=function(e,t){switch(t.type){case"GET_PROJECT_VALUES":return{name:t.payload.name,description:t.payload.description};case"ON_CHANGE_NAME":return gt({},e,{name:t.value});case"ON_CHANGE_DESCRIPTION":return gt({},e,{description:t.value});default:return e}},Rt=Object(o.b)((function(e){var t=e.projectForm;return{projectID:t.id,errors:t.errors}}),(function(e){var t=k,a=j,r=H,n=B,c=Y,s=X;return{closeProjectForm:function(){return e(r())},createProject:function(t){return e(n(t))},deleteProject:function(t){return e(c(t))},updateProject:function(t,a){return e(s(t,a))},openConfirm:function(a){return e(t(a))},closeConfirm:function(){return e(a())}}}))((function(e){var t=e.projectID,a=e.createProject,c=e.updateProject,s=e.deleteProject,o=e.closeProjectForm,i=e.openConfirm,l=e.closeConfirm,u=e.errors,d=t?"edit":"new",m=Object(r.useReducer)(jt,kt),p=Object(Xe.a)(m,2),f=p[0],E=p[1],_=f.name,O=f.description;Object(r.useEffect)((function(){"edit"===d&&h()}),[]);var h=function(){var e=Object(b.a)(v.a.mark((function e(){var a,r,n,c,s;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=C.buildRequestUrl("/projects/".concat(t,"/edit")),r=localStorage.getItem("token"),e.next=4,y.a.get(a,{headers:{"X-Reach-token":r}}).catch((function(e){return e.response}));case 4:if(200===(n=e.sent).status){e.next=8;break}return i(w),e.abrupt("return");case 8:c=n.data.project,s={name:c.name,description:c.description},E({type:"GET_PROJECT_VALUES",payload:s});case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N="new"===d?"Create Project":"Update Project";return n.a.createElement("div",{className:"modalOverlay",onClick:o},n.a.createElement("div",{className:"modalForm",onClick:function(e){return e.stopPropagation()}},n.a.createElement("div",{className:"modalForm__title"},N),0!==u.length&&n.a.createElement(Je,{action:"Project creation",errors:u}),n.a.createElement("input",{type:"text",className:"modalForm__textInput",placeholder:"\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u540d\u3092\u5165\u529b",value:_,onChange:function(e){var t=e.target.value;E({type:"ON_CHANGE_NAME",value:t})}}),n.a.createElement("textarea",{className:"modalForm__textarea",placeholder:"\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u8aac\u660e\u3092\u5165\u529b",value:O,onChange:function(e){var t=e.target.value;E({type:"ON_CHANGE_DESCRIPTION",value:t})}}),n.a.createElement("button",{type:"button",onClick:function(){"edit"===d?c(t,{name:_,description:O}):"new"===d&&a({name:_,description:O}),o()},className:"modalForm__button"},N),"edit"===d&&n.a.createElement("button",{type:"button",onClick:function(){var e={type:"ask",title:"Project ".concat("Destroy"),description:R,confirm:function(){s(t),l(),o()}};i(e)},className:"modalForm__button--delete"},"Delete Project")))})),wt=Object(o.b)((function(e){var t=e.attachmentForm,a=e.attachment;return{projectID:t.projectID,attachmentFormVisible:t.visible,errors:t.errors,attachments:a.attachments}}),(function(e){var t=Ce,a=ge,r=ke,n=je;return{closeAttachmentForm:function(){return e(t())},getAllAttachment:function(t){return e(a(t))},createAttachment:function(t,a){return e(r(t,a))},deleteAttachment:function(t){return e(n(t))}}}))((function(e){var t=e.closeAttachmentForm,a=e.attachments,c=e.errors,s=e.getAllAttachment,o=e.createAttachment,i=e.deleteAttachment,l=e.projectID,u=Object(r.useState)(""),d=Object(Xe.a)(u,2),m=d[0],p=d[1],f=Object(r.useState)(""),E=Object(Xe.a)(f,2),_=E[0],O=E[1];Object(r.useEffect)((function(){s(l)}),[]);var y=function(){var e=Object(b.a)(v.a.mark((function e(t){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.currentTarget.dataset.id,i(a);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return n.a.createElement("div",{className:"modalOverlay",onClick:t},n.a.createElement("div",{className:"modalForm",onClick:function(e){return e.stopPropagation()}},n.a.createElement("div",{className:"modalForm__title"},"Attachments"),0!==c.length&&n.a.createElement(Je,{action:"Add link",errors:c}),n.a.createElement("div",{className:"modalFormUrl"},n.a.createElement("input",{type:"text",className:"modalFormUrl__name",placeholder:"Label",value:m,onChange:function(e){var t=e.target.value;p(t)}}),n.a.createElement("input",{type:"text",className:"modalFormUrl__url",placeholder:"URL",value:_,onChange:function(e){var t=e.target.value;O(t)}}),n.a.createElement(Ke.a,{icon:["fas","plus-circle"],className:"modalFormUrl__add",onClick:function(){o({name:m,url:_},l)}})),n.a.createElement("div",{className:"urlIndex"},a.map((function(e){return n.a.createElement("div",{className:"urlList",key:e.id},n.a.createElement(Ke.a,{icon:["fas","link"],className:"urlList__icon"}),n.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:e.url,className:"urlList__link"},e.name),n.a.createElement(Ke.a,{icon:["fas","trash-alt"],className:"urlList__delete","data-id":e.id,onClick:y}))})))))})),Tt=(a(76),Object(o.b)((function(e){var t=e.projectForm,a=e.project,r=e.taskForm,n=e.attachmentForm;return{projectFormVisible:t.visible,projectID:t.id,projects:a.projects,taskFormVisible:r.visible,taskID:r.id,attachmentFormVisible:n.visible}}),(function(e){var t=V,a=G,r=ie,n=Ne;return{openProjectForm:function(a){return e(t(a))},getAllProjects:function(){return e(a())},openTaskForm:function(t){var a=t.projectID;return e(r({projectID:a}))},openAttachmentForm:function(t){return e(n(t))}}}))((function(e){var t=e.projects,a=e.getAllProjects,c=e.projectFormVisible,s=e.taskFormVisible,o=e.attachmentFormVisible,i=e.openProjectForm,l=e.openTaskForm,u=e.openAttachmentForm;Object(r.useEffect)((function(){a()}),[]);var d=function(e){var t=e.currentTarget.dataset.id;i(t)},m=function(e){var t=e.currentTarget.dataset.id;l({projectID:t})},p=function(e){var t=e.currentTarget.dataset.id;u(t)};return n.a.createElement(n.a.Fragment,null,c&&n.a.createElement(Rt,null),s&&n.a.createElement(Nt,null),o&&n.a.createElement(wt,null),t.map((function(e,t){return n.a.createElement("div",{key:e.id,className:"project"},n.a.createElement("div",{className:"projectHeader"},n.a.createElement("div",{className:"projectHeader__name"},e.name),n.a.createElement(Ke.a,{icon:["fas","edit"],className:"projectHeader__edit","data-id":e.id,onClick:d}),n.a.createElement(Ke.a,{icon:["fas","plus"],className:"projectHeader__addTask","data-id":e.id,onClick:m}),n.a.createElement(Ke.a,{icon:["fas","link"],className:"projectHeader__link","data-id":e.id,onClick:p})),e.tasks&&n.a.createElement(vt,{index:t,tasks:e.tasks}))})))})));function Dt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function At(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Dt(a,!0).forEach((function(t){Object(E.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Dt(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var St={name:"",colors:[],pickedColor:""},Pt=function(e,t){switch(t.type){case"GET_COLORS":return At({},e,{colors:t.payload});case"GET_RESOURCE_VALUES":return At({},e,{name:t.payload.name,pickedColor:t.payload.pickedColor});case"PICK_COLOR":return At({},e,{pickedColor:t.color});case"ON_CHANGE_NAME":return At({},e,{name:t.value});default:return e}},Ft=function(e){var t=e.colors,a=e.pickedColor,r=e.onPickColor;return t.map((function(e){var t=a===String(e.id)?"--selected":"",c="colorPallet__body".concat(t);return n.a.createElement("div",{key:e.id,className:"colorPallet__edge"},n.a.createElement("div",{className:c,style:{backgroundColor:e.value},"data-color":e.id,onClick:r}))}))},xt=Object(o.b)((function(e){var t=e.resourceForm;return{resourceID:t.id,errors:t.errors}}),(function(e){var t=G,a=k,r=j,n=A,c=P,s=F,o=x;return{getAllProjects:function(){return e(t())},closeResourceForm:function(){return e(n())},createResource:function(t){return e(c(t))},deleteResource:function(t){return e(s(t))},updateResource:function(t,a){return e(o(t,a))},openConfirm:function(t){return e(a(t))},closeConfirm:function(){return e(r())}}}))((function(e){var t=e.resourceID,a=e.createResource,c=e.updateResource,s=e.deleteResource,o=e.closeResourceForm,i=e.openConfirm,l=e.closeConfirm,u=e.getAllProjects,d=e.errors,m=Object(r.useReducer)(Pt,St),p=Object(Xe.a)(m,2),f=p[0],E=p[1],_=f.name,O=f.colors,h=f.pickedColor,N=t?"edit":"new";Object(r.useEffect)((function(){g(),"edit"===N&&k()}),[]);var g=function(){var e=Object(b.a)(v.a.mark((function e(){var t,a,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=C.buildRequestUrl("/colors"),a=localStorage.getItem("token"),e.next=4,y.a.get(t,{headers:{"X-Reach-token":a}}).catch((function(e){return e.response}));case 4:if(200===(r=e.sent).status){e.next=8;break}return i(w),e.abrupt("return");case 8:E({type:"GET_COLORS",payload:r.data.colors});case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Object(b.a)(v.a.mark((function e(){var a,r,n,c,s;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=C.buildRequestUrl("/resources/".concat(t,"/edit")),r=localStorage.getItem("token"),e.next=4,y.a.get(a,{headers:{"X-Reach-token":r}}).catch((function(e){return e.response}));case 4:if(200===(n=e.sent).status){e.next=8;break}return i(w),e.abrupt("return");case 8:c=n.data.resource,s={name:c.name,pickedColor:String(c.color_id)},E({type:"GET_RESOURCE_VALUES",payload:s});case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j=function(){var e=Object(b.a)(v.a.mark((function e(){var a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={name:_,color_id:h},e.next=3,c(t,a);case 3:u();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Object(b.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("edit"!==N){e.next=6;break}return e.next=3,j();case 3:u(),e.next=7;break;case 6:"new"===N&&a({name:_,color_id:h});case 7:o();case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D="new"===N?"Create Resource":"Update Resource";return n.a.createElement("div",{className:"modalOverlay",onClick:o},n.a.createElement("div",{className:"modalForm",onClick:function(e){return e.stopPropagation()}},n.a.createElement("div",{className:"modalForm__title"},D),0!==d.length&&n.a.createElement(Je,{action:"Resource creation",errors:d}),n.a.createElement("input",{type:"text",className:"modalForm__textInput",placeholder:"\u30ea\u30bd\u30fc\u30b9\u540d\u3092\u5165\u529b",value:_,onChange:function(e){var t=e.target.value;E({type:"ON_CHANGE_NAME",value:t})}}),n.a.createElement("div",{className:"modalForm__label"},"\u30e9\u30d9\u30eb\u306e\u8272\u3092\u9078\u629e"),n.a.createElement("div",{className:"colorPallet"},n.a.createElement(Ft,{colors:O,pickedColor:h,onPickColor:function(e){var t=e.target.dataset.color;E({type:"PICK_COLOR",color:t})}})),n.a.createElement("button",{type:"button",onClick:T,className:"modalForm__button"},D),"edit"===N&&n.a.createElement("button",{type:"button",onClick:function(){var e={type:"ask",title:"Resource ".concat("Destroy"),description:R,confirm:function(){s(t),l(),o()}};i(e)},className:"modalForm__button--delete"},"Delete Resource")))})),It=Object(o.b)((function(e){var t=e.resourceForm,a=e.resource;return{resourceFormVisible:t.visible,resources:a.resources}}),(function(e){var t=D,a=S,r=A,n=j;return{getAllResources:function(){return e(a())},openResourceForm:function(a){return e(t(a))},closeResourceForm:function(){return e(r())},closeConfirm:function(){return e(n())}}}))((function(e){var t=e.resources,a=e.getAllResources,c=e.openResourceForm,s=e.resourceFormVisible;Object(r.useEffect)((function(){a()}),[]);var o=function(e){var t=e.currentTarget.dataset.id;c(t)};return n.a.createElement("div",{className:"resource"},t.map((function(e){return n.a.createElement("div",{className:"resource__wrapper",key:e.id,onClick:o,"data-id":e.id},n.a.createElement("div",{className:"resource__icon",style:{backgroundColor:e.color}}),n.a.createElement("div",{className:"resource__name"},e.name))})),s&&n.a.createElement(xt,null))}));a(162);function Lt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}var Mt={isHover:!1,offsetX:0,offsetY:0},Ut=function(e,t){switch(t.type){case"MOUSE_ENTER":var a=t.payload,r=a.clientX,n=a.clientY;return{isHover:!0,offsetX:window.innerWidth<r+300?r-230:r,offsetY:window.innerHeight<n+300?n-150:n};case"MOUSE_LEAVE":return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Lt(a,!0).forEach((function(t){Object(E.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Lt(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e,{isHover:!1});default:return e}},Vt=function(e){return e.users.map((function(e){return n.a.createElement("div",{key:e.name,className:"windowMembers__name"},e.name)}))},Ht=function(e){var t=e.data,a=e.offsetX,r=e.offsetY;return n.a.createElement("div",{className:"window",style:{top:r,left:a}},n.a.createElement("div",{className:"windowRow"},n.a.createElement("div",{className:"windowRow__label"},"\u30bf\u30a4\u30c8\u30eb:"),n.a.createElement("div",{className:"windowRow__name"},t.name)),n.a.createElement("div",{className:"windowRow"},n.a.createElement("div",{className:"windowRow__label"},"\u958b\u59cb\u65e5:"),n.a.createElement("div",{className:"window__startDate"},t.startDate)),n.a.createElement("div",{className:"windowRow"},n.a.createElement("div",{className:"windowRow__label"},"\u7d42\u4e86\u65e5:"),n.a.createElement("div",{className:"window__endDate"},t.endDate)),n.a.createElement("div",{className:"windowRow"},n.a.createElement("div",{className:"windowRow__label"},"\u5ef6\u9577:"),n.a.createElement("div",{className:"window__extend"},t.extend)),n.a.createElement("div",{className:"windowRow"},n.a.createElement("div",{className:"windowRow__label"},"\u671f\u9593:"),n.a.createElement("div",{className:"window__duration"},t.duration)),n.a.createElement("div",{className:"windowRow"},n.a.createElement("div",{className:"windowRow__label"},"\u9032\u6357:"),n.a.createElement("div",{className:"window__progress"},t.percentComplete)),n.a.createElement("div",{className:"windowRow"},n.a.createElement("div",{className:"windowRow__label"},"\u62c5\u5f53:"),n.a.createElement("div",{className:"windowMembers"},n.a.createElement(Vt,{users:t.users}))),n.a.createElement("div",{className:"windowCol"},n.a.createElement("div",{className:"windowCol__label"},"\u8aac\u660e:"),n.a.createElement("div",{className:"windowCol__description"},t.description)))},Gt=function(e){var t=e.chartWidth,a=e.data,c=Object(r.useReducer)(Ut,Mt),s=Object(Xe.a)(c,2),o=s[0],i=s[1],l=o.isHover,u=o.offsetX,d=o.offsetY;return n.a.createElement("div",{style:{width:t,backgroundColor:a.resource.color},className:"chartbar",onMouseEnter:function(e){i({type:"MOUSE_ENTER",payload:{clientX:e.clientX,clientY:e.clientY}})},onMouseLeave:function(){return i({type:"MOUSE_LEAVE"})}},l&&n.a.createElement(Ht,{data:a,offsetX:u,offsetY:d}))},Bt=Ye()(new Date).subtract(2,"weeks").startOf("days"),Yt=Ye()(new Date).add(1,"years"),Xt=Object(o.b)((function(e){var t=e.project,a=e.schedule;return{projects:t.projects,scheduleType:a.scheduleType}}))((function(e){var t=e.projects,a=e.scheduleType;return t.map((function(e){return n.a.createElement("div",{key:e.name,className:"project"},n.a.createElement("div",{className:"projectHeader"}),e.tasks&&e.tasks.map((function(e){var t=a===Ee?function(e){return 45*Ye()(e.startDate,"YYYY/MM/DD").startOf("days").diff(Bt,"days")}(e):function(e){return 45*Math.ceil(Ye()(e.startDate,"YYYY/MM/DD").startOf("week").diff(Bt,"weeks",!0))}(e),r=a===Ee?e.duration:function(e){var t=e.extend||e.endDate,a=Ye()(e.startDate,"YYYY/MM/DD").startOf("week"),r=Ye()(t,"YYYY/MM/DD").endOf("week");return Math.ceil(r.diff(a,"weeks",!0))}(e);!function(e){return Ye()(e.startDate,"YYYY/MM/DD").isBefore(Bt)}(e)||a!==Ee?function(e){return Ye()(e.startDate,"YYYY/MM/DD").isBefore(Bt.startOf("week"))}(e)&&"weeks"===a&&(r-=Math.ceil(Bt.diff(Ye()(e.startDate,"YYYY/MM/DD"),"week",!0))):r-=Bt.diff(Ye()(e.startDate,"YYYY/MM/DD").startOf("days"),"days",!0),a===Ee&&(r+=1);var c=45*r,s="progress"===e.percentComplete?"task":"task--complete";return n.a.createElement("div",{key:e.id,style:{paddingLeft:t},className:s},n.a.createElement(Gt,{chartWidth:c,data:e}))})))}))})),Kt=(a(163),function(e){return{scheduleType:e.schedule.scheduleType}}),qt=function(e){var t=_e,a=ve;return{changeToWeeks:function(){return e(t())},changeToDays:function(){return e(a())}}},Jt=function(e,t){var a={};if(t===Ee)a.formatDate=e.format("MMM D"),a.className="gantt-schedule-header__date".concat(function(e){switch(e.get("day")){case 0:return"--sun";case 6:return"--sat";default:return""}}(e));else{var r=e.startOf("week");a.formatDate="W".concat(e.format("W")," ").concat(r.format("M/D")),a.className="gantt-schedule-header__week"}return a},Wt=Object(o.b)(Kt)((function(e){for(var t=e.scheduleType,a=[],r=Ye()(Bt);r<=Yt;r.add(1,t)){var c=Jt(r,t);a.push(n.a.createElement("div",{className:c.className,key:r.format("YYYYMMDD")},c.formatDate))}return a})),$t=Object(o.b)(Kt,qt)((function(e){var t=e.scheduleType,a=e.changeToWeeks,r=e.changeToDays,c={weeks:"switchView__button",days:"switchView__button"};return"weeks"===t?c.weeks+="--disable":t===Ee&&(c.days+="--disable"),n.a.createElement("div",{className:"header"},n.a.createElement("div",{className:"switchView"},n.a.createElement("div",{className:c.weeks,onClick:a},"Week"),n.a.createElement("div",{className:"switchView__divider"},"|"),n.a.createElement("div",{className:c.days,onClick:r},"Day")),n.a.createElement(It,null))})),zt=Object(o.b)(Kt,qt)((function(){return n.a.createElement("div",{className:"App"},n.a.createElement(et,null),n.a.createElement("div",{className:"mainContainer"},n.a.createElement($t,null),n.a.createElement("div",{className:"gantt"},n.a.createElement("div",{className:"gantt-index"},n.a.createElement(Et,null),n.a.createElement(Tt,null)),n.a.createElement("div",{className:"gantt-schedule"},n.a.createElement("div",{className:"gantt-schedule-header"},n.a.createElement(Wt,null)),n.a.createElement(Xt,null)))))})),Qt=Object(o.b)(null,(function(e){var t=k,a=Se;return{openConfirm:function(a){return e(t(a))},closeVerificationForm:function(){return e(a())}}}))((function(e){var t=e.closeVerificationForm,a=e.openConfirm,c=Object(r.useState)(""),s=Object(Xe.a)(c,2),o=s[0],i=s[1],l=Object(r.useState)([]),u=Object(Xe.a)(l,2),d=u[0],m=u[1],p=function(){var e=Object(b.a)(v.a.mark((function e(){var t,r,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={email:o},r=C.buildRequestUrl("/sessions/new"),e.next=4,y.a.get(r,{params:t}).catch((function(e){return e.response}));case 4:if(200===(n=e.sent).status){e.next=8;break}return a(w),e.abrupt("return");case 8:n.data.result?a(T):m(n.data.errors);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return n.a.createElement("div",{className:"modalOverlay--verification",onClick:t},n.a.createElement("div",{className:"modalForm",onClick:function(e){return e.stopPropagation()}},n.a.createElement("div",{className:"modalForm__title"},"Account verification"),0!==d.length&&n.a.createElement(Je,{action:"Resource creation",errors:d}),n.a.createElement("input",{type:"text",className:"modalForm__textInput",placeholder:"\u767b\u9332\u6e08\u307f\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u3092\u5165\u529b",value:o,onChange:function(e){var t=e.target.value;i(t)}}),n.a.createElement("button",{type:"button",onClick:p,className:"modalForm__button"},"Send")))})),Zt=Object(o.b)((function(e){return{verificationFormVisible:e.verificationForm.visible}}),(function(e){var t=k,a=Ae,r=xe,n=Ie;return{openConfirm:function(a){return e(t(a))},openVerificationForm:function(){return e(a())},loadStart:function(){return e(r())},loadEnd:function(){return e(n())}}}))((function(e){var t=e.loadStart,a=e.loadEnd,c=e.openConfirm,s=e.verificationFormVisible,o=e.openVerificationForm,i=Object(r.useState)(""),l=Object(Xe.a)(i,2),u=l[0],d=l[1],m=Object(r.useState)(""),p=Object(Xe.a)(m,2),f=p[0],E=p[1],_=Object(r.useState)(!1),O=Object(Xe.a)(_,2),h=O[0],N=O[1],g=Object(r.useState)([]),k=Object(Xe.a)(g,2),j=k[0],R=k[1],T=function(){var e=Object(b.a)(v.a.mark((function e(){var r,n,s,o,i,l;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(),r=C.buildRequestUrl("/sessions"),n={email:u,password:f},e.next=5,y.a.post(r,n,{headers:{"Content-Type":"application/json"}}).catch((function(e){return e.response}));case 5:if(200===(s=e.sent).status){e.next=10;break}return c(w),a(),e.abrupt("return");case 10:o=s.data,i=o.result,l=o.token,i?(localStorage.setItem("token",l),N(!0)):R(s.data.errors),a();case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return h?n.a.createElement(He.a,{to:"/reach"}):n.a.createElement("div",{className:"background"},n.a.createElement("div",{className:"session"},n.a.createElement("div",{className:"session__title"},"Sign in to Reach"),0!==j.length&&n.a.createElement(Je,{action:"Authentication",errors:j}),n.a.createElement("input",{type:"text",className:"session__email",placeholder:"Email",value:u,onChange:function(e){var t=e.target.value;d(t)}}),n.a.createElement("input",{type:"password",className:"session__password",placeholder:"Password",value:f,onChange:function(e){var t=e.target.value;E(t)}}),n.a.createElement("button",{type:"button",onClick:T,className:"session__submit"},"Sign In"),n.a.createElement(Ge.b,{to:"/reach/signup",className:"session__switch"},"Create account"),n.a.createElement("div",{className:"session__openVerification",onClick:o},"Account verification")),s&&n.a.createElement(Qt,null))})),ea=Object(o.b)(null,(function(e){var t=k,a=xe,r=Ie;return{openConfirm:function(a){return e(t(a))},loadStart:function(){return e(a())},loadEnd:function(){return e(r())}}}))((function(e){var t=e.loadStart,a=e.loadEnd,c=e.openConfirm,s=Object(r.useState)(""),o=Object(Xe.a)(s,2),i=o[0],l=o[1],u=Object(r.useState)(null),d=Object(Xe.a)(u,2),m=d[0],p=d[1],f=Object(r.useState)(""),E=Object(Xe.a)(f,2),_=E[0],O=E[1],h=Object(r.useState)(""),N=Object(Xe.a)(h,2),g=N[0],k=N[1],j=Object(r.useState)(""),R=Object(Xe.a)(j,2),T=R[0],D=R[1],A=Object(r.useState)(""),S=Object(Xe.a)(A,2),P=S[0],F=S[1],x=Object(r.useState)([]),I=Object(Xe.a)(x,2),L=I[0],M=I[1],U=Object(r.useState)(!1),V=Object(Xe.a)(U,2),H=V[0],G=V[1],B=function(){var e=Object(b.a)(v.a.mark((function e(){var r,n,s;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(),(r=new FormData).append("user[name]",_),r.append("user[email]",g),r.append("user[password]",T),r.append("user[password_confirmation]",P),m&&r.append("user[avatar]",m),n=C.buildRequestUrl("/users"),e.next=10,y.a.post(n,r).catch((function(e){return e.response}));case 10:if(200===(s=e.sent).status){e.next=15;break}return c(w),a(),e.abrupt("return");case 15:s.data.is_created?G(!0):M(s.data.errors),a();case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return H?n.a.createElement(He.a,{to:"/reach/signin"}):n.a.createElement("div",{className:"background"},n.a.createElement("div",{className:"session"},n.a.createElement("div",{className:"session__title"},"Create account"),0!==L.length&&n.a.createElement(Je,{action:"Registration",errors:L}),n.a.createElement("label",{htmlFor:"avatarForm",className:"session__avatar"},n.a.createElement("input",{id:"avatarForm",type:"file",className:"session__fileField",onChange:function(e){var t=e.target.files[0],a=URL.createObjectURL(t);l(a),p(t)}}),""===i?n.a.createElement(Ke.a,{icon:["fas","user"],className:"session__fileIcon"}):n.a.createElement("img",{src:i,alt:"avatar",className:"session__preview"})),n.a.createElement("div",{className:"session__fileLabel"},"Upload your avatar"),n.a.createElement("input",{type:"text",className:"session__name",placeholder:"Name",value:_,onChange:function(e){var t=e.target.value;O(t)}}),n.a.createElement("input",{type:"text",className:"session__email",placeholder:"Email",value:g,onChange:function(e){var t=e.target.value.value;k(t)}}),n.a.createElement("input",{type:"password",className:"session__password",placeholder:"Password",value:T,onChange:function(e){var t=e.target.value;D(t)}}),n.a.createElement("input",{type:"password",className:"session__password",placeholder:"Password confirmation",value:P,onChange:function(e){var t=e.target.value;F(t)}}),n.a.createElement("button",{type:"button",onClick:B,className:"session__submit"},"Sign Up"),n.a.createElement(Ge.b,{to:"/reach/signin",className:"session__switch"},"Move to Sign In")))})),ta=(a(164),function(e){return e.stopPropagation()}),aa=Object(o.b)((function(e){var t=e.confirm;return{type:t.type,title:t.title,description:t.description,confirm:t.confirm}}),(function(e){var t=j;return{closeConfirm:function(){return e(t())}}}))((function(e){var t=e.type,a=e.closeConfirm,r=e.title,c=e.description,s=e.confirm,o="ask"===t?s:a,i=function(e){switch(e){case"success":return{icon:["fas","check"],className:"confirm__icon--success"};case"error":return{icon:["fas","exclamation"],className:"confirm__icon--error"};case"ask":return{icon:["fas","question"],className:"confirm__icon--ask"};default:return null}}(t);return n.a.createElement("div",{className:"confirmOverlay",onClick:ta},n.a.createElement("div",{className:"confirm"},i&&n.a.createElement("div",{className:i.className},n.a.createElement(Ke.a,{icon:i.icon})),n.a.createElement("div",{className:"confirmText"},n.a.createElement("div",{className:"confirmText__title"},r),n.a.createElement("div",{className:"confirmText__description"},c)),n.a.createElement("div",{className:"confirmButton"},"ask"===t&&n.a.createElement("div",{className:"confirmButton__cancel",onClick:a},"Cancel"),n.a.createElement("div",{className:"confirmButton__confirm",onClick:o},"OK"))))})),ra=(a(165),function(){return n.a.createElement("div",{className:"loadingOverlay"},n.a.createElement(Ke.a,{icon:["fab","react"],spin:!0,className:"loadingIcon"}))}),na=function(){return null!==localStorage.getItem("token")?n.a.createElement(zt,null):n.a.createElement(He.a,{to:"/reach/signin"})},ca=Object(o.b)((function(e){var t=e.confirm,a=e.loading;return{confirmVisible:t.visible,isLoading:a.isLoading}}))((function(e){var t=e.confirmVisible,a=e.isLoading;return n.a.createElement(n.a.Fragment,null,n.a.createElement(Ge.a,null,n.a.createElement(He.d,null,n.a.createElement(He.b,{path:"/reach/signin"},n.a.createElement(Zt,null)),n.a.createElement(He.b,{path:"/reach/signup"},n.a.createElement(ea,null)),n.a.createElement(He.b,{exact:!0,path:"/reach"},n.a.createElement(na,null)),n.a.createElement(He.b,{exact:!0},n.a.createElement(Zt,null)))),t&&n.a.createElement(aa,null),a&&n.a.createElement(ra,null))}));a(166),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.b.add(l.a,u.a,d.a),s.a.render(n.a.createElement(o.a,{store:Ve},n.a.createElement(ca,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},52:function(e,t,a){},53:function(e,t,a){},76:function(e,t,a){},86:function(e,t,a){e.exports=a(167)}},[[86,1,2]]]);
//# sourceMappingURL=main.600395fa.chunk.js.map