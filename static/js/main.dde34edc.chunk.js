(this.webpackJsonpreach=this.webpackJsonpreach||[]).push([[0],{130:function(e,t,a){},131:function(e,t,a){},132:function(e,t,a){},133:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(36),s=a.n(o),c=(a(74),a(35)),i=a(63),l=a(64),m=a(65),u=a(5),d=a(6),h=a(8),f=a(7),p=a(9),v=a(25),C=a(26),k=a(13),E=a.n(k),g=a(10),_=function(){function e(){Object(u.a)(this,e)}return Object(d.a)(e,null,[{key:"buildRequestUrl",value:function(e){return"https://reach-260801.appspot.com"+e}},{key:"preparingRequest",value:function(e,t,a){switch(e){case"new":return{uriPattern:"/".concat(a),method:"POST"};case"edit":return{uriPattern:"/".concat(a,"/").concat(t),method:"PATCH"};default:return null}}},{key:"dateRangeStart",value:function(){return E()(new Date).subtract(2,"weeks").startOf("days")}},{key:"dateRangeEnd",value:function(){return E()("2020/4/1","YYYY/MM/DD")}}]),e}(),b=(a(81),function(e){return e.stopPropagation()}),N=function(e){var t=e.type,a=e.closeConfirm,n=e.title,o=e.description,s=e.confirm,c=function(e){switch(e){case"success":return{icon:["fas","check"],className:"confirm__icon--success"};case"error":return{icon:["fas","exclamation"],className:"confirm__icon--error"};case"ask":return{icon:["fas","question"],className:"confirm__icon--ask"};default:return null}}(t);return r.a.createElement("div",{className:"confirmOverlay",onClick:b},r.a.createElement("div",{className:"confirm"},c&&r.a.createElement("div",{className:c.className},r.a.createElement(g.a,{icon:c.icon})),r.a.createElement("div",{className:"confirmText"},r.a.createElement("div",{className:"confirmText__title"},n),r.a.createElement("div",{className:"confirmText__description"},o)),r.a.createElement("div",{className:"confirmButton"},"ask"===t&&r.a.createElement("div",{className:"confirmButton__cancel",onClick:a},"Cancel"),r.a.createElement("div",{className:"confirmButton__confirm",onClick:s},"OK"))))},y=(a(82),function(e){return e.errors.map((function(e){return r.a.createElement("div",{className:"error__message",key:e.error},e.error)}))}),w=function(e){var t=e.action,a=e.errors,n="".concat(t," failed!");return r.a.createElement("div",{className:"error"},r.a.createElement("div",{className:"error__title"},n),r.a.createElement(y,{errors:a}))},j="Bad request!",S="Please check your request params",D="Internal server error",O="Try reload browser",R="Updated!",x="Are you sure?",F=(a(47),function(e){function t(e){var a;Object(u.a)(this,t),(a=Object(h.a)(this,Object(f.a)(t).call(this,e))).editProjectFormValue=function(){var e=a.props.id,t=_.buildRequestUrl("/projects/".concat(e,"/edit"));fetch(t,{method:"GET",headers:{"X-Reach-token":a.token}}).then((function(e){return e.json()})).then((function(e){var t=e.is_authenticated,n=e.project;if(t){var r=n.name,o=n.description;a.setState({name:r,description:o})}else a.openConfirm("error",j,S,a.closeConfirm)})).catch((function(){a.openConfirm("error",D,O,a.closeConfirm)}))},a.handleCreate=function(){var e=a.state,t=e.name,n=e.description,r=a.props.id,o=_.preparingRequest(a.action,r,"projects");if(null!==o){var s=_.buildRequestUrl(o.uriPattern),c={name:t,description:n};fetch(s,{method:o.method,headers:{"Content-Type":"application/json","X-Reach-token":a.token},body:JSON.stringify(c)}).then((function(e){return e.json()})).then((function(e){var t=e.is_created,n=e.errors,r=e.project,o=a.props,s=o.closeModal,c=o.refresh;t&&"new"===a.action?(c(r,"new"),s()):t&&"edit"===a.action?(c(r.name),s()):a.setState({errors:n})})).catch((function(){a.openConfirm("error",D,O,a.closeConfirm)}))}},a.handleDestroy=function(){var e=a.props,t=e.id,n=e.refreshProject,r=_.buildRequestUrl("/projects/".concat(t));fetch(r,{method:"DELETE",headers:{"X-Reach-token":a.token}}).then((function(e){return e.json()})).then((function(e){var t=e.is_delete,r=e.project;t?n(r,"destroy"):a.openConfirm("error",j,S,a.closeConfirm)})).catch((function(){a.openConfirm("error",D,O,a.closeConfirm)}))},a.openConfirm=function(e,t,n,r){a.setState({confirmVisible:!0,confirmType:e,confirmTitle:t,confirmDescription:n,confirm:r})},a.closeConfirm=function(){return a.setState({confirmVisible:!1})},a.onChangeName=function(e){var t=e.target.value;a.setState({name:t})},a.onChangeDescription=function(e){var t=e.target.value;a.setState({description:t})},a.onClickOverlay=function(e){return e.stopPropagation()},a.token=localStorage.getItem("token");var n=a.props.action;return a.action=n,a.state={name:"",description:"",errors:[],confirmVisible:!1,confirmType:"",confirmTitle:"",confirmDescription:"",confirm:function(){}},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){"edit"===this.action&&this.editProjectFormValue()}},{key:"render",value:function(){var e=this,t=this.props.closeModal,a=this.state,n=a.name,o=a.description,s=a.errors,c=a.confirmVisible,i=a.confirmType,l=a.confirmTitle,m=a.confirmDescription,u=a.confirm,d="new"===this.action?"Create ":"Update ";return r.a.createElement("div",{className:"modalOverlay",onClick:t},r.a.createElement("div",{className:"modalForm",onClick:this.onClickOverlay},r.a.createElement("div",{className:"modalForm__title"},d,"Project"),0!==s.length&&r.a.createElement(w,{action:"Project creation",errors:s}),r.a.createElement("input",{type:"text",className:"modalForm__textInput",placeholder:"\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u540d\u3092\u5165\u529b",value:n,onChange:this.onChangeName}),r.a.createElement("textarea",{className:"modalForm__textarea",placeholder:"\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u8aac\u660e\u3092\u5165\u529b",value:o,onChange:this.onChangeDescription}),r.a.createElement("button",{type:"button",onClick:this.handleCreate,className:"modalForm__button"},d),"edit"===this.action&&r.a.createElement("button",{type:"button",onClick:function(){return e.openConfirm("ask","Project ".concat("Destroy"),x,e.handleDestroy)},className:"modalForm__button--delete"},"Delete Project")),c&&r.a.createElement(N,{type:i,closeConfirm:this.closeConfirm,title:l,description:m,confirm:u}))}}]),t}(n.PureComponent)),T=a(3),V=a.n(T),P=a(14),M=function(e){function t(e){var a;Object(u.a)(this,t),(a=Object(h.a)(this,Object(f.a)(t).call(this,e))).getIndexColors=function(){var e=_.buildRequestUrl("/colors");fetch(e,{method:"GET",headers:{"X-Reach-token":a.token}}).then((function(e){return e.json()})).then((function(e){var t=e.is_authenticated,n=e.colors;t?a.setState({colors:n}):a.openConfirm("error",j,S,a.closeConfirm)})).catch((function(){a.openConfirm("error",D,O,a.closeConfirm)}))},a.editResourceFormValue=function(){var e=a.props.id,t=_.buildRequestUrl("/resources/".concat(e,"/edit"));fetch(t,{method:"GET",headers:{"X-Reach-token":a.token}}).then((function(e){return e.json()})).then((function(e){var t=e.is_authenticated,n=e.resource;t?a.setState({name:n.name,pickedColor:String(n.color_id)}):a.openConfirm("error",j,S,a.closeConfirm)})).catch((function(){a.openConfirm("error",D,O,a.closeConfirm)}))},a.handleCreate=function(){var e=a.props,t=e.id,n=e.closeModal,r=e.refresh,o=a.state,s=o.pickedColor,c=o.name,i=_.preparingRequest(a.action,t,"resources");if(null!==i){var l=_.buildRequestUrl(i.uriPattern),m={name:c,color_id:s};fetch(l,{method:i.method,headers:{"Content-Type":"application/json","X-Reach-token":a.token},body:JSON.stringify(m)}).then((function(e){return e.json()})).then((function(e){var t=e.errors,o=e.is_created,s=e.resource;o&&"new"===a.action?(r(s),n()):o&&"edit"===a.action?(r(),n()):a.setState({errors:t})})).catch((function(){a.openConfirm("error",D,O,a.closeConfirm)}))}},a.handleDestroy=function(){var e=a.props,t=e.id,n=e.refresh,r=_.buildRequestUrl("/resources/".concat(t));fetch(r,{method:"DELETE",headers:{"X-Reach-token":a.token}}).then((function(e){return e.json()})).then((function(e){e.is_delete?n():a.openConfirm("error",j,S,a.closeConfirm)})).catch((function(){a.openConfirm("error",D,O,a.closeConfirm)}))},a.openConfirm=function(e,t,n,r){a.setState({confirmVisible:!0,confirmType:e,confirmTitle:t,confirmDescription:n,confirm:r})},a.closeConfirm=function(){return a.setState({confirmVisible:!1})},a.onPickColor=function(e){var t=e.target.dataset.color;a.setState({pickedColor:t})},a.onChangeName=function(e){var t=e.target.value;a.setState({name:t})},a.onClickOverlay=function(e){return e.stopPropagation()};var n=a.props.action;return a.action=n,a.state={name:"",colors:[],pickedColor:"",errors:[],confirmVisible:!1,confirmType:"",confirmTitle:"",confirmDescription:"",confirm:function(){}},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=Object(P.a)(V.a.mark((function e(){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,localStorage.getItem("token");case 2:this.token=e.sent,this.getIndexColors(),"edit"===this.action&&this.editResourceFormValue();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t="new"===this.action?"Create ":"Update ",a=this.props.closeModal,n=this.state,o=n.name,s=n.colors,c=n.pickedColor,i=n.errors,l=n.confirmVisible,m=n.confirmType,u=n.confirmTitle,d=n.confirmDescription,h=n.confirm;return r.a.createElement("div",{className:"modalOverlay",onClick:a},r.a.createElement("div",{className:"modalForm",onClick:this.onClickOverlay},r.a.createElement("div",{className:"modalForm__title"},t,"Resource"),0!==i.length&&r.a.createElement(w,{action:"Resource creation",errors:i}),r.a.createElement("input",{type:"text",className:"modalForm__textInput",placeholder:"\u30ea\u30bd\u30fc\u30b9\u540d\u3092\u5165\u529b",value:o,onChange:this.onChangeName}),r.a.createElement("div",{className:"modalForm__label"},"\u30e9\u30d9\u30eb\u306e\u8272\u3092\u9078\u629e"),r.a.createElement("div",{className:"colorPallet"},r.a.createElement(I,{colors:s,pickedColor:c,onPickColor:this.onPickColor})),r.a.createElement("button",{type:"button",onClick:this.handleCreate,className:"modalForm__button"},t),"edit"===this.action&&r.a.createElement("button",{type:"button",onClick:function(){return e.openConfirm("ask","Project ".concat("Destroy"),x,e.handleDestroy)},className:"modalForm__button--delete"},"Delete Resource")),l&&r.a.createElement(N,{type:m,closeConfirm:this.closeConfirm,title:u,description:d,confirm:h}))}}]),t}(n.PureComponent),I=function(e){var t=e.colors,a=e.pickedColor,n=e.onPickColor;return t.map((function(e){var t=a===String(e.id)?"--selected":"",o="colorPallet__body".concat(t);return r.a.createElement("div",{key:e.id,className:"colorPallet__edge"},r.a.createElement("div",{className:o,style:{backgroundColor:e.value},"data-color":e.id,onClick:n}))}))},U=(a(48),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(h.a)(this,Object(f.a)(t).call(this,e))).getCurrentAccount=function(){var e=_.buildRequestUrl("/users/edit");fetch(e,{method:"GET",headers:{"X-Reach-token":a.token}}).then((function(e){return e.json()})).then((function(e){var t=e.is_authenticated,n=e.user;if(t){var r=n.avatar,o=n.name,s=n.email;a.avatar=r,a.name=o,a.email=s,a.setState({uri:r,name:o,email:s})}else a.openConfirm("error",j,S,a.closeConfirm)})).catch((function(){a.openConfirm("error",D,O,a.closeConfirm)}))},a.handleUpdate=function(){var e=a.state,t=e.avatar,n=e.name,r=e.email,o=new FormData;o.append("user[name]",n),o.append("user[email]",r),t&&o.append("user[avatar]",t);var s=_.buildRequestUrl("/users/update");fetch(s,{method:"PATCH",headers:{"X-Reach-token":a.token},body:o}).then((function(e){return e.json()})).then((function(e){var t=e.is_updated,n=e.errors;t?((0,a.props.refresh)(),a.openConfirm("success",R,"",a.closeConfirm)):a.setState({errors:n})})).catch((function(){a.openConfirm("error",D,O,a.closeConfirm)}))},a.onChangeFile=function(e){var t=e.target.files[0],n=URL.createObjectURL(t);a.setState({uri:n,avatar:t})},a.onChangeName=function(e){var t=e.target.value;a.setState({name:t})},a.onChangeEmail=function(e){var t=e.target.value;a.setState({email:t})},a.closeEditAccount=function(){(0,a.props.closeEditAccount)()},a.openConfirm=function(e,t,n,r){a.setState({confirmVisible:!0,confirmType:e,confirmTitle:t,confirmDescription:n,confirm:r})},a.closeConfirm=function(){return a.setState({confirmVisible:!1})},a.onClickOverlay=function(e){return e.stopPropagation()},a.state={uri:"",avatar:null,name:"",email:"",errors:[],confirmVisible:!1,confirmType:"",confirmTitle:"",confirmDescription:"",confirm:function(){}},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.token=localStorage.getItem("token"),this.getCurrentAccount()}},{key:"render",value:function(){var e=this.state,t=e.uri,a=e.name,n=e.email,o=e.errors,s=e.confirmVisible,c=e.confirmType,i=e.confirmTitle,l=e.confirmDescription,m=e.confirm;return r.a.createElement("div",{className:"background--edit",onClick:this.closeEditAccount},r.a.createElement("div",{className:"session",onClick:this.onClickOverlay},r.a.createElement("div",{className:"session__title"},"Edit account"),0!==o.length&&r.a.createElement(w,{action:"Registration",errors:o}),r.a.createElement("label",{htmlFor:"avatarForm",className:"session__avatar"},r.a.createElement("input",{id:"avatarForm",type:"file",className:"session__fileField",onChange:this.onChangeFile}),""===t?r.a.createElement(g.a,{icon:["fas","user"],className:"session__fileIcon"}):r.a.createElement("img",{src:t,alt:"avatar",className:"session__preview"})),r.a.createElement("div",{className:"session__fileLabel"},"Upload your avatar"),r.a.createElement("input",{type:"text",className:"session__name",placeholder:"Name",value:a,onChange:this.onChangeName}),r.a.createElement("input",{type:"text",className:"session__email",placeholder:"Email",value:n,onChange:this.onChangeEmail}),r.a.createElement("button",{type:"button",onClick:this.handleUpdate,className:"session__submit"},"Update")),s&&r.a.createElement(N,{type:c,closeConfirm:this.closeConfirm,title:i,description:l,confirm:m}))}}]),t}(n.Component)),Y=(a(84),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(h.a)(this,Object(f.a)(t).call(this,e))).openProjectForm=function(){return a.setState({projectFormVisible:!0})},a.closeProjectForm=function(){return a.setState({projectFormVisible:!1})},a.openResourceForm=function(){return a.setState({resourceFormVisible:!0})},a.closeResourceForm=function(){return a.setState({resourceFormVisible:!1})},a.openEditAccount=function(){return a.setState({editAccuountVisible:!0})},a.closeEditAccount=function(){return a.setState({editAccuountVisible:!1})},a.toggleAccountMenu=function(){var e=a.state.accountMenuVisible;a.setState({accountMenuVisible:!e})},a.changeMode=function(){(0,a.props.changeMode)()},a.signOut=function(){localStorage.removeItem("token"),a.setState({isSignOut:!0})},a.state={projectFormVisible:!1,resourceFormVisible:!1,accountMenuVisible:!1,editAccuountVisible:!1,isSignOut:!1},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.refreshProject,a=e.getProjectIndex,n=e.refreshResource,o=this.state,s=o.projectFormVisible,c=o.resourceFormVisible,i=o.accountMenuVisible,l=o.editAccuountVisible;return o.isSignOut?r.a.createElement(v.a,{to:"/reach/signin"}):r.a.createElement("div",{className:"sidebar"},r.a.createElement("div",{className:"sidebar__iconWrapper--plus",onClick:this.openProjectForm},r.a.createElement(g.a,{icon:["fas","plus"],className:"sidebar__icon"})),r.a.createElement("div",{className:"sidebar__iconWrapper--minus",onClick:this.changeMode},r.a.createElement(g.a,{icon:["fas","minus"],className:"sidebar__icon"})),r.a.createElement("div",{className:"sidebar__iconWrapper--resource",onClick:this.openResourceForm},r.a.createElement(g.a,{icon:["fas","tags"],className:"sidebar__icon"})),r.a.createElement("div",{className:"sidebar__iconWrapper--account",onClick:this.toggleAccountMenu},r.a.createElement(g.a,{icon:["fas","user"],className:"sidebar__icon"})),i&&r.a.createElement("div",{className:"overlay",onClick:this.toggleAccountMenu},r.a.createElement("div",{className:"accountMenu"},r.a.createElement("div",{className:"accountMenu__edit",onClick:this.openEditAccount},"\u30a2\u30ab\u30a6\u30f3\u30c8\u7de8\u96c6"),r.a.createElement("div",{className:"accountMenu__signout",onClick:this.signOut},"\u30b5\u30a4\u30f3\u30a2\u30a6\u30c8"))),s&&r.a.createElement(F,{action:"new",refresh:t,closeModal:this.closeProjectForm}),c&&r.a.createElement(M,{action:"new",refresh:n,closeModal:this.closeResourceForm}),l&&r.a.createElement(U,{refresh:a,closeEditAccount:this.closeEditAccount}))}}]),t}(n.PureComponent)),B=a(32),A=a.n(B),W=(a(61),-1),q=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(h.a)(this,Object(f.a)(t).call(this,e))).getUserIndex=function(){var e=_.buildRequestUrl("/users");fetch(e,{method:"GET",headers:{"X-Reach-token":a.token}}).then((function(e){return e.json()})).then((function(e){var t=e.users;e.is_authenticated?a.setState({users:t}):a.openConfirm("error",j,S,a.closeConfirm)})).catch((function(){a.openConfirm("error",D,O,a.closeConfirm)}))},a.search=function(){var e=a.state,t=e.projectId,n=e.taskName,r=e.startDateFrom,o=e.startDateTo,s=e.endDateFrom,c=e.endDateTo,i=e.extendFrom,l=e.extendTo,m=e.orderDuration,u=e.orderStartDate,d=e.orderEndDate,h=e.orderExtend,f=e.inCharge,p=e.selectedResources,v=_.buildRequestUrl("/tasks/search"),C={project_id:t,task_name:n,start_date:{from:r,to:o,order:u},end_date:{from:s,to:c,order:d},extend:{from:i,to:l,order:h},duration:{order:m},in_charge:f,resources:p};fetch(v,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(C)}).then((function(e){return e.json()})).then((function(e){var t=e.projects;void 0===t?a.openConfirm("error",D,O,a.closeConfirm):(0,a.props.updateProject)(t)})).catch((function(){a.openConfirm("error",D,O,a.closeConfirm)}))},a.sortingByDateRange=function(e){var t=a.state,n=t.startDateFrom,r=t.startDateTo,o=t.endDateFrom,s=t.endDateTo,c=t.extendFrom,i=t.extendTo,l=t.orderStartDate,m=t.orderEndDate,u=t.orderExtend;switch(e){case"start":return{rangeStart:n,rangeEnd:r,onChangeRangeStart:a.onChangeStartDateRangeS,onChangeRangeEnd:a.onChangeStartDateRangeE,order:l};case"end":return{rangeStart:o,rangeEnd:s,onChangeRangeStart:a.onChangeEndDateRangeS,onChangeRangeEnd:a.onChangeEndDateRangeE,order:m};case"extend":return{rangeStart:c,rangeEnd:i,onChangeRangeStart:a.onChangeExtendRangeS,onChangeRangeEnd:a.onChangeExtendRangeE,order:u};default:return{}}},a.openConfirm=function(e,t,n,r){a.setState({confirmVisible:!0,confirmType:e,confirmTitle:t,confirmDescription:n,confirm:r})},a.closeConfirm=function(){return a.setState({confirmVisible:!1})},a.onClickResource=function(){var e=a.state.searchByResourceVisible;a.setState({searchByResourceVisible:!e})},a.onClickName=function(){var e=a.state.searchByNameVisible;a.setState({searchByNameVisible:!e})},a.onClickDate=function(e){var t=e.currentTarget.dataset.type,n=a.state.searchByDateVisible;a.setState({searchByDateVisible:!n,dateType:t})},a.onClickDuration=function(){var e=a.state.searchByDurationVisible;a.setState({searchByDurationVisible:!e})},a.onClickInCharge=function(){var e=a.state.searchByUsersVisible;a.setState({searchByUsersVisible:!e})},a.onChangeOrder=function(){var e=Object(P.a)(V.a.mark((function e(t){var n,r;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.currentTarget.dataset.by,r=t.target.value,e.t0=n,e.next="duration"===e.t0?5:"start"===e.t0?8:"end"===e.t0?11:"extend"===e.t0?14:17;break;case 5:return e.next=7,a.setState({orderDuration:r,orderStartDate:"",orderEndDate:"",orderExtend:""});case 7:return e.abrupt("break",17);case 8:return e.next=10,a.setState({orderDuration:"",orderStartDate:r,orderEndDate:"",orderExtend:""});case 10:return e.abrupt("break",17);case 11:return e.next=13,a.setState({orderDuration:"",orderStartDate:"",orderEndDate:r,orderExtend:""});case 13:return e.abrupt("break",17);case 14:return e.next=16,a.setState({orderDuration:"",orderStartDate:"",orderEndDate:"",orderExtend:r});case 16:return e.abrupt("break",17);case 17:a.search();case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.onChangeProject=function(){var e=Object(P.a)(V.a.mark((function e(t){var n;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.target.value,e.next=3,a.setState({projectId:n});case 3:a.search();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.onChangeTask=function(){var e=Object(P.a)(V.a.mark((function e(t){var n;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.target.value,e.next=3,a.setState({taskName:n});case 3:a.search();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.onChangeStartDateRangeS=function(){var e=Object(P.a)(V.a.mark((function e(t){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.setState({startDateFrom:t});case 2:a.search();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.onChangeStartDateRangeE=function(){var e=Object(P.a)(V.a.mark((function e(t){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.setState({startDateTo:t});case 2:a.search();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.onChangeEndDateRangeS=function(){var e=Object(P.a)(V.a.mark((function e(t){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.setState({endDateFrom:t});case 2:a.search();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.onChangeEndDateRangeE=function(){var e=Object(P.a)(V.a.mark((function e(t){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({endDateTo:t}),a.search();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.onChangeExtendRangeS=function(){var e=Object(P.a)(V.a.mark((function e(t){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.setState({extendFrom:t});case 2:a.search();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.onChangeExtendRangeE=function(){var e=Object(P.a)(V.a.mark((function e(t){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.setState({extendTo:t});case 2:a.search();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.onClickAvatar=function(){var e=Object(P.a)(V.a.mark((function e(t){var n,r,o,s;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.state.inCharge,r=n,o=t.currentTarget.dataset.id,(s=n.indexOf(o))===W?r.push(o):r.splice(s,1),e.next=7,a.setState({inCharge:r});case 7:a.search();case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.onClickResourceIcon=function(){var e=Object(P.a)(V.a.mark((function e(t){var n,r,o,s;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.state.selectedResources,r=n,o=t.currentTarget.dataset.id,(s=n.indexOf(o))===W?r.push(o):r.splice(s,1),e.next=7,a.setState({selectedResources:r});case 7:a.search();case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.clearSearchName=Object(P.a)(V.a.mark((function e(){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.setState({taskName:"",projectId:"",searchByNameVisible:!1});case 2:a.search();case 3:case"end":return e.stop()}}),e)}))),a.clearSearchStartDate=Object(P.a)(V.a.mark((function e(){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.setState({startDateFrom:"",startDateTo:"",orderStartDate:"",searchByDateVisible:!1});case 2:a.search();case 3:case"end":return e.stop()}}),e)}))),a.clearSearchEndDate=Object(P.a)(V.a.mark((function e(){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.setState({endDateFrom:"",endDateTo:"",orderEndDate:"",searchByDateVisible:!1});case 2:a.search();case 3:case"end":return e.stop()}}),e)}))),a.clearSearchExtend=Object(P.a)(V.a.mark((function e(){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.setState({extendFrom:"",extendTo:"",orderExtend:"",searchByDateVisible:!1});case 2:a.search();case 3:case"end":return e.stop()}}),e)}))),a.clearSearchDuration=Object(P.a)(V.a.mark((function e(){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.setState({orderDuration:"",searchByDurationVisible:!1});case 2:a.search();case 3:case"end":return e.stop()}}),e)}))),a.clearSearchInCharge=Object(P.a)(V.a.mark((function e(){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.setState({inCharge:[],searchByUsersVisible:!1});case 2:a.search();case 3:case"end":return e.stop()}}),e)}))),a.closeAllModal=function(){a.setState({searchByNameVisible:!1,searchByDateVisible:!1,searchByDurationVisible:!1,searchByUsersVisible:!1,searchByResourceVisible:!1})},a.stopPropagation=function(e){return e.stopPropagation()},a.token=localStorage.getItem("token"),a.state={users:[],searchByNameVisible:!1,searchByDateVisible:!1,searchByDurationVisible:!1,searchByUsersVisible:!1,searchByResourceVisible:!1,dateType:"",projectId:"",taskName:"",startDateFrom:"",startDateTo:"",endDateFrom:"",endDateTo:"",extendFrom:"",extendTo:"",orderDuration:"",orderStartDate:"",orderEndDate:"",orderExtend:"",inCharge:[],selectedResources:[],confirmVisible:!1,confirmType:"",confirmTitle:"",confirmDescription:"",confirm:function(){}},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.getUserIndex()}},{key:"render",value:function(){var e=this.props,t=e.projects,a=e.resources,n=this.state,o=n.users,s=n.searchByNameVisible,c=n.searchByDateVisible,i=n.searchByDurationVisible,l=n.searchByUsersVisible,m=n.searchByResourceVisible,u=n.projectId,d=n.taskName,h=n.dateType,f=n.startDateFrom,p=n.startDateTo,v=n.endDateFrom,C=n.endDateTo,k=n.extendFrom,E=n.extendTo,g=n.orderStartDate,_=n.orderEndDate,b=n.orderExtend,y=n.orderDuration,w=n.inCharge,j=n.selectedResources,S=n.confirmVisible,D=n.confirmType,O=n.confirmTitle,R=n.confirmDescription,x=n.confirm,F=0===j.length?"resourceIcon":"resourceIcon--selected",T=this.sortingByDateRange(h),V=T.rangeStart,P=T.rangeEnd,M=T.onChangeRangeStart,I=T.onChangeRangeEnd,U=T.order;return r.a.createElement("div",{className:"gantt-index-header"},r.a.createElement("div",{className:"gantt-index-header__resource"},r.a.createElement("div",{className:F,onClick:this.onClickResource})),r.a.createElement("div",{className:"gantt-index-header__name"},""===u&&""===d?r.a.createElement("span",{className:"gantt-index-header__label",onClick:this.onClickName},"\u30bf\u30a4\u30c8\u30eb"):r.a.createElement("div",{className:"selected"},r.a.createElement("span",{className:"selected__label",onClick:this.onClickName},"Name"),r.a.createElement("span",{className:"selected__clear",onClick:this.clearSearchName},"\xd7"))),r.a.createElement("div",{className:"gantt-index-header__startDate"},""===f&&""===p&&""===g?r.a.createElement("span",{className:"gantt-index-header__label","data-type":"start",onClick:this.onClickDate},"\u958b\u59cb\u65e5"):r.a.createElement("div",{className:"selected"},r.a.createElement("span",{className:"selected__label","data-type":"start",onClick:this.onClickDate},"\u958b\u59cb\u65e5"),r.a.createElement("span",{className:"selected__clear",onClick:this.clearSearchStartDate},"\xd7"))),r.a.createElement("div",{className:"gantt-index-header__endDate"},""===v&&""===C&&""===_?r.a.createElement("span",{className:"gantt-index-header__label","data-type":"end",onClick:this.onClickDate},"\u7d42\u4e86\u65e5"):r.a.createElement("div",{className:"selected"},r.a.createElement("span",{className:"selected__label","data-type":"end",onClick:this.onClickDate},"\u7d42\u4e86\u65e5"),r.a.createElement("span",{className:"selected__clear",onClick:this.clearSearchEndDate},"\xd7"))),r.a.createElement("div",{className:"gantt-index-header__extend"},""===k&&""===E&&""===b?r.a.createElement("span",{className:"gantt-index-header__label","data-type":"extend",onClick:this.onClickDate},"\u5ef6\u9577"):r.a.createElement("div",{className:"selected"},r.a.createElement("span",{className:"selected__label","data-type":"extend",onClick:this.onClickDate},"\u5ef6\u9577"),r.a.createElement("span",{className:"selected__clear",onClick:this.clearSearchExtend},"\xd7"))),r.a.createElement("div",{className:"gantt-index-header__duration"},""===y?r.a.createElement("span",{className:"gantt-index-header__label",onClick:this.onClickDuration},"\u671f\u9593"):r.a.createElement("div",{className:"selected"},r.a.createElement("span",{className:"selected__label",onClick:this.onClickDuration},"\u671f\u9593"),r.a.createElement("span",{className:"selected__clear",onClick:this.clearSearchDuration},"\xd7"))),r.a.createElement("div",{className:"gantt-index-header__inCharge"},0===w.length?r.a.createElement("span",{className:"gantt-index-header__label",onClick:this.onClickInCharge},"\u62c5\u5f53"):r.a.createElement("div",{className:"selected"},r.a.createElement("span",{className:"selected__label",onClick:this.onClickInCharge},"\u62c5\u5f53"),r.a.createElement("span",{className:"selected__clear",onClick:this.clearSearchInCharge},"\xd7"))),m&&r.a.createElement("div",{className:"overlay",onClick:this.closeAllModal},r.a.createElement(z,{resources:a,selectedResources:j,onClickResource:this.onClickResourceIcon,stopPropagation:this.stopPropagation})),s&&r.a.createElement("div",{className:"overlay",onClick:this.closeAllModal},r.a.createElement(G,{projectId:u,projects:t,onChangeProject:this.onChangeProject,taskName:d,onChangeTask:this.onChangeTask,stopPropagation:this.stopPropagation})),c&&r.a.createElement("div",{className:"overlay",onClick:this.closeAllModal},r.a.createElement(H,{dateType:h,rangeStart:V,rangeEnd:P,onChangeRangeStart:M,onChangeRangeEnd:I,onChangeOrder:this.onChangeOrder,selected:U,stopPropagation:this.stopPropagation})),i&&r.a.createElement("div",{className:"overlay",onClick:this.closeAllModal},r.a.createElement(L,{onChangeOrder:this.onChangeOrder,selected:y,stopPropagation:this.stopPropagation})),l&&r.a.createElement("div",{className:"overlay",onClick:this.closeAllModal},r.a.createElement(K,{users:o,inCharge:w,onClickAvatar:this.onClickAvatar,stopPropagation:this.stopPropagation})),S&&r.a.createElement(N,{type:D,closeConfirm:this.closeConfirm,title:O,description:R,confirm:x}))}}]),t}(n.Component),X=function(e){var t=e.onChangeOrder,a=e.by,n=e.selected;return r.a.createElement("select",{"data-by":a,value:n,onChange:t,className:"search__order"},r.a.createElement("option",{key:"default",value:null,"aria-label":"order"}),[{label:"\u6607\u9806",value:"ASC"},{label:"\u964d\u9806",value:"DESC"}].map((function(e){return r.a.createElement("option",{key:e.label,value:e.value},e.label)})))},L=function(e){var t=e.onChangeOrder,a=e.selected,n=e.stopPropagation;return r.a.createElement("div",{className:"search--duration",onClick:n},r.a.createElement("div",{className:"search__label"},"\u4e26\u3079\u66ff\u3048"),r.a.createElement(X,{by:"duration",onChangeOrder:t,selected:a}),r.a.createElement("div",{className:"search__divide"}))},H=function(e){var t=e.rangeStart,a=e.rangeEnd,n=e.onChangeRangeStart,o=e.onChangeRangeEnd,s=e.dateType,c=e.onChangeOrder,i=e.order,l=e.stopPropagation,m="search--".concat(s);return r.a.createElement("div",{className:m,onClick:l},r.a.createElement("div",{className:"search__label"},"\u4e26\u3079\u66ff\u3048"),r.a.createElement(X,{by:s,onChangeOrder:c,selected:i}),r.a.createElement("div",{className:"search__divide"}),r.a.createElement("div",{className:"search__label"},"\u8868\u793a\u3059\u308b\u671f\u9593\u3092\u6307\u5b9a"),r.a.createElement("div",{className:"search__dateWrapper"},r.a.createElement(A.a,{className:"search__dateRange",dateFormat:"yyyy/MM/dd",showWeekNumbers:!0,placeholderText:"\u7bc4\u56f2\u306e\u958b\u59cb\u65e5",selected:t,onChange:n}),r.a.createElement(A.a,{className:"search__dateRange",dateFormat:"yyyy/MM/dd",showWeekNumbers:!0,placeholderText:"\u7bc4\u56f2\u306e\u7d42\u4e86\u65e5",selected:a,onChange:o})))},G=function(e){var t=e.projectId,a=e.projects,n=e.onChangeProject,o=e.taskName,s=e.onChangeTask,c=e.stopPropagation;return r.a.createElement("div",{className:"search--name",onClick:c},r.a.createElement("div",{className:"search__label"},"\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u9078\u629e"),r.a.createElement("select",{value:t,onChange:n,className:"search__project"},r.a.createElement("option",{key:"default",value:null,"aria-label":"selectProject"}),a.map((function(e){return r.a.createElement("option",{key:e.name,value:e.id},e.name)}))),r.a.createElement("div",{className:"search__divide"}),r.a.createElement("div",{className:"search__label"},"\u30bf\u30b9\u30af\u540d\u3067\u691c\u7d22"),r.a.createElement("input",{type:"text",className:"search__task",value:o,onChange:s}))},J=function(e){var t=e.users,a=e.onClickAvatar,n=e.inCharge;return t.map((function(e){var t=n.indexOf(String(e.id));return r.a.createElement("div",{key:e.id,className:"avatar"},r.a.createElement("div",{"data-id":e.id,onClick:a,className:"avatar__wrapper"},r.a.createElement("img",{src:e.avatar,alt:e.name,className:"avatar__image"}),t!==W&&r.a.createElement("div",{className:"avatar__selected"})),r.a.createElement("div",{className:"avatar__name"},e.name))}))},K=function(e){var t=e.users,a=e.inCharge,n=e.onClickAvatar,o=e.stopPropagation;return r.a.createElement("div",{className:"search--user",onClick:o},r.a.createElement("div",{className:"search__label"},"\u62c5\u5f53\u3067\u7d5e\u308a\u8fbc\u307f"),r.a.createElement("div",{className:"search__usersWrapper"},r.a.createElement(J,{users:t,inCharge:a,onClickAvatar:n})))},$=function(e){var t=e.resources,a=e.selectedResources,n=e.onClickResource;return t.map((function(e){var t=a.indexOf(String(e.id));return r.a.createElement("div",{key:e.id,className:"resource"},r.a.createElement("div",{"data-id":e.id,onClick:n,className:"resource__wrapper"},r.a.createElement("div",{className:"resource__icon",style:{backgroundColor:e.color}}),t!==W&&r.a.createElement("div",{className:"resource__selected"})),r.a.createElement("div",{className:"resource__name"},e.name))}))},z=function(e){var t=e.resources,a=e.selectedResources,n=e.onClickResource,o=e.stopPropagation;return r.a.createElement("div",{className:"search--resource",onClick:o},r.a.createElement("div",{className:"search__label"},"\u30ea\u30bd\u30fc\u30b9\u3067\u7d5e\u308a\u8fbc\u307f"),r.a.createElement("div",{className:"search__resourceWrapper"},r.a.createElement($,{resources:t,selectedResources:a,onClickResource:n})))},Q=(a(130),function(e){var t=e.members;return t.map((function(e,a){return a>3?null:a<3?r.a.createElement("img",{key:e.name,src:e.avatar,alt:e.name,className:"task__avatar"}):r.a.createElement("div",{key:String(a),className:"task__avatar--length"},t.length)}))}),Z=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(h.a)(this,Object(f.a)(t).call(this,e))).handleDestroy=function(e){e.stopPropagation(),a.token=localStorage.getItem("token");var t=e.currentTarget.dataset.id,n=_.buildRequestUrl("/tasks/".concat(t));fetch(n,{method:"DELETE",headers:{"X-Reach-token":a.token}}).then((function(e){return e.json()})).then((function(e){var t=e.is_delete,n=e.task;if(t){var r=a.props,o=r.index;(0,r.refresh)(n,o,"destroy")}else a.openConfirm("error",j,S,a.closeConfirm)})).catch((function(){a.openConfirm("error",D,O,a.closeConfirm)}))},a.openConfirm=function(e,t,n,r){a.setState({confirmVisible:!0,confirmType:e,confirmTitle:t,confirmDescription:n,confirm:r})},a.closeConfirm=function(){return a.setState({confirmVisible:!1})},a.onClickOverlay=function(e){return e.stopPropagation()},a.state={confirmVisible:!1,confirmType:"",confirmTitle:"",confirmDescription:"",confirm:function(){}},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.tasks,n=t.onClick,o=t.destroyMode,s=this.state,c=s.confirmVisible,i=s.confirmType,l=s.confirmTitle,m=s.confirmDescription,u=s.confirm;return a.map((function(t){var a="progress"===t.percentComplete?"task":"task--complete";return r.a.createElement("div",{key:t.id,"data-action":"edit","data-id":t.id,className:a,onClick:n},r.a.createElement("div",{className:"task__icon",onClick:e.onClickOverlay},o?r.a.createElement(g.a,{"data-id":t.id,icon:["fas","minus-circle"],className:"task__delete",onClick:e.handleDestroy}):r.a.createElement("div",{className:"task__resource",style:{backgroundColor:t.resource.color}})),r.a.createElement("div",{className:"task__name"},t.name),r.a.createElement("div",{className:"task__startDate"},t.startDate),r.a.createElement("div",{className:"task__endDate"},t.endDate),r.a.createElement("div",{className:"task__extend"},t.extend),r.a.createElement("div",{className:"task__duration"},t.duration),r.a.createElement("div",{className:"task__inCharge"},r.a.createElement(Q,{members:t.users})),c&&r.a.createElement(N,{type:i,closeConfirm:e.closeConfirm,title:l,description:m,confirm:u}))}))}}]),t}(n.Component),ee=-1,te=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(h.a)(this,Object(f.a)(t).call(this,e))).getTaskFormValue=function(){a.token=localStorage.getItem("token");var e=_.buildRequestUrl("/tasks/new");fetch(e,{method:"GET",headers:{"X-Reach-token":a.token}}).then((function(e){return e.json()})).then((function(e){var t=e.is_authenticated,n=e.resources,r=e.users;t?a.setState({resources:n,users:r}):a.openConfirm("error",j,S,a.closeConfirm)})).catch((function(){a.openConfirm("error",D,O,a.closeConfirm)}))},a.editTaskFormValue=function(e){a.token=localStorage.getItem("token");var t=_.buildRequestUrl("/tasks/".concat(e,"/edit"));fetch(t,{method:"GET",headers:{"X-Reach-token":a.token}}).then((function(e){return e.json()})).then((function(e){var t=e.is_authenticated,n=e.resources,r=e.users;if(t){var o=e.task,s=o.description,c=o.startDate,i=o.endDate,l=o.extend,m=o.name,u=o.percentComplete,d=o.userIds,h=o.resourceId,f="complete"===u,p=d.map((function(e){return String(e)}));a.setState({resources:n,users:r,name:m,complete:f,description:s,startDate:new Date(c),endDate:l?new Date(l):new Date(i),inCharge:p,resource:h})}else a.openConfirm("error",j,S,a.closeConfirm)})).catch((function(){a.openConfirm("error",D,O,a.closeConfirm)}))},a.openConfirm=function(e,t,n,r){a.setState({confirmVisible:!0,confirmType:e,confirmTitle:t,confirmDescription:n,confirm:r})},a.closeConfirm=function(){return a.setState({confirmVisible:!1})},a.onChangeName=function(e){var t=e.target.value;a.setState({name:t})},a.onChangeResource=function(e){var t=e.target.value;a.setState({resource:t})},a.onChangeStartDate=function(e){a.setState({startDate:e})},a.onChangeEndDate=function(e){a.setState({endDate:e})},a.onCheck=function(){var e=a.state.complete;a.setState({complete:!e})},a.onClickAvatar=function(e){var t=a.state.inCharge,n=t,r=e.currentTarget.dataset.id,o=t.indexOf(r);o===ee?n.push(r):n.splice(o,1),a.setState({inCharge:n})},a.onChangeDescription=function(e){var t=e.target.value;a.setState({description:t})},a.createTask=function(){var e=a.props,t=e.id,n=e.taskID,r=e.action,o=a.state,s=o.name,c=o.resource,i=o.startDate,l=o.endDate,m=o.complete,u=o.inCharge,d=o.description,h=_.preparingRequest(r,n,"tasks");if(null!==h){var f=_.buildRequestUrl(h.uriPattern),p={name:s,description:d,duration:E()(l).diff(E()(i),"days"),percent_complete:m?"complete":"progress",resource_id:c,project_id:t,start_date:i,end_date:l,user_ids:u};"edit"===r&&(p.extend=l,delete p.end_date),fetch(f,{method:h.method,headers:{"X-Reach-token":a.token,"Content-Type":"application/json"},body:JSON.stringify(p)}).then((function(e){return e.json()})).then((function(e){var t=e.is_created,n=e.errors,o=e.task;if(t){var s=a.props;(0,s.refresh)(o,s.index,r),a.setState({errors:[]})}else a.setState({errors:n})})).catch((function(){a.openConfirm("error",D,O,a.closeConfirm)}))}},a.state={resources:[],users:[],name:"",resource:"",startDate:null,endDate:null,complete:!1,inCharge:[],description:"",errors:[],confirmVisible:!1,confirmType:"",confirmTitle:"",confirmDescription:"",confirm:function(){}},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.taskID,a=e.action;"new"===a?this.getTaskFormValue():"edit"===a&&this.editTaskFormValue(t)}},{key:"render",value:function(){var e=this.props,t=e.closeModal,a=e.action,n="edit"===a?"Update":"Add",o=this.state,s=o.users,c=o.resources,i=o.resource,l=o.name,m=o.startDate,u=o.endDate,d=o.complete,h=o.inCharge,f=o.description,p=o.errors,v=o.confirmVisible,C=o.confirmType,k=o.confirmTitle,E=o.confirmDescription,_=o.confirm;return r.a.createElement("div",{className:"taskForm"},r.a.createElement("div",{className:"taskForm__close",onClick:t},"\xd7"),r.a.createElement("div",{className:"taskForm__title"},n,"Task"),0!==p.length&&r.a.createElement(w,{action:"Task creation",errors:p}),r.a.createElement("div",{className:"taskFormRow"},r.a.createElement("div",{className:"taskFormRow__label"},"\u30bf\u30a4\u30c8\u30eb"),r.a.createElement("input",{type:"text",className:"taskFormRow__name",value:l,onChange:this.onChangeName})),r.a.createElement("div",{className:"taskFormRow"},r.a.createElement("div",{className:"taskFormRow__label"},"\u30ea\u30bd\u30fc\u30b9"),r.a.createElement("select",{value:i,onChange:this.onChangeResource,className:"taskFormRow__resource"},r.a.createElement("option",{key:"default",value:null,"aria-label":"...select"}),r.a.createElement(ae,{resources:c})),r.a.createElement("div",{className:"taskFormRow__divide"})),r.a.createElement("div",{className:"taskFormRow"},r.a.createElement("div",{className:"taskFormRow__label"},"\u958b\u59cb\u65e5"),r.a.createElement(A.a,{className:"taskFormRow__date",dateFormat:"yyyy/MM/dd",showWeekNumbers:!0,selected:m,onChange:this.onChangeStartDate})),r.a.createElement("div",{className:"taskFormRow"},r.a.createElement("div",{className:"taskFormRow__label"},"\u7d42\u4e86\u65e5"),r.a.createElement(A.a,{className:"taskFormRow__date",dateFormat:"yyyy/MM/dd",showWeekNumbers:!0,selected:u,onChange:this.onChangeEndDate})),"edit"===a&&r.a.createElement("div",{className:"taskFormRow"},r.a.createElement("div",{className:"taskFormRow__label"},"\u5b8c\u4e86"),r.a.createElement("div",{className:"taskFormRow__complete",onClick:this.onCheck},r.a.createElement("div",{className:"taskFormRow__checkbox"},r.a.createElement(g.a,{icon:["far","square"]}),d&&r.a.createElement(g.a,{icon:["fas","check"],className:"taskFormRow__checked"})))),r.a.createElement("div",{className:"taskFormRow"},r.a.createElement("div",{className:"taskFormRow__label"},"\u62c5\u5f53"),r.a.createElement("div",{className:"taskFormRow__inCharge"},r.a.createElement(ne,{users:s,inCharge:h,onClickAvatar:this.onClickAvatar}))),r.a.createElement("div",{className:"taskFormRow"},r.a.createElement("div",{className:"taskFormRow__label"},"\u8aac\u660e"),r.a.createElement("textarea",{className:"taskFormRow__description",value:f,onChange:this.onChangeDescription})),r.a.createElement("button",{type:"button",onClick:this.createTask,className:"taskForm__button"},n),v&&r.a.createElement(N,{type:C,closeConfirm:this.closeConfirm,title:k,description:E,confirm:_}))}}]),t}(n.Component),ae=function(e){return e.resources.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.name)}))},ne=function(e){var t=e.users,a=e.onClickAvatar,n=e.inCharge;return t.map((function(e){var t=n.indexOf(String(e.id));return r.a.createElement("div",{key:e.id,className:"avatar"},r.a.createElement("div",{"data-id":e.id,onClick:a,className:"avatar__wrapper"},r.a.createElement("img",{src:e.avatar,alt:e.name,className:"avatar__image"}),t!==ee&&r.a.createElement("div",{className:"avatar__selected"})),r.a.createElement("div",{className:"avatar__name"},e.name))}))},re=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(h.a)(this,Object(f.a)(t).call(this,e))).handleIndex=function(){var e=a.props.id,t=_.buildRequestUrl("/projects/".concat(e,"/attachments"));fetch(t,{method:"GET",headers:{"X-Reach-token":a.token}}).then((function(e){return e.json()})).then((function(e){var t=e.attachments;e.is_authenticated?a.setState({attachments:t}):a.openConfirm()})).catch((function(){a.openConfirm()}))},a.handleCreate=function(){var e=a.state,t=e.name,n=e.link,r=e.attachments,o=a.props.id,s=_.buildRequestUrl("/projects/".concat(o,"/attachments")),c={name:t,url:n};fetch(s,{method:"POST",headers:{"X-Reach-token":a.token,"Content-Type":"application/json"},body:JSON.stringify(c)}).then((function(e){return e.json()})).then((function(e){var t=e.is_created,n=e.errors,o=e.attachment;if(t){var s=r.slice();s.push(o),a.setState({attachments:s})}else a.setState({errors:n})})).catch((function(){a.openConfirm()}))},a.handleDestroy=function(e){var t=e.currentTarget.dataset.id,n=_.buildRequestUrl("/attachments/".concat(t));fetch(n,{method:"DELETE",headers:{"X-Reach-token":a.token}}).then((function(e){return e.json()})).then((function(e){if(e){var n=a.state.attachments.filter((function(e){return String(e.id)!==t}));a.setState({attachments:n})}else a.openConfirm()})).catch((function(){a.openConfirm()}))},a.openConfirm=function(){return a.setState({confirmVisible:!0})},a.closeConfirm=function(){return a.setState({confirmVisible:!1})},a.onChangeName=function(e){var t=e.target.value;a.setState({name:t})},a.onChangeUrl=function(e){var t=e.target.value;a.setState({link:t})},a.stopPropagation=function(e){return e.stopPropagation()},a.token=localStorage.getItem("token"),a.state={attachments:[],name:"",link:"",errors:[],confirmVisible:!1},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.handleIndex()}},{key:"render",value:function(){var e=this,t=this.props.closeModal,a=this.state,n=a.attachments,o=a.name,s=a.link,c=a.errors,i=a.confirmVisible;return r.a.createElement("div",{className:"modalOverlay",onClick:t},r.a.createElement("div",{className:"modalForm",onClick:this.stopPropagation},r.a.createElement("div",{className:"modalForm__title"},"Attachments"),0!==c.length&&r.a.createElement(w,{action:"Add link",errors:c}),r.a.createElement("div",{className:"modalFormUrl"},r.a.createElement("input",{type:"text",className:"modalFormUrl__name",placeholder:"Label",value:o,onChange:this.onChangeName}),r.a.createElement("input",{type:"text",className:"modalFormUrl__url",placeholder:"URL",value:s,onChange:this.onChangeUrl}),r.a.createElement(g.a,{icon:["fas","plus-circle"],className:"modalFormUrl__add",onClick:this.handleCreate})),r.a.createElement("div",{className:"urlIndex"},n.map((function(t){return r.a.createElement("div",{className:"urlList",key:t.id},r.a.createElement(g.a,{icon:["fas","link"],className:"urlList__icon"}),r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:t.url,className:"urlList__link"},t.name),r.a.createElement(g.a,{icon:["fas","trash-alt"],className:"urlList__delete","data-id":t.id,onClick:e.handleDestroy}))})))),i&&r.a.createElement(N,{type:"error",closeConfirm:this.closeConfirm,title:j,description:S,confirm:this.closeConfirm}))}}]),t}(n.Component),oe=(a(62),function(e){function t(e){var a;Object(u.a)(this,t),(a=Object(h.a)(this,Object(f.a)(t).call(this,e))).openModal=function(e){a.id=e.currentTarget.dataset.id||null,a.action=e.currentTarget.dataset.action,a.setState({isVisible:!0})},a.closeModal=function(){return a.setState({isVisible:!1})},a.openProjectForm=function(){return a.setState({projectFormVisible:!0})},a.closeProjectForm=function(){return a.setState({projectFormVisible:!1})},a.openLinkForm=function(){return a.setState({linkFormVisible:!0})},a.closeLinkForm=function(){return a.setState({linkFormVisible:!1})},a.updateProject=function(e){return a.setState({name:e})};var n=a.props.project;return a.state={name:n.name,isVisible:!1,projectFormVisible:!1,linkFormVisible:!1},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.project,a=e.index,n=e.refreshTask,o=e.destroyMode,s=e.refreshProject,c=t.tasks,i=t.id,l=this.state,m=l.isVisible,u=l.projectFormVisible,d=l.linkFormVisible,h=l.name;return r.a.createElement("div",{key:h,className:"project"},r.a.createElement("div",{className:"projectHeader"},r.a.createElement("div",{className:"projectHeader__name"},h),r.a.createElement(g.a,{icon:["fas","edit"],className:"projectHeader__edit",onClick:this.openProjectForm}),r.a.createElement(g.a,{icon:["fas","plus"],"data-action":"new",className:"projectHeader__addTask",onClick:this.openModal}),r.a.createElement(g.a,{icon:["fas","link"],className:"projectHeader__link",onClick:this.openLinkForm})),c&&r.a.createElement(Z,{destroyMode:o,index:a,refresh:n,tasks:c,onClick:this.openModal}),m&&r.a.createElement(te,{id:i,action:this.action,taskID:this.id,refresh:n,index:a,closeModal:this.closeModal}),u&&r.a.createElement(F,{id:i,refreshProject:s,refresh:this.updateProject,action:"edit",closeModal:this.closeProjectForm}),d&&r.a.createElement(re,{id:i,closeModal:this.closeLinkForm}))}}]),t}(n.Component)),se=function(e){var t=e.projects,a=e.refreshTask,n=e.mode,o=e.refreshProject;return t.map((function(e,t){return r.a.createElement(oe,{refreshTask:a,refreshProject:o,project:e,key:e.name,index:t,destroyMode:n})}))},ce=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(h.a)(this,Object(f.a)(t).call(this,e))).toggleResourceForm=function(){var e=a.state.resourceFormVisible;a.setState({resourceFormVisible:!e})},a.state={resourceFormVisible:!1},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.state.resourceFormVisible,t=this.props,a=t.resource,n=t.refresh;return r.a.createElement("div",{className:"resource__wrapper",onClick:this.toggleResourceForm},r.a.createElement("div",{className:"resource__icon",style:{backgroundColor:a.color}}),r.a.createElement("div",{className:"resource__name"},a.name),e&&r.a.createElement(M,{id:a.id,action:"edit",refresh:n,closeModal:this.toggleResourceForm}))}}]),t}(n.Component),ie=(a(131),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(h.a)(this,Object(f.a)(t).call(this,e))).onMouseEnter=function(e){var t=window.innerWidth<e.clientX+300,n=window.innerHeight<e.clientY+300,r=t?e.clientX-230:e.clientX,o=n?e.clientY-150:e.clientY;a.setState({isHover:!0,offsetX:r,offsetY:o})},a.onMouseLeave=function(){return a.setState({isHover:!1})},a.state={isHover:!1,offsetX:0,offsetY:0},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.chartWidth,a=e.data,n=this.state,o=n.isHover,s=n.offsetX,c=n.offsetY;return r.a.createElement("div",{style:{width:t,backgroundColor:a.resource.color},className:"chartbar",onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},o&&r.a.createElement(me,{data:a,offsetX:s,offsetY:c}))}}]),t}(n.PureComponent)),le=function(e){return e.users.map((function(e){return r.a.createElement("div",{key:e.name,className:"windowMembers__name"},e.name)}))},me=function(e){var t=e.data,a=e.offsetX,n=e.offsetY;return r.a.createElement("div",{className:"window",style:{top:n,left:a}},r.a.createElement("div",{className:"windowRow"},r.a.createElement("div",{className:"windowRow__label"},"\u30bf\u30a4\u30c8\u30eb:"),r.a.createElement("div",{className:"windowRow__name"},t.name)),r.a.createElement("div",{className:"windowRow"},r.a.createElement("div",{className:"windowRow__label"},"\u958b\u59cb\u65e5:"),r.a.createElement("div",{className:"window__startDate"},t.startDate)),r.a.createElement("div",{className:"windowRow"},r.a.createElement("div",{className:"windowRow__label"},"\u7d42\u4e86\u65e5:"),r.a.createElement("div",{className:"window__endDate"},t.endDate)),r.a.createElement("div",{className:"windowRow"},r.a.createElement("div",{className:"windowRow__label"},"\u5ef6\u9577:"),r.a.createElement("div",{className:"window__extend"},t.extend)),r.a.createElement("div",{className:"windowRow"},r.a.createElement("div",{className:"windowRow__label"},"\u671f\u9593:"),r.a.createElement("div",{className:"window__duration"},t.duration)),r.a.createElement("div",{className:"windowRow"},r.a.createElement("div",{className:"windowRow__label"},"\u9032\u6357:"),r.a.createElement("div",{className:"window__progress"},t.percentComplete)),r.a.createElement("div",{className:"windowRow"},r.a.createElement("div",{className:"windowRow__label"},"\u62c5\u5f53:"),r.a.createElement("div",{className:"windowMembers"},r.a.createElement(le,{users:t.users}))),r.a.createElement("div",{className:"windowCol"},r.a.createElement("div",{className:"windowCol__label"},"\u8aac\u660e:"),r.a.createElement("div",{className:"windowCol__description"},t.description)))},ue=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(h.a)(this,Object(f.a)(t).call(this,e))).calcOffset=function(e){var t=E()(new Date).subtract(2,"weeks");return(E()(e.startDate,"YYYY/MM/DD").startOf("days").diff(t,"days")+1)*a.baseChartWidth},a.calcOffsetForWeeks=function(e){return Math.ceil(E()(e.startDate,"YYYY/MM/DD").startOf("week").diff(a.start,"weeks",!0))*a.baseChartWidth},a.calcChartWidthForWeeks=function(e){var t=e.extend||e.endDate,a=E()(e.startDate,"YYYY/MM/DD").startOf("week"),n=E()(t,"YYYY/MM/DD").endOf("week");return Math.ceil(n.diff(a,"weeks",!0))},a.isBefore=function(e){var t=E()(new Date).subtract(2,"weeks");E()(e.startDate,"YYYY/MM/DD").startOf("day").isBefore(t.startOf("day"))},a.isBeforeForWeek=function(e){return E()(e.startDate,"YYYY/MM/DD").isBefore(a.start.startOf("week"))},a.start=_.dateRangeStart(),a.baseChartWidth=45,a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.scheduleType;return t.tasks.map((function(t){var n="days"===a?e.calcOffset(t):e.calcOffsetForWeeks(t),o="days"===a?t.duration:e.calcChartWidthForWeeks(t);e.isBefore(t)&&"days"===a?(o-=Math.ceil(e.start.diff(E()(t.startDate,"YYYY/MM/DD").startOf("days"),"days",!0)),o+=1):e.isBeforeForWeek(t)&&"weeks"===a?o-=Math.ceil(e.start.diff(E()(t.startDate,"YYYY/MM/DD"),"week",!0)):"days"===a&&(o+=1);var s=e.baseChartWidth*o,c="progress"===t.percentComplete?"task":"task--complete";return r.a.createElement("div",{key:t.id,style:{paddingLeft:n},className:c},r.a.createElement(ie,{chartWidth:s,data:t}))}))}}]),t}(n.Component),de=function(e){return e.projects.map((function(t){return r.a.createElement("div",{key:t.name,className:"project"},r.a.createElement("div",{className:"projectHeader"}),t.tasks&&r.a.createElement(ue,{tasks:t.tasks,scheduleType:e.scheduleType}))}))},he=(a(132),E()(new Date).subtract(2,"weeks")),fe=_.dateRangeEnd(),pe=function(e,t){var a={};if("days"===t)a.formatDate=e.format("MMM D"),a.className="gantt-schedule-header__date".concat(function(e){switch(e.get("day")){case 0:return"--sun";case 6:return"--sat";default:return""}}(e));else{var n=e.startOf("week");a.formatDate="W".concat(e.format("W")," ").concat(n.format("M/D")),a.className="gantt-schedule-header__week"}return a},ve=function(e){for(var t=e.scheduleType,a=[],n=E()(he);n<=fe;n.add(1,t)){var o=pe(n,t);a.push(r.a.createElement("div",{className:o.className,key:n.format("YYYYMMDD")},o.formatDate))}return a},Ce=function(e){var t=e.scheduleType,a=e.onClick,n=e.resources,o=e.refreshResource,s={weeks:"switchView__button",days:"switchView__button"};return"weeks"===t?s.weeks+="--disable":"days"===t&&(s.days+="--disable"),r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"switchView"},r.a.createElement("div",{className:s.weeks,onClick:a,onKeyUp:a,"data-type":"weeks",role:"link",tabIndex:"0"},"Week"),r.a.createElement("div",{className:"switchView__divider"},"|"),r.a.createElement("div",{className:s.days,onClick:a,onKeyUp:a,"data-type":"days",role:"link",tabIndex:"0"},"Day")),r.a.createElement("div",{className:"resource"},n.map((function(e){return r.a.createElement(ce,{refresh:o,key:e.id,resource:e})}))))},ke=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(h.a)(this,Object(f.a)(t).call(this,e))).getProjectIndex=function(){var e=_.buildRequestUrl("/projects"),t=localStorage.getItem("token");fetch(e,{method:"GET",headers:{"X-Reach-token":t}}).then((function(e){return e.json()})).then((function(e){var t=e.is_authenticated,n=e.projects,r=e.resources;t?a.setState({projects:n,resources:r}):a.openConfirm("error",j,S,a.closeConfirm)})).catch((function(){a.openConfirm("error",D,O,a.closeConfirm)}))},a.changeScheduleType=function(e){var t=e.target.dataset.type;a.setState({type:t})},a.changeMode=function(){var e=a.state.destroyMode;a.setState({destroyMode:!e})},a.openConfirm=function(e,t,n,r){a.setState({confirmVisible:!0,confirmType:e,confirmTitle:t,confirmDescription:n,confirm:r})},a.closeConfirm=function(){return a.setState({confirmVisible:!1})},a.updateProject=function(e){return a.setState({projects:e})},a.refreshResource=function(e){var t=a.state.resources.slice();t.push(e),a.setState({resources:t})},a.refreshProject=function(e,t){var n=a.state.projects;if("new"===t){var r=n.slice();r.push(e),a.updateProject(r)}else if("destroy"===t){var o=n.filter((function(t){return t.id!==e.id}));a.updateProject(o)}},a.refreshTask=function(e,t,n){var r=a.state.projects;if("new"===n){var o=r.slice();o[t].tasks.push(e),a.updateProject(o)}else if("edit"===n){var s=r[t].tasks.map((function(t){return t.id===e.id?e:t})),c=r.map((function(e,a){var n=e;return t===a&&(n.tasks=s),n}));a.updateProject(c)}else if("destroy"===n){var i=r[t].tasks.filter((function(t){return t.id!==e.id})),l=r.map((function(e,a){var n=e;return t===a&&(n.tasks=i),n}));a.updateProject(l)}},a.state={resources:[],projects:[],type:"weeks",destroyMode:!1,confirmVisible:!1,confirmType:"",confirmTitle:"",confirmDescription:"",confirm:function(){}},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.getProjectIndex()}},{key:"render",value:function(){var e=this.state,t=e.type,a=e.projects,n=e.resources,o=e.destroyMode,s=e.confirmVisible,c=e.confirmType,i=e.confirmTitle,l=e.confirmDescription,m=e.confirm;return r.a.createElement("div",{className:"App"},r.a.createElement(Y,{getProjectIndex:this.getProjectIndex,refreshProject:this.refreshProject,refreshResource:this.refreshResource,changeMode:this.changeMode}),r.a.createElement("div",{className:"mainContainer"},r.a.createElement(Ce,{resources:n,refreshResource:this.getProjectIndex,scheduleType:t,onClick:this.changeScheduleType}),r.a.createElement("div",{className:"gantt"},r.a.createElement("div",{className:"gantt-index"},r.a.createElement(q,{resources:n,projects:a,updateProject:this.updateProject}),r.a.createElement(se,{refreshProject:this.refreshProject,refreshTask:this.refreshTask,projects:a,mode:o})),r.a.createElement("div",{className:"gantt-schedule"},r.a.createElement("div",{className:"gantt-schedule-header"},r.a.createElement(ve,{scheduleType:t})),r.a.createElement(de,{projects:a,scheduleType:t})))),s&&r.a.createElement(N,{type:c,closeConfirm:this.closeConfirm,title:i,description:l,confirm:m}))}}]),t}(n.PureComponent),Ee=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(h.a)(this,Object(f.a)(t).call(this,e))).handleSignIn=function(){var e=a.state,t=e.email,n=e.password,r=_.buildRequestUrl("/sessions"),o={email:t,password:n};fetch(r,{method:"POST",body:JSON.stringify(o),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){var t=e.result,n=e.token,r=e.errors;t?(localStorage.setItem("token",n),a.setState({isSignIn:!0})):void 0!==r?a.setState({errors:r}):a.openConfirm()})).catch((function(){a.openConfirm()}))},a.openConfirm=function(){return a.setState({confirmVisible:!0})},a.closeConfirm=function(){return a.setState({confirmVisible:!1})},a.emailOnChange=function(e){var t=e.target.value;a.setState({email:t})},a.passwordOnChange=function(e){var t=e.target.value;a.setState({password:t})},a.state={email:"",password:"",isSignIn:!1,errors:[],confirmVisible:!1},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.state,t=e.email,a=e.password,n=e.isSignIn,o=e.errors,s=e.confirmVisible;return n?r.a.createElement(v.a,{to:"/reach"}):r.a.createElement("div",{className:"background"},r.a.createElement("div",{className:"session"},r.a.createElement("div",{className:"session__title"},"Sign in to Reach"),0!==o.length&&r.a.createElement(w,{action:"Authentication",errors:o}),r.a.createElement("input",{type:"text",className:"session__email",placeholder:"Email",value:t,onChange:this.emailOnChange}),r.a.createElement("input",{type:"password",className:"session__password",placeholder:"Password",value:a,onChange:this.passwordOnChange}),r.a.createElement("button",{type:"button",onClick:this.handleSignIn,className:"session__submit"},"Sign In"),r.a.createElement(C.b,{to:"/reach/signup",className:"session__switch"},"Create account")),s&&r.a.createElement(N,{type:"error",closeConfirm:this.closeConfirm,title:D,description:O,confirm:this.closeConfirm}))}}]),t}(n.Component),ge=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(h.a)(this,Object(f.a)(t).call(this,e))).handleSignUp=function(){var e=a.state,t=e.avatar,n=e.name,r=e.email,o=e.password,s=e.passwordConfirmation,c=new FormData;c.append("user[name]",n),c.append("user[email]",r),c.append("user[password]",o),c.append("user[password_confirmation]",s),t&&c.append("user[avatar]",t);var i=_.buildRequestUrl("/users");fetch(i,{method:"POST",body:c}).then((function(e){return e.json()})).then((function(e){var t=e.is_created,n=e.errors,r=e.token;t?(localStorage.setItem("token",r),a.setState({isSignIn:!0})):void 0!==n?a.setState({errors:n}):a.openConfirm()})).catch((function(){a.openConfirm()}))},a.openConfirm=function(){return a.setState({confirmVisible:!0})},a.closeConfirm=function(){return a.setState({confirmVisible:!1})},a.onChangeFile=function(e){var t=e.target.files[0],n=URL.createObjectURL(t);a.setState({uri:n,avatar:t})},a.onChangeName=function(e){var t=e.target.value;a.setState({name:t})},a.onChangeEmail=function(e){var t=e.target.value;a.setState({email:t})},a.onChangePassword=function(e){var t=e.target.value;a.setState({password:t})},a.onChangePasswordConfirmation=function(e){var t=e.target.value;a.setState({passwordConfirmation:t})},a.state={uri:"",avatar:null,name:"",email:"",password:"",passwordConfirmation:"",errors:[],isSignIn:!1,confirmVisible:!1},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.state,t=e.uri,a=e.name,n=e.email,o=e.password,s=e.passwordConfirmation,c=e.errors,i=e.isSignIn,l=e.confirmVisible;return i?r.a.createElement(v.a,{to:"/reach"}):r.a.createElement("div",{className:"background"},r.a.createElement("div",{className:"session"},r.a.createElement("div",{className:"session__title"},"Create account"),0!==c.length&&r.a.createElement(w,{action:"Registration",errors:c}),r.a.createElement("label",{htmlFor:"avatarForm",className:"session__avatar"},r.a.createElement("input",{id:"avatarForm",type:"file",className:"session__fileField",onChange:this.onChangeFile}),""===t?r.a.createElement(g.a,{icon:["fas","user"],className:"session__fileIcon"}):r.a.createElement("img",{src:t,alt:"avatar",className:"session__preview"})),r.a.createElement("div",{className:"session__fileLabel"},"Upload your avatar"),r.a.createElement("input",{type:"text",className:"session__name",placeholder:"Name",value:a,onChange:this.onChangeName}),r.a.createElement("input",{type:"text",className:"session__email",placeholder:"Email",value:n,onChange:this.onChangeEmail}),r.a.createElement("input",{type:"password",className:"session__password",placeholder:"Password",value:o,onChange:this.onChangePassword}),r.a.createElement("input",{type:"password",className:"session__password",placeholder:"Password confirmation",value:s,onChange:this.onChangePasswordConfirmation}),r.a.createElement("button",{type:"button",onClick:this.handleSignUp,className:"session__submit"},"Sign Up"),r.a.createElement(C.b,{to:"/reach/signin",className:"session__switch"},"Move to Sign In")),l&&r.a.createElement(N,{type:"error",closeConfirm:this.closeConfirm,title:D,description:O,confirm:this.closeConfirm}))}}]),t}(n.Component),_e=function(e){function t(e){var a;Object(u.a)(this,t),a=Object(h.a)(this,Object(f.a)(t).call(this,e));var n=null!==localStorage.getItem("token");return a.state={isAuthenticated:n},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return this.state.isAuthenticated?r.a.createElement(ke,null):r.a.createElement(v.a,{to:"/reach/signin"})}}]),t}(n.Component),be=function(){return r.a.createElement(C.a,null,r.a.createElement(v.d,null,r.a.createElement(v.b,{path:"/reach/signin"},r.a.createElement(Ee,null)),r.a.createElement(v.b,{path:"/reach/signup"},r.a.createElement(ge,null)),r.a.createElement(v.b,{exact:!0,path:"/reach"},r.a.createElement(_e,null)),r.a.createElement(v.b,{exact:!0},r.a.createElement(Ee,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.b.add(i.a,l.a,m.a),s.a.render(r.a.createElement(be,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},47:function(e,t,a){},48:function(e,t,a){},62:function(e,t,a){},69:function(e,t,a){e.exports=a(133)},74:function(e,t,a){},81:function(e,t,a){},82:function(e,t,a){},84:function(e,t,a){}},[[69,1,2]]]);
//# sourceMappingURL=main.dde34edc.chunk.js.map